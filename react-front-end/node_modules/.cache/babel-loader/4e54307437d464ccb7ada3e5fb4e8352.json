{"ast":null,"code":"import React from'react';import{Card,CardBody,CardTitle,UncontrolledDropdown,DropdownItem,DropdownToggle,DropdownMenu}from'reactstrap';import IntlMessages from'../../../../helpers/IntlMessages';import{LineChart}from'../../../../components/charts';import{ThemeColors}from'../../../../helpers/ThemeColors';import{chartTooltip}from'../../../../components/charts/util';//import { lineChartOptions } from '../../../../components/charts/config';\nconst moment=require('moment');const colors=ThemeColors();const today=moment();today.add(1,'d').format('DD-MMM');const dateLabel=Array(7).fill().map(()=>today.subtract(1,'d').format('DD-MMM'));let total_last_7=0;const EnergyChartCard=()=>{return/*#__PURE__*/React.createElement(Card,{className:\"dashboard-my-card\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"dashboard.energy\"}),\" (\",abbreviateNumber(total_last_7),\")\"),showEnergyChart&&/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-line-chart\"},/*#__PURE__*/React.createElement(LineChart,{data:EnergyChartData1})),!showEnergyChart&&/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-line-chart\"},/*#__PURE__*/React.createElement(LineChart,{data:EnergyChartData,false:true,lineChartOptions:true}))));};const EnergyChartData1={labels:dateLabel,datasets:[{label:'Complete',data:[0,0,0,0,0,0,0],borderColor:colors.themeColor1,pointBackgroundColor:colors.foregroundColor,pointBorderColor:colors.themeColor1,pointHoverBackgroundColor:colors.themeColor1,pointHoverBorderColor:colors.foregroundColor,pointRadius:6,pointBorderWidth:2,pointHoverRadius:8,fill:false}]};const EnergyChartData={labels:dateLabel,datasets:[{label:'Complete',data:[0,0,0,0,0,0,0],borderColor:colors.themeColor1,pointBackgroundColor:colors.foregroundColor,pointBorderColor:colors.themeColor1,pointHoverBackgroundColor:colors.themeColor1,pointHoverBorderColor:colors.foregroundColor,pointRadius:6,pointBorderWidth:2,pointHoverRadius:8,fill:false}]};let showEnergyChart=true;const setshowEnergyChart=value=>{showEnergyChart=value;};const setEnergyChartData=responseData=>{setshowEnergyChart(true);// lineChartOptions.scales.yAxes[0].ticks.max=1000;\n// lineChartOptions.scales.yAxes[0].ticks.min=1000;\n// lineChartOptions.scales.yAxes[0].ticks.stepSize=1000;\ntotal_last_7=responseData.data.energy_sold.total_last_7;EnergyChartData.labels=responseData.data.energy_sold.date;EnergyChartData.datasets[0].data=responseData.data.energy_sold.data;setshowEnergyChart(false);};const abbreviateNumber=num=>{let fixed=0;if(num===null){return null;}// terminate early\nif(num===0){return'0';}// terminate early\nfixed=!fixed||fixed<0?0:fixed;// number of decimal places to show\nvar b=num.toPrecision(2).split(\"e\"),// get power\nk=b.length===1?0:Math.floor(Math.min(b[1].slice(1),14)/3),// floor at decimals, ceiling at trillions\nc=k<1?num.toFixed(0+fixed):(num/Math.pow(10,k*3)).toFixed(1+fixed),// divide by power\nd=c<0?c:Math.abs(c),// enforce -0 is 0\ne=d+['','K','M','B','T'][k];// append power\nreturn e;};export{EnergyChartCard,setEnergyChartData,setshowEnergyChart};","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/dashboard/manager/EnergyChart.js"],"names":["React","Card","CardBody","CardTitle","UncontrolledDropdown","DropdownItem","DropdownToggle","DropdownMenu","IntlMessages","LineChart","ThemeColors","chartTooltip","moment","require","colors","today","add","format","dateLabel","Array","fill","map","subtract","total_last_7","EnergyChartCard","abbreviateNumber","showEnergyChart","EnergyChartData1","EnergyChartData","labels","datasets","label","data","borderColor","themeColor1","pointBackgroundColor","foregroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","pointRadius","pointBorderWidth","pointHoverRadius","setshowEnergyChart","value","setEnergyChartData","responseData","energy_sold","date","num","fixed","b","toPrecision","split","k","length","Math","floor","min","slice","c","toFixed","pow","d","abs","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownToggle,\n  DropdownMenu,\n} from 'reactstrap';\n\nimport IntlMessages from '../../../../helpers/IntlMessages';\nimport { LineChart } from '../../../../components/charts';\nimport { ThemeColors } from '../../../../helpers/ThemeColors';\nimport { chartTooltip } from '../../../../components/charts/util';\n//import { lineChartOptions } from '../../../../components/charts/config';\n\nconst moment = require('moment');\n\nconst colors = ThemeColors();\n\nconst today = moment();\ntoday.add(1, 'd').format('DD-MMM')\nconst dateLabel = Array(7).fill().map(\n() => today.subtract(1, 'd').format('DD-MMM')\n);\nlet total_last_7=0;\n\nconst EnergyChartCard = () => {\n  return (\n    <Card className=\"dashboard-my-card\">     \n      <CardBody>\n        <CardTitle>\n          <IntlMessages id=\"dashboard.energy\" /> ({abbreviateNumber(total_last_7)})\n        </CardTitle>\n        {showEnergyChart && (\n        <div className=\"dashboard-line-chart\">\n          <LineChart  data={EnergyChartData1} />\n        </div>)}\n        {!showEnergyChart && (\n        <div className=\"dashboard-line-chart\">\n          <LineChart  data={EnergyChartData} false lineChartOptions />\n        </div>)}\n        \n      </CardBody>\n    </Card>\n  );\n};\nconst EnergyChartData1 = {\n  labels: dateLabel,\n  datasets: [\n    {\n      label: 'Complete',\n      data: [0,0,0,0,0,0,0],\n      borderColor: colors.themeColor1,\n      pointBackgroundColor: colors.foregroundColor,\n      pointBorderColor: colors.themeColor1,\n      pointHoverBackgroundColor: colors.themeColor1,\n      pointHoverBorderColor: colors.foregroundColor,\n      pointRadius: 6,\n      pointBorderWidth: 2,\n      pointHoverRadius: 8,\n      fill: false,\n    },\n  ]\n};\n\nconst EnergyChartData = {\n    labels: dateLabel,\n    datasets: [\n      {\n        label: 'Complete',\n        data: [0,0,0,0,0,0,0],\n        borderColor: colors.themeColor1,\n        pointBackgroundColor: colors.foregroundColor,\n        pointBorderColor: colors.themeColor1,\n        pointHoverBackgroundColor: colors.themeColor1,\n        pointHoverBorderColor: colors.foregroundColor,\n        pointRadius: 6,\n        pointBorderWidth: 2,\n        pointHoverRadius: 8,\n        fill: false,\n      },\n    ]\n  };\n  let showEnergyChart=true;\n  const  setshowEnergyChart = (value) => {showEnergyChart=value};\n  const setEnergyChartData = (responseData) => {\n    setshowEnergyChart(true);\n    // lineChartOptions.scales.yAxes[0].ticks.max=1000;\n    // lineChartOptions.scales.yAxes[0].ticks.min=1000;\n    // lineChartOptions.scales.yAxes[0].ticks.stepSize=1000;\n    total_last_7=responseData.data.energy_sold.total_last_7;\n\n    \n    EnergyChartData.labels= responseData.data.energy_sold.date;\n    EnergyChartData.datasets[0].data=responseData.data.energy_sold.data;\n    setshowEnergyChart(false);\n    \n\n  };\n  const abbreviateNumber =(num)=>{\n    let fixed=0;\n     if (num === null) { return null; } // terminate early\n   if (num === 0) { return '0'; } // terminate early\n   fixed = (!fixed || fixed < 0) ? 0 : fixed; // number of decimal places to show\n   var b = (num).toPrecision(2).split(\"e\"), // get power\n       k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions\n       c = k < 1 ? num.toFixed(0 + fixed) : (num / Math.pow(10, k * 3) ).toFixed(1 + fixed), // divide by power\n       d = c < 0 ? c : Math.abs(c), // enforce -0 is 0\n       e = d + ['', 'K', 'M', 'B', 'T'][k]; // append power\n   return e;\n   }\n    \nexport  {EnergyChartCard,setEnergyChartData,setshowEnergyChart};\n"]},"metadata":{},"sourceType":"module"}