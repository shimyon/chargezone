{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\src\\\\views\\\\app\\\\reports\\\\weeklyBillingRef.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Card, CardBody, FormGroup, Label, Input, Table, Button, DropdownItem, DropdownMenu, DropdownToggle, UncontrolledDropdown } from 'reactstrap';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils';\nimport { getStationsAPI, weeklyBillRefReportAPI, downloadWeeklyBillRefReportAPI } from '../../../constants/defaultValues';\nimport axios from 'axios';\nimport { Formik } from 'formik';\n\nconst WeeklyBillingRef = ({}) => {\n  const _useState = useState(1),\n        _useState2 = _slicedToArray(_useState, 2),\n        buttonType = _useState2[0],\n        setButtonType = _useState2[1]; //date states\n\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fromDate = _useState4[0],\n        setFromDate = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        toDate = _useState6[0],\n        setToDate = _useState6[1]; //DTAE ERRORFLAGS\n\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        fromDateError = _useState8[0],\n        setFromDateError = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        toDateError = _useState10[0],\n        setToDateError = _useState10[1]; //time state\n  // const [startTime,setStartTime] = useState();\n  // const [endTime,setEndTime] = useState();\n  //station List\n\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        stationNames = _useState12[0],\n        setStationNames = _useState12[1]; //report\n\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        report = _useState14[0],\n        setReport = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        dates = _useState16[0],\n        setDates = _useState16[1]; //Pagination states\n\n\n  const _useState17 = useState(\"1\"),\n        _useState18 = _slicedToArray(_useState17, 2),\n        pageCount = _useState18[0],\n        setPageCount = _useState18[1];\n\n  const _useState19 = useState(\"1\"),\n        _useState20 = _slicedToArray(_useState19, 2),\n        lastPageCount = _useState20[0],\n        setLastPageCount = _useState20[1]; //state to disable button on click\n\n\n  const _useState21 = useState(false),\n        _useState22 = _slicedToArray(_useState21, 2),\n        buttonDisabled = _useState22[0],\n        setButtonDisabled = _useState22[1]; //loader state\n\n\n  const _useState23 = useState(false),\n        _useState24 = _slicedToArray(_useState23, 2),\n        isLoading = _useState24[0],\n        setIsLoading = _useState24[1]; //params\n\n\n  const _useState25 = useState(null),\n        _useState26 = _slicedToArray(_useState25, 2),\n        reportParams = _useState26[0],\n        setReportParams = _useState26[1];\n\n  useEffect(() => {\n    GetStationNamesAPICall();\n  }, []); //API calls\n\n  const GetStationNamesAPICall = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context.next = 3;\n            return axios.get(getStationsAPI, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setStationNames(responseData.data);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function GetStationNamesAPICall() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getWeeklyBillRefReportAPICall = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            setButtonDisabled(true);\n            setReport([]);\n            setDates([]);\n            setIsLoading(true);\n            currentUser = getCurrentUser();\n            _context2.next = 7;\n            return axios.post(weeklyBillRefReportAPI, params, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setLastPageCount(responseData.data.last_page);\n                setReport(responseData.data.data.energy_data);\n                setDates(responseData.data.data.selected_week_dates);\n              } else {\n                console.log(responseData.msg);\n              }\n\n              setButtonDisabled(false);\n              setIsLoading(false);\n            }).catch(error => {\n              setButtonDisabled(false);\n              setIsLoading(false);\n              console.log(error);\n            });\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function getWeeklyBillRefReportAPICall(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  const downloadWeeklyBillRefReportAPICall = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            setButtonDisabled(true);\n            setIsLoading(true);\n            currentUser = getCurrentUser();\n            _context3.next = 5;\n            return axios.post(downloadWeeklyBillRefReportAPI, params, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                const link = document.createElement('a');\n                link.href = responseData.data.file;\n                document.body.appendChild(link);\n                link.click();\n                document.body.removeChild(link);\n              } else {\n                alert(responseData.msg);\n              }\n\n              setButtonDisabled(false);\n              setIsLoading(false);\n            }).catch(error => {\n              setButtonDisabled(false);\n              setIsLoading(false);\n              console.log(error);\n            });\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function downloadWeeklyBillRefReportAPICall(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); //helper methods\n  //pagination method\n\n\n  const handlePageChange = index => {\n    setPageCount(index + 1);\n    getWeeklyBillRefReportAPICall(reportParams);\n  };\n\n  const renderPageList = () => {\n    const pageNumbers = [];\n\n    for (let i = 0; i < lastPageCount; i += 1) {\n      pageNumbers.push( /*#__PURE__*/React.createElement(DropdownItem, {\n        key: i,\n        onClick: () => handlePageChange(i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, i + 1));\n    }\n\n    return pageNumbers;\n  }; //Forms\n\n\n  const initialValues = {\n    station: \"\"\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"page_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, \"Weekly Billing Report\"), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    onSubmit: values => {\n      let tempFromDate, tempToDate;\n\n      if (fromDate == null || fromDate == \"\" && toDate == null || toDate == \"\") {\n        setFromDateError(true);\n        setToDateError(true);\n        return;\n      } else if (fromDate == null || fromDate == \"\" || toDate == null || toDate == \"\") {\n        if (fromDate == null | fromDate == \"\") {\n          setToDateError(false);\n          setFromDateError(true);\n          return;\n        } else if (toDate == null | toDate == \"\") {\n          setFromDateError(false);\n          setToDateError(true);\n          return;\n        }\n      } else {\n        setFromDateError(false);\n        setToDateError(false);\n        tempFromDate = fromDate.getDate() + \"-\" + (fromDate.getMonth() + 1) + \"-\" + fromDate.getFullYear();\n        tempToDate = toDate.getDate() + \"-\" + (toDate.getMonth() + 1) + \"-\" + toDate.getFullYear();\n      }\n\n      const params = {\n        hub_id: values.station,\n        from_date: tempFromDate,\n        to_date: tempToDate,\n        page: pageCount\n      };\n      setReportParams(params);\n\n      if (buttonType == 1) {\n        getWeeklyBillRefReportAPICall(params);\n      } else {\n        downloadWeeklyBillRefReportAPICall(params);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, ({\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    values,\n    touched,\n    errors\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    lg: 2,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }, \"Station\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"station\",\n    value: values.station,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    key: 0,\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 35\n    }\n  }, \"All Station\"), stationNames.map((item, i) => /*#__PURE__*/React.createElement(\"option\", {\n    key: i,\n    value: item.hub_master_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 37\n    }\n  }, item.name))), errors.station && touched.station && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 35\n    }\n  }, errors.station))), /*#__PURE__*/React.createElement(Colxx, {\n    lg: 3,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }, \"From Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n    placeholderText: \"From Date\",\n    showTimeInput: true,\n    selected: fromDate,\n    onChange: date => setFromDate(date),\n    dateFormat: \"dd/MM/yyyy hh:mm aa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }), fromDateError && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 35\n    }\n  }, \"From date is required\"))), /*#__PURE__*/React.createElement(Colxx, {\n    lg: 3,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 33\n    }\n  }, \"To Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n    placeholderText: \"To Date\",\n    showTimeInput: true,\n    selected: toDate,\n    onChange: date => setToDate(date),\n    dateFormat: \"dd/MM/yyyy hh:mm aa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 33\n    }\n  }), toDateError && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 35\n    }\n  }, \"To date is required\"))), /*#__PURE__*/React.createElement(Colxx, {\n    lg: 4,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"default mt-4 mr-2\",\n    onClick: () => {\n      setButtonType(1);\n      setPageCount(1);\n      handleSubmit();\n    },\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-check font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 35\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 101\n    }\n  }, \"Generate Report\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    className: \"default mt-4\",\n    onClick: () => {\n      setButtonType(2);\n      handleSubmit();\n    },\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 35\n    }\n  }, \"Download Report\")))))))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    sm: 12,\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }, \"Weekly Billing Report\")), report.length > 0 && /*#__PURE__*/React.createElement(Colxx, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right mr-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 25\n    }\n  }, \"Page \"), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    caret: true,\n    color: \"outline-primary\",\n    size: \"xs\",\n    \"data-display\": \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 27\n    }\n  }, pageCount), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdownMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 27\n    }\n  }, renderPageList())), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  }, \" of \"), lastPageCount))), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    bordered: true,\n    striped: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 23\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 23\n    }\n  }, \"Station\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 23\n    }\n  }, \"EV Qr Code\"), dates.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 27\n    }\n  }, dates[0]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 27\n    }\n  }, dates[1]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 27\n    }\n  }, dates[2]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 27\n    }\n  }, dates[3]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 27\n    }\n  }, dates[4]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 27\n    }\n  }, dates[5]), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 27\n    }\n  }, dates[6])) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 27\n    }\n  }, \"Date of Day1\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 27\n    }\n  }, \"Date of Day2\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 27\n    }\n  }, \"Date of Day3\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 27\n    }\n  }, \"Date of Day4\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 27\n    }\n  }, \"Date of Day5\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 27\n    }\n  }, \"Date of Day6\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 27\n    }\n  }, \"Date of Day7\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 23\n    }\n  }, \"Total Energy Supplied\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 23\n    }\n  }, \"Total Amount  Billed\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 19\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    colSpan: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-list-loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 68\n    }\n  }))) : report.length > 0 ? report.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 31\n    }\n  }, pageCount == 1 ? index + 1 : (pageCount - 1) * 10 + index + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 31\n    }\n  }, item.station_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 31\n    }\n  }, item.e_qr_code), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 31\n    }\n  }, item.Day_1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 31\n    }\n  }, item.Day_2), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 31\n    }\n  }, item.Day_3), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 31\n    }\n  }, item.Day_4), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 31\n    }\n  }, item.Day_5), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 31\n    }\n  }, item.Day_6), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 31\n    }\n  }, item.Day_7), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 31\n    }\n  }, item.total_energy_supp), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 31\n    }\n  }, item.total_bill_amount))) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center text-danger\",\n    colSpan: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 27\n    }\n  }, \"Data  Not  Found\")))))))));\n};\n\nexport default WeeklyBillingRef;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/reports/weeklyBillingRef.js"],"names":["React","useState","useEffect","Row","Card","CardBody","FormGroup","Label","Input","Table","Button","DropdownItem","DropdownMenu","DropdownToggle","UncontrolledDropdown","DatePicker","Colxx","Separator","getCurrentUser","getStationsAPI","weeklyBillRefReportAPI","downloadWeeklyBillRefReportAPI","axios","Formik","WeeklyBillingRef","buttonType","setButtonType","fromDate","setFromDate","toDate","setToDate","fromDateError","setFromDateError","toDateError","setToDateError","stationNames","setStationNames","report","setReport","dates","setDates","pageCount","setPageCount","lastPageCount","setLastPageCount","buttonDisabled","setButtonDisabled","isLoading","setIsLoading","reportParams","setReportParams","GetStationNamesAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","getWeeklyBillRefReportAPICall","params","post","last_page","energy_data","selected_week_dates","downloadWeeklyBillRefReportAPICall","link","document","createElement","href","file","body","appendChild","click","removeChild","alert","handlePageChange","index","renderPageList","pageNumbers","i","push","initialValues","station","values","tempFromDate","tempToDate","getDate","getMonth","getFullYear","hub_id","from_date","to_date","page","handleChange","handleBlur","handleSubmit","touched","errors","map","item","hub_master_id","name","date","length","station_name","e_qr_code","Day_1","Day_2","Day_3","Day_4","Day_5","Day_6","Day_7","total_energy_supp","total_bill_amount"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {\n  Row, Card, CardBody, FormGroup, Label,\n  Input, Table,Button,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  UncontrolledDropdown,\n} from 'reactstrap';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {getStationsAPI,weeklyBillRefReportAPI,downloadWeeklyBillRefReportAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport {Formik} from 'formik';\n\nconst WeeklyBillingRef = ({}) => {\n  const [buttonType,setButtonType] = useState(1);\n  //date states\n  const [fromDate,setFromDate] = useState();\n  const [toDate,setToDate] = useState();\n  //DTAE ERRORFLAGS\n  const [fromDateError,setFromDateError] = useState(false);\n  const [toDateError,setToDateError] = useState(false);\n  //time state\n  // const [startTime,setStartTime] = useState();\n  // const [endTime,setEndTime] = useState();\n  //station List\n  const [stationNames,setStationNames] = useState([]);\n  //report\n  const [report,setReport] = useState([]);\n  const [dates,setDates] = useState([]);\n  //Pagination states\n  const [pageCount,setPageCount] = useState(\"1\");\n  const [lastPageCount,setLastPageCount] = useState(\"1\");\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //loader state\n  const [isLoading,setIsLoading] = useState(false);\n  //params\n  const [reportParams,setReportParams] = useState(null);\n\n  useEffect(()=>{\n    GetStationNamesAPICall();\n  },[])\n\n  //API calls\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNames(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getWeeklyBillRefReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setReport([]);\n    setDates([]);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(weeklyBillRefReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setLastPageCount(responseData.data.last_page);\n          setReport(responseData.data.data.energy_data);\n          setDates(responseData.data.data.selected_week_dates);\n        }else{\n            console.log(responseData.msg);\n        }\n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n        console.log(error);\n      })\n  }\n  const downloadWeeklyBillRefReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(downloadWeeklyBillRefReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          const link = document.createElement('a');\n          link.href = responseData.data.file;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        }else{\n          alert(responseData.msg);\n        }  \n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n        console.log(error);\n      })\n  }\n  //helper methods\n  //pagination method\n  const handlePageChange = (index) =>{\n    setPageCount(index+1)\n    getWeeklyBillRefReportAPICall(reportParams);\n  }\n  const renderPageList = () => {\n    const pageNumbers = [];\n    for (let i = 0; i <lastPageCount; i += 1) {\n      pageNumbers.push(\n        <DropdownItem key={i} onClick={()=>handlePageChange(i)}>\n          {i+1}\n        </DropdownItem>\n      );\n    }\n    return pageNumbers;\n  };\n  //Forms\n  const initialValues = {\n    station:\"\",\n  };\n  \n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n          <span className=\"page_title\">Weekly Billing Report</span>\n          <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Formik\n        initialValues={initialValues} \n        onSubmit={(values)=>{\n          let tempFromDate,tempToDate;\n          if (fromDate == null || fromDate ==\"\" && toDate == null || toDate ==\"\") {\n            setFromDateError(true);\n            setToDateError(true);\n            return ;\n          }else if(fromDate == null || fromDate ==\"\" || toDate == null || toDate ==\"\"){\n            if (fromDate == null | fromDate ==\"\") {\n              setToDateError(false);\n              setFromDateError(true);\n              return;\n            }else if(toDate == null | toDate ==\"\"){\n              setFromDateError(false);\n              setToDateError(true);\n              return ;\n            }\n          }else{\n            setFromDateError(false);\n            setToDateError(false);\n            tempFromDate = fromDate.getDate()+\"-\"+(fromDate.getMonth()+1)+\"-\"+fromDate.getFullYear();\n            tempToDate = toDate.getDate()+\"-\"+(toDate.getMonth()+1)+\"-\"+toDate.getFullYear();\n          }\n          const params = {\n            hub_id:values.station,\n            from_date:tempFromDate,\n            to_date:tempToDate,\n            page:pageCount\n          }\n          setReportParams(params)\n          if(buttonType==1){\n            getWeeklyBillRefReportAPICall(params);\n          }else{\n            downloadWeeklyBillRefReportAPICall(params);\n          }\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                    <Card>\n                        <CardBody>\n                          <Row>\n                            <Colxx lg={2} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Station\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"station\"\n                                value={values.station}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                  <option key={0} value={0}>All Station</option>\n                                  {stationNames.map((item,i)=>\n                                    <option key={i} value={item.hub_master_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.station && touched.station &&(\n                                  <span className=\"error\">{errors.station}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  From Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"From Date\"\n                                showTimeInput\n                                selected={fromDate}\n                                onChange={date=>setFromDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                                {fromDateError &&\n                                  <span className=\"error\">{\"From date is required\"}</span>\n                                }\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  To Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"To Date\"\n                                showTimeInput\n                                selected={toDate}\n                                onChange={date=>setToDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                                {toDateError &&\n                                  <span className=\"error\">{\"To date is required\"}</span>\n                                }\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={4} sm={12}>\n                                <Button color=\"primary\" className=\"default mt-4 mr-2\"  onClick={() =>{setButtonType(1);setPageCount(1);handleSubmit();}} disabled={buttonDisabled} >\n                                  <i className=\"glyph-icon simple-icon-check font-weight-bold\"></i> <b>Generate Report</b>\n                                </Button>\n                                <Button color=\"success\" className=\"default mt-4\"  onClick={() =>{setButtonType(2);handleSubmit();}} disabled={buttonDisabled} >\n                                  <b>Download Report</b>\n                                </Button>\n                            </Colxx>\n                          </Row>\n                        </CardBody>\n                    </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n      <Row>\n          <Colxx sm={12} lg={12}>\n            <Card>\n              <CardBody>\n                <Row>\n                  <Colxx md=\"6\">\n                  <h3>Weekly Billing Report</h3>\n                  </Colxx>\n                  {report.length>0 &&\n                    <Colxx md=\"6\">\n                      <div className=\"text-right mr-2 \">\n                        <span>Page </span>\n                        <UncontrolledDropdown className=\"d-inline-block\">\n                          <DropdownToggle caret color=\"outline-primary\" size=\"xs\" data-display=\"static\">\n                            {pageCount}\n                          </DropdownToggle>\n                          <DropdownMenu className=\"dropdownMenu\">\n                            {renderPageList()}\n                          </DropdownMenu>\n                        </UncontrolledDropdown>\n                        <span> of </span>\n                        {lastPageCount}\n                      </div>\n                    </Colxx>\n                  }\n                </Row>\n                <Table responsive bordered striped>\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th>Station</th>\n                      <th>EV Qr Code</th>\n                      {dates.length>0?\n                        <>\n                          <th>{dates[0]}</th>\n                          <th>{dates[1]}</th>\n                          <th>{dates[2]}</th>\n                          <th>{dates[3]}</th>\n                          <th>{dates[4]}</th>\n                          <th>{dates[5]}</th>\n                          <th>{dates[6]}</th>\n                        </>:\n                        <>\n                          <th>Date of Day1</th>\n                          <th>Date of Day2</th>\n                          <th>Date of Day3</th>\n                          <th>Date of Day4</th>\n                          <th>Date of Day5</th>\n                          <th>Date of Day6</th>\n                          <th>Date of Day7</th>\n                        </>\n                      }\n                      <th>Total Energy Supplied</th>\n                      <th>Total Amount  Billed</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {isLoading ?\n                      <tr>\n                          <td className=\"text-center\" colSpan=\"12\"><div className=\"custom-list-loading\" /></td>\n                      </tr> : \n                      report.length > 0 ?\n                          report.map((item,index)=>\n                            <tr key={index}>\n                              <th scope=\"row\">{pageCount==1?index+1:(pageCount-1)*10+index +1}</th>\n                              <td>{item.station_name}</td>\n                              <td>{item.e_qr_code}</td>\n                              <td>{item.Day_1}</td>\n                              <td>{item.Day_2}</td>\n                              <td>{item.Day_3}</td>\n                              <td>{item.Day_4}</td>\n                              <td>{item.Day_5}</td>\n                              <td>{item.Day_6}</td>\n                              <td>{item.Day_7}</td>\n                              <td>{item.total_energy_supp}</td>\n                              <td>{item.total_bill_amount}</td>\n                            </tr>\n                          ):<tr>\n                          <td className=\"text-center text-danger\" colSpan=\"12\">Data  Not  Found</td>\n                      </tr>\n                  }\n                  </tbody>\n                </Table>\n              </CardBody>\n            </Card>\n          </Colxx>\n      </Row>\n    </>\n  );\n};\n\nexport default WeeklyBillingRef;"]},"metadata":{},"sourceType":"module"}