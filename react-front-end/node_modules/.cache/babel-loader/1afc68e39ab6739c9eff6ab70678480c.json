{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\src\\\\views\\\\app\\\\pages\\\\UpdateEv.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, FormGroup, Card, CardBody, Label, Input, Button, Alert } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils';\nimport { updateEvAPI, getEvByIdAPI, adminRoot, getFleetOperatorAPI } from '../../../constants/defaultValues';\nimport axios from 'axios';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\n\nconst UpdateEv = () => {\n  const history = useHistory();\n  const location = useLocation(); //states\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        vehicleModel = _useState2[0],\n        setVehicleModel = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        vehicleMake = _useState4[0],\n        setVehicleMake = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        vehicleType = _useState6[0],\n        setVehicleType = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        batteryCapacity = _useState8[0],\n        setBatteryCapacity = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        fleetOwner = _useState10[0],\n        setFleetOwner = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        evDriver = _useState12[0],\n        setEvDriver = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        remark1 = _useState14[0],\n        setRemark1 = _useState14[1];\n\n  const _useState15 = useState(\"\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        remark2 = _useState16[0],\n        setRemark2 = _useState16[1]; //alert states\n\n\n  const _useState17 = useState(false),\n        _useState18 = _slicedToArray(_useState17, 2),\n        alertVisible = _useState18[0],\n        setAlertVisible = _useState18[1];\n\n  const _useState19 = useState(\"\"),\n        _useState20 = _slicedToArray(_useState19, 2),\n        alertMsg = _useState20[0],\n        setAlertMsg = _useState20[1];\n\n  const _useState21 = useState(\"\"),\n        _useState22 = _slicedToArray(_useState21, 2),\n        alertColor = _useState22[0],\n        setAlertColor = _useState22[1]; //state to disable button on click\n\n\n  const _useState23 = useState(false),\n        _useState24 = _slicedToArray(_useState23, 2),\n        buttonDisabled = _useState24[0],\n        setButtonDisabled = _useState24[1];\n\n  const _useState25 = useState([]),\n        _useState26 = _slicedToArray(_useState25, 2),\n        fleetOpNames = _useState26[0],\n        setFleetOpNames = _useState26[1];\n\n  useEffect(() => {\n    GetFleetOperatorAPICall();\n    getEvByIdAPICall();\n  }, []); //API calls\n\n  const GetFleetOperatorAPICall = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context.next = 3;\n            return axios.get(getFleetOperatorAPI, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setFleetOpNames(responseData.data);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function GetFleetOperatorAPICall() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getEvByIdAPICall = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context2.next = 3;\n            return axios.post(getEvByIdAPI, {\n              ev_master_id: location.state.ev_master_id\n            }, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setVehicleModel(responseData.data.vehicle_model);\n                setVehicleMake(responseData.data.vehicle_make);\n                setVehicleType(responseData.data.vehicle_type);\n                setBatteryCapacity(responseData.data.battery_capacity);\n                setFleetOwner(responseData.data.fleet_owner_id);\n                setEvDriver(JSON.parse(responseData.data.all_data).ev_driver);\n                responseData.data.remark_1 != null ? setRemark1(responseData.data.remark_1) : setRemark1(\"\");\n                responseData.data.remark_2 != null ? setRemark2(responseData.data.remark_2) : setRemark2(\"\");\n              } else {\n                evUpdatedAlert(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function getEvByIdAPICall() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  const updateEvAPICall = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            setButtonDisabled(true);\n            currentUser = getCurrentUser();\n            _context3.next = 4;\n            return axios.post(updateEvAPI, params, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                history.push({\n                  pathname: adminRoot + '/pages/ev',\n                  state: {\n                    responseStatus: responseData.status,\n                    responseMsg: responseData.msg\n                  }\n                });\n              } else {\n                setButtonDisabled(false);\n                evUpdatedAlert(responseData.msg);\n              }\n            }).catch(error => {\n              setButtonDisabled(false);\n              console.log(error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function updateEvAPICall(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); //helper methods\n  //Alert helper methods\n\n\n  const evUpdatedAlert = msg => {\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  };\n\n  const onDismissAlert = () => {\n    setAlertVisible(false);\n  }; //Form Validation Schema\n\n\n  const EvDetailsValidationSchema = yup.object().shape({\n    vehicle_model: yup.string().required(\"Vehicle Model is required\"),\n    vehicle_make: yup.string().required(\"Vehicle Make is required\"),\n    vehicle_type: yup.string().required(\"Vehicle Type is required\"),\n    battery_capacity: yup.string().matches(/^\\d+$/, \"Only numbers allowed\").required(\"Battery Capacity is required\"),\n    fleet_owner_id: yup.string().nullable().required(\"Fleet Owner is required\")\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"page_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"Update EV\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"ev\",\n    className: \"btn-primary default btn-sm float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 20\n    }\n  }), \" EV List\")), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5 mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Formik, {\n    enableReinitialize: true,\n    initialValues: {\n      vehicle_model: vehicleModel,\n      vehicle_make: vehicleMake,\n      vehicle_type: vehicleType,\n      battery_capacity: batteryCapacity,\n      fleet_owner_id: fleetOwner,\n      ev_driver: evDriver,\n      remark_1: remark1,\n      remark_2: remark2\n    },\n    validationSchema: EvDetailsValidationSchema,\n    onSubmit: values => {\n      const tempAllData = {\n        ev_driver: values.ev_driver\n      };\n      const params = {\n        ev_master_id: location.state.ev_master_id,\n        vehicle_model: values.vehicle_model,\n        vehicle_make: values.vehicle_make,\n        vehicle_type: values.vehicle_type,\n        battery_capacity: values.battery_capacity,\n        fleet_owner_id: values.fleet_owner_id,\n        all_data: JSON.stringify(tempAllData),\n        remark_1: values.remark_1,\n        remark_2: values.remark_2\n      };\n      updateEvAPICall(params);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, ({\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    values,\n    touched,\n    errors\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertColor,\n    isOpen: alertVisible,\n    toggle: onDismissAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 31\n    }\n  }, alertMsg)), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, \"Vehicle Model\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Model\",\n    name: \"vehicle_model\",\n    value: values.vehicle_model,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_model && touched.vehicle_model ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }), errors.vehicle_model && touched.vehicle_model && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 35\n    }\n  }, errors.vehicle_model))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 33\n    }\n  }, \"Vehicle Make\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Make\",\n    value: values.vehicle_make,\n    name: \"vehicle_make\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_make && touched.vehicle_make ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  }), errors.vehicle_make && touched.vehicle_make && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 35\n    }\n  }, errors.vehicle_make))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }, \"Vehicle Type\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Type\",\n    name: \"vehicle_type\",\n    value: values.vehicle_type,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_type && touched.vehicle_type ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 33\n    }\n  }), errors.vehicle_type && touched.vehicle_type && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 35\n    }\n  }, errors.vehicle_type))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, \"Battery Capacity\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    placeholder: \"Battery Capacity\",\n    name: \"battery_capacity\",\n    value: values.battery_capacity,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.battery_capacity && touched.battery_capacity ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 33\n    }\n  }), errors.battery_capacity && touched.battery_capacity && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 35\n    }\n  }, errors.battery_capacity))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 33\n    }\n  }, \"Fleet Owner\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"fleet_owner_id\",\n    value: values.fleet_owner_id,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    key: \"\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 35\n    }\n  }, \"All Fleet\"), fleetOpNames.map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: item.fleet_operator_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 37\n    }\n  }, item.name))), errors.fleet_owner_id && touched.fleet_owner_id && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 35\n    }\n  }, errors.fleet_owner_id))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 33\n    }\n  }, \"EV Driver\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"EV Driver\",\n    name: \"ev_driver\",\n    value: values.ev_driver,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.ev_driver && touched.ev_driver ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 33\n    }\n  }, \"Remark 1\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"remark_1\",\n    placeholder: \"Remark 1\",\n    value: values.remark_1,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 33\n    }\n  }, \"Remark 2\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"remark_2\",\n    placeholder: \"Remark 2\",\n    value: values.remark_2,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"default mr-2\",\n    onClick: handleSubmit,\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 35\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"light\",\n    className: \"default\",\n    onClick: () => {\n      history.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 35\n    }\n  }, \"Cancel\")))))))))));\n};\n\nexport default UpdateEv;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone/react-front-end/src/views/app/pages/UpdateEv.js"],"names":["React","useState","useEffect","Row","FormGroup","Card","CardBody","Label","Input","Button","Alert","Colxx","Separator","getCurrentUser","updateEvAPI","getEvByIdAPI","adminRoot","getFleetOperatorAPI","axios","useHistory","useLocation","Formik","yup","UpdateEv","history","location","vehicleModel","setVehicleModel","vehicleMake","setVehicleMake","vehicleType","setVehicleType","batteryCapacity","setBatteryCapacity","fleetOwner","setFleetOwner","evDriver","setEvDriver","remark1","setRemark1","remark2","setRemark2","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","buttonDisabled","setButtonDisabled","fleetOpNames","setFleetOpNames","GetFleetOperatorAPICall","getEvByIdAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","post","ev_master_id","state","vehicle_model","vehicle_make","vehicle_type","battery_capacity","fleet_owner_id","JSON","parse","all_data","ev_driver","remark_1","remark_2","evUpdatedAlert","updateEvAPICall","params","push","pathname","responseStatus","responseMsg","onDismissAlert","EvDetailsValidationSchema","object","shape","string","required","matches","nullable","values","tempAllData","stringify","handleChange","handleBlur","handleSubmit","touched","errors","map","item","index","fleet_operator_id","name","goBack"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row, FormGroup, Card, CardBody,\n  Label,Input, Button,Alert\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {updateEvAPI,getEvByIdAPI,adminRoot,getFleetOperatorAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport { useHistory,useLocation } from \"react-router-dom\";\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\n\n\nconst UpdateEv = () => {\n  const history = useHistory();\n  const location = useLocation();\n  //states\n  const [vehicleModel,setVehicleModel] = useState(\"\");\n  const [vehicleMake,setVehicleMake] = useState(\"\");\n  const [vehicleType,setVehicleType] = useState(\"\");\n  const [batteryCapacity,setBatteryCapacity] = useState(\"\");\n  const [fleetOwner,setFleetOwner] = useState(\"\");\n  const [evDriver,setEvDriver] = useState(\"\");\n  const [remark1,setRemark1] = useState(\"\");\n  const [remark2,setRemark2] = useState(\"\");\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  const [fleetOpNames,setFleetOpNames] = useState([]); \n\n  useEffect(()=>{\n      GetFleetOperatorAPICall();\n      getEvByIdAPICall();\n  },[])\n\n  //API calls\n  const GetFleetOperatorAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getFleetOperatorAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n        if (responseData.status === 1) {\n         setFleetOpNames(responseData.data);\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n    const getEvByIdAPICall = async() => {\n        const currentUser = getCurrentUser();\n        await axios.post(getEvByIdAPI,\n        {\n            ev_master_id:location.state.ev_master_id\n        },\n        {headers:{Authorization: `Bearer ${currentUser.token}`}})\n        .then(response=>{\n            const responseData = response.data;\n            if (responseData.status === 1) {\n                setVehicleModel(responseData.data.vehicle_model);\n                setVehicleMake(responseData.data.vehicle_make);\n                setVehicleType(responseData.data.vehicle_type);\n                setBatteryCapacity(responseData.data.battery_capacity);\n                setFleetOwner(responseData.data.fleet_owner_id);\n                setEvDriver(JSON.parse(responseData.data.all_data).ev_driver);\n                (responseData.data.remark_1!=null)?setRemark1(responseData.data.remark_1):setRemark1(\"\");\n                (responseData.data.remark_2!=null)?setRemark2(responseData.data.remark_2):setRemark2(\"\");\n            }else{\n              evUpdatedAlert(responseData.msg);\n            }\n        }).catch(error=>{\n            console.log(error);\n        })\n    }\n    const updateEvAPICall = async(params) => {\n        setButtonDisabled(true);\n        const currentUser = getCurrentUser();\n        await axios.post(updateEvAPI,\n        params,\n        {headers:{Authorization: `Bearer ${currentUser.token}`}})\n        .then(response=>{\n            const responseData = response.data;\n            if (responseData.status === 1) {\n              history.push({\n                pathname:adminRoot+'/pages/ev',\n                state:{\n                  responseStatus:responseData.status,\n                  responseMsg:responseData.msg\n                }\n              })\n            }else{\n              setButtonDisabled(false);\n              evUpdatedAlert(responseData.msg);\n            }\n        }).catch(error=>{\n            setButtonDisabled(false);\n            console.log(error);\n        })\n    }\n\n  //helper methods\n  //Alert helper methods\n  const evUpdatedAlert = (msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n  //Form Validation Schema\n  const EvDetailsValidationSchema = yup.object().shape({\n    vehicle_model:yup.string()\n        .required(\"Vehicle Model is required\"),\n    vehicle_make:yup.string()\n        .required(\"Vehicle Make is required\"),\n    vehicle_type:yup.string()\n        .required(\"Vehicle Type is required\"),\n    battery_capacity:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"Battery Capacity is required\"),\n    fleet_owner_id:yup.string()\n        .nullable()\n        .required(\"Fleet Owner is required\"),\n  });\n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Update EV</span>\n            <a href=\"ev\" className=\"btn-primary default btn-sm float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> EV List</b>\n            </a>\n          <Separator className=\"mb-5 mt-1\" />\n        </Colxx>\n      </Row>\n      <Formik\n      enableReinitialize ={true}\n        initialValues={{\n            vehicle_model:vehicleModel,\n            vehicle_make:vehicleMake,\n            vehicle_type:vehicleType,\n            battery_capacity:batteryCapacity,\n            fleet_owner_id:fleetOwner,\n            ev_driver:evDriver,\n            remark_1:remark1,\n            remark_2:remark2\n        }}\n        validationSchema={EvDetailsValidationSchema} \n        onSubmit={(values)=>{\n          const tempAllData = {ev_driver:values.ev_driver}\n          const params = {\n            ev_master_id: location.state.ev_master_id,\n            vehicle_model:values.vehicle_model,\n            vehicle_make:values.vehicle_make,\n            vehicle_type:values.vehicle_type,\n            battery_capacity:values.battery_capacity,\n            fleet_owner_id:values.fleet_owner_id,\n            all_data:JSON.stringify(tempAllData),\n            remark_1:values.remark_1,\n            remark_2:values.remark_2,\n          }\n          updateEvAPICall(params);\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                  <Card className=\"mb-4\">\n                      <CardBody> \n                          <Row>\n                            <Colxx md=\"12\">\n                              <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert}>\n                                {alertMsg}\n                              </Alert>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Vehicle Model\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Model\"\n                                  name=\"vehicle_model\"\n                                  value={values.vehicle_model}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_model && touched.vehicle_model ? \"input-error\":null}\n                                />\n                                {errors.vehicle_model && touched.vehicle_model &&(\n                                  <span className=\"error\">{errors.vehicle_model}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Vehicle Make\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Make\"\n                                  value={values.vehicle_make}\n                                  name=\"vehicle_make\"\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_make && touched.vehicle_make ? \"input-error\":null}\n                                />\n                                {errors.vehicle_make && touched.vehicle_make &&(\n                                  <span className=\"error\">{errors.vehicle_make}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                Vehicle Type\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Type\"\n                                  name=\"vehicle_type\"\n                                  value={values.vehicle_type}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_type && touched.vehicle_type ? \"input-error\":null}\n                                />\n                                {errors.vehicle_type && touched.vehicle_type &&(\n                                  <span className=\"error\">{errors.vehicle_type}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                Battery Capacity\n                                </Label>\n                                <Input\n                                  type=\"number\"\n                                  placeholder=\"Battery Capacity\"\n                                  name=\"battery_capacity\"\n                                  value={values.battery_capacity}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.battery_capacity && touched.battery_capacity ? \"input-error\":null}\n                                />\n                                {errors.battery_capacity && touched.battery_capacity &&(\n                                  <span className=\"error\">{errors.battery_capacity}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Fleet Owner\n                                </Label>\n                                <Input \n                                  type=\"select\"\n                                  name=\"fleet_owner_id\"\n                                  value={values.fleet_owner_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option key=\"\" value=\"\">All Fleet</option>\n                                  {fleetOpNames.map((item,index)=>\n                                    <option key={index} value={item.fleet_operator_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.fleet_owner_id && touched.fleet_owner_id &&(\n                                  <span className=\"error\">{errors.fleet_owner_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  EV Driver\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"EV Driver\"\n                                  name=\"ev_driver\"\n                                  value={values.ev_driver}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.ev_driver && touched.ev_driver ? \"input-error\":null}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Remark 1\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_1\"\n                                  placeholder=\"Remark 1\"\n                                  value={values.remark_1}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                  Remark 2\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_2\"\n                                  placeholder=\"Remark 2\"\n                                  value={values.remark_2}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                          </Row>\n                          <Row>\n                            <Colxx md=\"12\" className=\"text-center\">\n                              <Button color=\"primary\" className=\"default mr-2\" onClick={handleSubmit} disabled={buttonDisabled}>\n                                  <b>Update</b>\n                              </Button>\n                              <Button color=\"light\" className=\"default\" onClick={()=>{history.goBack()}}>\n                                  <b>Cancel</b>\n                              </Button>\n                            </Colxx>\n                          </Row>\n                      </CardBody>\n                      </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>  \n    </>\n  );\n};\n\nexport default UpdateEv;"]},"metadata":{},"sourceType":"module"}