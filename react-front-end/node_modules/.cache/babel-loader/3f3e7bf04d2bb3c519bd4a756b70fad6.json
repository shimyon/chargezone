{"ast":null,"code":"import _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\src\\\\views\\\\user\\\\reset-password.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Card, CardTitle, Label, FormGroup, Button } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\nimport { Formik, Form, Field } from 'formik';\nimport { connect } from 'react-redux';\nimport { Colxx } from '../../components/common/CustomBootstrap';\nimport IntlMessages from '../../helpers/IntlMessages';\nimport { resetPassword } from '../../redux/actions';\nimport { NotificationManager } from '../../components/common/react-notifications';\n\nconst validateNewPassword = values => {\n  const newPassword = values.newPassword,\n        newPasswordAgain = values.newPasswordAgain;\n  const errors = {};\n\n  if (newPasswordAgain && newPassword !== newPasswordAgain) {\n    errors.newPasswordAgain = 'Please check your new password';\n  }\n\n  return errors;\n};\n\nconst ResetPassword = ({\n  location,\n  history,\n  loading,\n  error,\n  resetPasswordAction\n}) => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 1),\n        newPassword = _useState2[0];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 1),\n        newPasswordAgain = _useState4[0];\n\n  useEffect(() => {\n    if (error) {\n      NotificationManager.warning(error, 'Forgot Password Error', 3000, null, null, '');\n    } else if (!loading && newPassword === 'success') NotificationManager.success('Please login with your new password.', 'Reset Password Success', 3000, null, null, '');\n  }, [error, loading, newPassword]);\n\n  const onResetPassword = values => {\n    if (!loading) {\n      const params = new URLSearchParams(location.search);\n      const oobCode = params.get('oobCode');\n\n      if (oobCode) {\n        if (values.newPassword !== '') {\n          resetPasswordAction({\n            newPassword: values.newPassword,\n            resetPasswordCode: oobCode,\n            history\n          });\n        }\n      } else {\n        NotificationManager.warning('Please check your email url.', 'Reset Password Error', 3000, null, null, '');\n      }\n    }\n  };\n\n  const initialValues = {\n    newPassword,\n    newPasswordAgain\n  };\n  return /*#__PURE__*/React.createElement(Row, {\n    className: \"h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    md: \"10\",\n    className: \"mx-auto my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"auth-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position-relative image-side \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"MAGIC IS IN THE DETAILS\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"white mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Please use your e-mail to reset your password. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 62\n    }\n  }), \"If you are not a member, please\", ' ', /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/register\",\n    className: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"register\"), \".\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/\",\n    className: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"logo-single\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(CardTitle, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"user.reset-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Formik, {\n    validate: validateNewPassword,\n    initialValues: initialValues,\n    onSubmit: onResetPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, ({\n    errors,\n    touched\n  }) => /*#__PURE__*/React.createElement(Form, {\n    className: \"av-tooltip tooltip-label-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"form-group has-float-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"user.new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Field, {\n    className: \"form-control\",\n    name: \"newPassword\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"form-group has-float-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"user.new-password-again\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Field, {\n    className: \"form-control\",\n    name: \"newPasswordAgain\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }), errors.newPasswordAgain && touched.newPasswordAgain && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 23\n    }\n  }, errors.newPasswordAgain)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/user/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"user.login-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-shadow btn-multiple-state \".concat(loading ? 'show-spinner' : ''),\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spinner d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bounce1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bounce2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bounce3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"user.reset-password-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }))))))))));\n};\n\nconst mapStateToProps = ({\n  authUser\n}) => {\n  const newPassword = authUser.newPassword,\n        resetPasswordCode = authUser.resetPasswordCode,\n        loading = authUser.loading,\n        error = authUser.error;\n  return {\n    newPassword,\n    resetPasswordCode,\n    loading,\n    error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  resetPasswordAction: resetPassword\n})(ResetPassword);","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/user/reset-password.js"],"names":["React","useState","useEffect","Row","Card","CardTitle","Label","FormGroup","Button","NavLink","Formik","Form","Field","connect","Colxx","IntlMessages","resetPassword","NotificationManager","validateNewPassword","values","newPassword","newPasswordAgain","errors","ResetPassword","location","history","loading","error","resetPasswordAction","warning","success","onResetPassword","params","URLSearchParams","search","oobCode","get","resetPasswordCode","initialValues","touched","mapStateToProps","authUser"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,SAApB,EAA+BC,KAA/B,EAAsCC,SAAtC,EAAiDC,MAAjD,QAA+D,YAA/D;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,QAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,yCAAtB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,mBAAT,QAAoC,6CAApC;;AAEA,MAAMC,mBAAmB,GAAIC,MAAD,IAAY;AAAA,QAC9BC,WAD8B,GACID,MADJ,CAC9BC,WAD8B;AAAA,QACjBC,gBADiB,GACIF,MADJ,CACjBE,gBADiB;AAEtC,QAAMC,MAAM,GAAG,EAAf;;AACA,MAAID,gBAAgB,IAAID,WAAW,KAAKC,gBAAxC,EAA0D;AACxDC,IAAAA,MAAM,CAACD,gBAAP,GAA0B,gCAA1B;AACD;;AACD,SAAOC,MAAP;AACD,CAPD;;AASA,MAAMC,aAAa,GAAG,CAAC;AACrBC,EAAAA,QADqB;AAErBC,EAAAA,OAFqB;AAGrBC,EAAAA,OAHqB;AAIrBC,EAAAA,KAJqB;AAKrBC,EAAAA;AALqB,CAAD,KAMhB;AAAA,oBACkB3B,QAAQ,CAAC,EAAD,CAD1B;AAAA;AAAA,QACGmB,WADH;;AAAA,qBAEuBnB,QAAQ,CAAC,EAAD,CAF/B;AAAA;AAAA,QAEGoB,gBAFH;;AAIJnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyB,KAAJ,EAAW;AACTV,MAAAA,mBAAmB,CAACY,OAApB,CACEF,KADF,EAEE,uBAFF,EAGE,IAHF,EAIE,IAJF,EAKE,IALF,EAME,EANF;AAQD,KATD,MASO,IAAI,CAACD,OAAD,IAAYN,WAAW,KAAK,SAAhC,EACLH,mBAAmB,CAACa,OAApB,CACE,sCADF,EAEE,wBAFF,EAGE,IAHF,EAIE,IAJF,EAKE,IALF,EAME,EANF;AAQH,GAnBQ,EAmBN,CAACH,KAAD,EAAQD,OAAR,EAAiBN,WAAjB,CAnBM,CAAT;;AAqBA,QAAMW,eAAe,GAAIZ,MAAD,IAAY;AAClC,QAAI,CAACO,OAAL,EAAc;AACZ,YAAMM,MAAM,GAAG,IAAIC,eAAJ,CAAoBT,QAAQ,CAACU,MAA7B,CAAf;AACA,YAAMC,OAAO,GAAGH,MAAM,CAACI,GAAP,CAAW,SAAX,CAAhB;;AACA,UAAID,OAAJ,EAAa;AACX,YAAIhB,MAAM,CAACC,WAAP,KAAuB,EAA3B,EAA+B;AAC7BQ,UAAAA,mBAAmB,CAAC;AAClBR,YAAAA,WAAW,EAAED,MAAM,CAACC,WADF;AAElBiB,YAAAA,iBAAiB,EAAEF,OAFD;AAGlBV,YAAAA;AAHkB,WAAD,CAAnB;AAKD;AACF,OARD,MAQO;AACLR,QAAAA,mBAAmB,CAACY,OAApB,CACE,8BADF,EAEE,sBAFF,EAGE,IAHF,EAIE,IAJF,EAKE,IALF,EAME,EANF;AAQD;AACF;AACF,GAvBD;;AAyBA,QAAMS,aAAa,GAAG;AAAElB,IAAAA,WAAF;AAAeC,IAAAA;AAAf,GAAtB;AAEA,sBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,IAAX;AAAgB,IAAA,EAAE,EAAC,IAAnB;AAAwB,IAAA,SAAS,EAAC,iBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,eAEE;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEACiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjD,qCAEkC,GAFlC,eAGE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,WAAZ;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,MAFF,CADF,eAYE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,GAAZ;AAAgB,IAAA,SAAS,EAAC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,eAQE,oBAAC,MAAD;AACE,IAAA,QAAQ,EAAEH,mBADZ;AAEE,IAAA,aAAa,EAAEoB,aAFjB;AAGE,IAAA,QAAQ,EAAEP,eAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKG,CAAC;AAAET,IAAAA,MAAF;AAAUiB,IAAAA;AAAV,GAAD,kBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,iCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,4BAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF,eAWE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,4BAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,IAAI,EAAC,kBAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EASGjB,MAAM,CAACD,gBAAP,IAA2BkB,OAAO,CAAClB,gBAAnC,iBACC;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,MAAM,CAACD,gBADV,CAVJ,CAXF,eA2BE;AAAK,IAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,SAAS,0CACPK,OAAO,GAAG,cAAH,GAAoB,EADpB,CAFX;AAKE,IAAA,IAAI,EAAC,IALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE;AAAM,IAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAPF,eAYE;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,4BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZF,CAJF,CA3BF,CANJ,CARF,CAZF,CADF,CADF,CADF;AAqFD,CA/ID;;AAiJA,MAAMc,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA,QAChCrB,WADgC,GACmBqB,QADnB,CAChCrB,WADgC;AAAA,QACnBiB,iBADmB,GACmBI,QADnB,CACnBJ,iBADmB;AAAA,QACAX,OADA,GACmBe,QADnB,CACAf,OADA;AAAA,QACSC,KADT,GACmBc,QADnB,CACSd,KADT;AAExC,SAAO;AAAEP,IAAAA,WAAF;AAAeiB,IAAAA,iBAAf;AAAkCX,IAAAA,OAAlC;AAA2CC,IAAAA;AAA3C,GAAP;AACD,CAHD;;AAKA,eAAed,OAAO,CAAC2B,eAAD,EAAkB;AACtCZ,EAAAA,mBAAmB,EAAEZ;AADiB,CAAlB,CAAP,CAEZO,aAFY,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Row, Card, CardTitle, Label, FormGroup, Button } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\nimport { Formik, Form, Field } from 'formik';\nimport { connect } from 'react-redux';\nimport { Colxx } from '../../components/common/CustomBootstrap';\nimport IntlMessages from '../../helpers/IntlMessages';\nimport { resetPassword } from '../../redux/actions';\nimport { NotificationManager } from '../../components/common/react-notifications';\n\nconst validateNewPassword = (values) => {\n  const { newPassword, newPasswordAgain } = values;\n  const errors = {};\n  if (newPasswordAgain && newPassword !== newPasswordAgain) {\n    errors.newPasswordAgain = 'Please check your new password';\n  }\n  return errors;\n};\n\nconst ResetPassword = ({\n  location,\n  history,\n  loading,\n  error,\n  resetPasswordAction,\n}) => {\n  const [newPassword] = useState('');\n  const [newPasswordAgain] = useState('');\n\n  useEffect(() => {\n    if (error) {\n      NotificationManager.warning(\n        error,\n        'Forgot Password Error',\n        3000,\n        null,\n        null,\n        ''\n      );\n    } else if (!loading && newPassword === 'success')\n      NotificationManager.success(\n        'Please login with your new password.',\n        'Reset Password Success',\n        3000,\n        null,\n        null,\n        ''\n      );\n  }, [error, loading, newPassword]);\n\n  const onResetPassword = (values) => {\n    if (!loading) {\n      const params = new URLSearchParams(location.search);\n      const oobCode = params.get('oobCode');\n      if (oobCode) {\n        if (values.newPassword !== '') {\n          resetPasswordAction({\n            newPassword: values.newPassword,\n            resetPasswordCode: oobCode,\n            history,\n          });\n        }\n      } else {\n        NotificationManager.warning(\n          'Please check your email url.',\n          'Reset Password Error',\n          3000,\n          null,\n          null,\n          ''\n        );\n      }\n    }\n  };\n\n  const initialValues = { newPassword, newPasswordAgain };\n\n  return (\n    <Row className=\"h-100\">\n      <Colxx xxs=\"12\" md=\"10\" className=\"mx-auto my-auto\">\n        <Card className=\"auth-card\">\n          <div className=\"position-relative image-side \">\n            <p className=\"text-white h2\">MAGIC IS IN THE DETAILS</p>\n            <p className=\"white mb-0\">\n              Please use your e-mail to reset your password. <br />\n              If you are not a member, please{' '}\n              <NavLink to=\"/register\" className=\"white\">\n                register\n              </NavLink>\n              .\n            </p>\n          </div>\n          <div className=\"form-side\">\n            <NavLink to=\"/\" className=\"white\">\n              <span className=\"logo-single\" />\n            </NavLink>\n            <CardTitle className=\"mb-4\">\n              <IntlMessages id=\"user.reset-password\" />\n            </CardTitle>\n\n            <Formik\n              validate={validateNewPassword}\n              initialValues={initialValues}\n              onSubmit={onResetPassword}\n            >\n              {({ errors, touched }) => (\n                <Form className=\"av-tooltip tooltip-label-bottom\">\n                  <FormGroup className=\"form-group has-float-label\">\n                    <Label>\n                      <IntlMessages id=\"user.new-password\" />\n                    </Label>\n                    <Field\n                      className=\"form-control\"\n                      name=\"newPassword\"\n                      type=\"password\"\n                    />\n                  </FormGroup>\n                  <FormGroup className=\"form-group has-float-label\">\n                    <Label>\n                      <IntlMessages id=\"user.new-password-again\" />\n                    </Label>\n                    <Field\n                      className=\"form-control\"\n                      name=\"newPasswordAgain\"\n                      type=\"password\"\n                    />\n                    {errors.newPasswordAgain && touched.newPasswordAgain && (\n                      <div className=\"invalid-feedback d-block\">\n                        {errors.newPasswordAgain}\n                      </div>\n                    )}\n                  </FormGroup>\n\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <NavLink to=\"/user/login\">\n                      <IntlMessages id=\"user.login-title\" />\n                    </NavLink>\n                    <Button\n                      color=\"primary\"\n                      className={`btn-shadow btn-multiple-state ${\n                        loading ? 'show-spinner' : ''\n                      }`}\n                      size=\"lg\"\n                    >\n                      <span className=\"spinner d-inline-block\">\n                        <span className=\"bounce1\" />\n                        <span className=\"bounce2\" />\n                        <span className=\"bounce3\" />\n                      </span>\n                      <span className=\"label\">\n                        <IntlMessages id=\"user.reset-password-button\" />\n                      </span>\n                    </Button>\n                  </div>\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </Card>\n      </Colxx>\n    </Row>\n  );\n};\n\nconst mapStateToProps = ({ authUser }) => {\n  const { newPassword, resetPasswordCode, loading, error } = authUser;\n  return { newPassword, resetPasswordCode, loading, error };\n};\n\nexport default connect(mapStateToProps, {\n  resetPasswordAction: resetPassword,\n})(ResetPassword);\n"]},"metadata":{},"sourceType":"module"}