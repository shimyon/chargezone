{"ast":null,"code":"import React,{Component}from'react';import{connect}from'react-redux';import ReactDOM from'react-dom';import{Nav,NavItem,Collapse}from'reactstrap';import{NavLink,withRouter}from'react-router-dom';import classnames from'classnames';import PerfectScrollbar from'react-perfect-scrollbar';import IntlMessages from'../../helpers/IntlMessages';import{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems}from'../../redux/actions';import menuItems from'../../constants/menu';class Sidebar extends Component{constructor(props){super(props);this.handleWindowResize=event=>{if(event&&!event.isTrusted){return;}const containerClassnames=this.props.containerClassnames;const nextClasses=this.getMenuClassesForResize(containerClassnames);this.props.setContainerClassnames(0,nextClasses.join(' '),this.props.selectedMenuHasSubItems);};this.handleDocumentClick=e=>{const container=this.getContainer();let isMenuClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains('menu-button')||e.target.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.classList&&(e.target.parentElement.classList.contains('menu-button')||e.target.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.classList&&(e.target.parentElement.parentElement.classList.contains('menu-button')||e.target.parentElement.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}if(container.contains(e.target)||container===e.target||isMenuClick){return;}this.setState({viewingParentMenu:''});this.toggle();};this.getMenuClassesForResize=classes=>{const _this$props=this.props,menuHiddenBreakpoint=_this$props.menuHiddenBreakpoint,subHiddenBreakpoint=_this$props.subHiddenBreakpoint;let nextClasses=classes.split(' ').filter(x=>x!=='');const windowWidth=window.innerWidth;if(windowWidth<menuHiddenBreakpoint){nextClasses.push('menu-mobile');}else if(windowWidth<subHiddenBreakpoint){nextClasses=nextClasses.filter(x=>x!=='menu-mobile');if(nextClasses.includes('menu-default')&&!nextClasses.includes('menu-sub-hidden')){nextClasses.push('menu-sub-hidden');}}else{nextClasses=nextClasses.filter(x=>x!=='menu-mobile');if(nextClasses.includes('menu-default')&&nextClasses.includes('menu-sub-hidden')){nextClasses=nextClasses.filter(x=>x!=='menu-sub-hidden');}}return nextClasses;};this.getContainer=()=>{return ReactDOM.findDOMNode(this);};this.toggle=()=>{const hasSubItems=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(hasSubItems);const _this$props2=this.props,containerClassnames=_this$props2.containerClassnames,menuClickCount=_this$props2.menuClickCount;const currentClasses=containerClassnames?containerClassnames.split(' ').filter(x=>x!==''):'';let clickIndex=-1;if(!hasSubItems){if(currentClasses.includes('menu-default')&&(menuClickCount%4===0||menuClickCount%4===3)){clickIndex=1;}else if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===3)){clickIndex=0;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}}else if(currentClasses.includes('menu-sub-hidden')&&menuClickCount===3){clickIndex=2;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}if(clickIndex>=0){this.props.setContainerClassnames(clickIndex,containerClassnames,hasSubItems);}};this.handleProps=()=>{this.addEvents();};this.addEvents=()=>{['click','touchstart','touchend'].forEach(event=>document.addEventListener(event,this.handleDocumentClick,true));};this.removeEvents=()=>{['click','touchstart','touchend'].forEach(event=>document.removeEventListener(event,this.handleDocumentClick,true));};this.setSelectedLiActive=callback=>{const oldli=document.querySelector('.sub-menu  li.active');if(oldli!=null){oldli.classList.remove('active');}const oldliSub=document.querySelector('.third-level-menu  li.active');if(oldliSub!=null){oldliSub.classList.remove('active');}/* set selected parent menu */const selectedSublink=document.querySelector('.third-level-menu  a.active');if(selectedSublink!=null){selectedSublink.parentElement.classList.add('active');}const selectedlink=document.querySelector('.sub-menu  a.active');if(selectedlink!=null){selectedlink.parentElement.classList.add('active');this.setState({selectedParentMenu:selectedlink.parentElement.parentElement.getAttribute('data-parent')},callback);}else{const selectedParentNoSubItem=document.querySelector('.main-menu  li a.active');if(selectedParentNoSubItem!=null){this.setState({selectedParentMenu:selectedParentNoSubItem.getAttribute('data-flag')},callback);}else if(this.state.selectedParentMenu===''){this.setState({selectedParentMenu:menuItems[0].id},callback);}}};this.setHasSubItemStatus=()=>{const hasSubmenu=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(hasSubmenu);this.toggle();};this.getIsHasSubItem=()=>{const selectedParentMenu=this.state.selectedParentMenu;const menuItem=menuItems.find(x=>x.id===selectedParentMenu);if(menuItem)return!!(menuItem&&menuItem.subs&&menuItem.subs.length>0);return false;};this.openSubMenu=(e,menuItem)=>{const selectedParent=menuItem.id;const hasSubMenu=menuItem.subs&&menuItem.subs.length>0;this.props.changeSelectedMenuHasSubItems(hasSubMenu);if(!hasSubMenu){this.setState({viewingParentMenu:selectedParent,selectedParentMenu:selectedParent});this.toggle();}else{e.preventDefault();const _this$props3=this.props,containerClassnames=_this$props3.containerClassnames,menuClickCount=_this$props3.menuClickCount;const currentClasses=containerClassnames?containerClassnames.split(' ').filter(x=>x!==''):'';if(!currentClasses.includes('menu-mobile')){if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===0)){this.props.setContainerClassnames(3,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-hidden')&&(menuClickCount===1||menuClickCount===3)){this.props.setContainerClassnames(2,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-default')&&!currentClasses.includes('menu-sub-hidden')&&(menuClickCount===1||menuClickCount===3)){this.props.setContainerClassnames(0,containerClassnames,hasSubMenu);}}else{this.props.addContainerClassname('sub-show-temporary',containerClassnames);}this.setState({viewingParentMenu:selectedParent});}};this.toggleMenuCollapse=(e,menuKey)=>{e.preventDefault();const collapsedMenus=this.state.collapsedMenus;if(collapsedMenus.indexOf(menuKey)>-1){this.setState({collapsedMenus:collapsedMenus.filter(x=>x!==menuKey)});}else{collapsedMenus.push(menuKey);this.setState({collapsedMenus});}return false;};this.filteredList=menuItems=>{const role=this.props.currentUser.role;return menuItems.filter(x=>x.roles&&x.roles.includes(role)||!x.roles);};this.state={selectedParentMenu:'',viewingParentMenu:'',collapsedMenus:[]};}componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname){this.setSelectedLiActive(this.setHasSubItemStatus);window.scrollTo(0,0);}this.handleProps();}componentDidMount(){window.addEventListener('resize',this.handleWindowResize);this.handleWindowResize();this.handleProps();this.setSelectedLiActive(this.setHasSubItemStatus);}componentWillUnmount(){this.removeEvents();window.removeEventListener('resize',this.handleWindowResize);}render(){const _this$state=this.state,selectedParentMenu=_this$state.selectedParentMenu,viewingParentMenu=_this$state.viewingParentMenu,collapsedMenus=_this$state.collapsedMenus;return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},/*#__PURE__*/React.createElement(Nav,{vertical:true,className:\"list-unstyled\"},menuItems&&this.filteredList(menuItems).map(item=>{return/*#__PURE__*/React.createElement(NavItem,{key:item.id,className:classnames({active:selectedParentMenu===item.id&&viewingParentMenu===''||viewingParentMenu===item.id})},item.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:item.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})):/*#__PURE__*/React.createElement(NavLink,{to:item.to,onClick:e=>this.openSubMenu(e,item),\"data-flag\":item.id},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})));}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},menuItems&&this.filteredList(menuItems).map(item=>{return/*#__PURE__*/React.createElement(Nav,{key:item.id,className:classnames({'d-block':this.state.selectedParentMenu===item.id&&this.state.viewingParentMenu===''||this.state.viewingParentMenu===item.id}),\"data-parent\":item.id},item.subs&&this.filteredList(item.subs).map((sub,index)=>{return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index),className:\"\".concat(sub.subs&&sub.subs.length>0?'has-sub-item':'')},sub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:sub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})):sub.subs&&sub.subs.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{className:\"rotate-arrow-icon opacity-50 \".concat(collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1?'':'collapsed'),to:sub.to,id:\"\".concat(item.id,\"_\").concat(index),onClick:e=>this.toggleMenuCollapse(e,\"\".concat(item.id,\"_\").concat(index))},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-arrow-down\"}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})),/*#__PURE__*/React.createElement(Collapse,{isOpen:collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1},/*#__PURE__*/React.createElement(Nav,{className:\"third-level-menu\"},this.filteredList(sub.subs).map((thirdSub,thirdIndex)=>{return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index,\"_\").concat(thirdIndex)},thirdSub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:thirdSub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})):/*#__PURE__*/React.createElement(NavLink,{to:thirdSub.to},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})));})))):/*#__PURE__*/React.createElement(NavLink,{to:sub.to},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})));}));})))));}}const mapStateToProps=({menu,authUser})=>{const containerClassnames=menu.containerClassnames,subHiddenBreakpoint=menu.subHiddenBreakpoint,menuHiddenBreakpoint=menu.menuHiddenBreakpoint,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;const currentUser=authUser.currentUser;return{containerClassnames,subHiddenBreakpoint,menuHiddenBreakpoint,menuClickCount,selectedMenuHasSubItems,currentUser};};export default withRouter(connect(mapStateToProps,{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems})(Sidebar));","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone/react-front-end/src/containers/navs/Sidebar.js"],"names":["React","Component","connect","ReactDOM","Nav","NavItem","Collapse","NavLink","withRouter","classnames","PerfectScrollbar","IntlMessages","setContainerClassnames","addContainerClassname","changeDefaultClassnames","changeSelectedMenuHasSubItems","menuItems","Sidebar","constructor","props","handleWindowResize","event","isTrusted","containerClassnames","nextClasses","getMenuClassesForResize","join","selectedMenuHasSubItems","handleDocumentClick","e","container","getContainer","isMenuClick","target","classList","contains","parentElement","setState","viewingParentMenu","toggle","classes","menuHiddenBreakpoint","subHiddenBreakpoint","split","filter","x","windowWidth","window","innerWidth","push","includes","findDOMNode","hasSubItems","getIsHasSubItem","menuClickCount","currentClasses","clickIndex","handleProps","addEvents","forEach","document","addEventListener","removeEvents","removeEventListener","setSelectedLiActive","callback","oldli","querySelector","remove","oldliSub","selectedSublink","add","selectedlink","selectedParentMenu","getAttribute","selectedParentNoSubItem","state","id","setHasSubItemStatus","hasSubmenu","menuItem","find","subs","length","openSubMenu","selectedParent","hasSubMenu","preventDefault","toggleMenuCollapse","menuKey","collapsedMenus","indexOf","filteredList","role","currentUser","roles","componentDidUpdate","prevProps","location","pathname","scrollTo","componentDidMount","componentWillUnmount","render","suppressScrollX","wheelPropagation","map","item","active","newWindow","to","icon","label","sub","index","thirdSub","thirdIndex","mapStateToProps","menu","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { Nav, NavItem, Collapse } from 'reactstrap';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport classnames from 'classnames';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\n\nimport IntlMessages from '../../helpers/IntlMessages';\n\nimport {\n  setContainerClassnames,\n  addContainerClassname,\n  changeDefaultClassnames,\n  changeSelectedMenuHasSubItems,\n\n} from '../../redux/actions';\n\nimport menuItems from '../../constants/menu';\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedParentMenu: '',\n      viewingParentMenu: '',\n      collapsedMenus: [],\n    };\n  }\n\n  handleWindowResize = (event) => {\n    if (event && !event.isTrusted) {\n      return;\n    }\n    const { containerClassnames } = this.props;\n    const nextClasses = this.getMenuClassesForResize(containerClassnames);\n    this.props.setContainerClassnames(\n      0,\n      nextClasses.join(' '),\n      this.props.selectedMenuHasSubItems\n    );\n  };\n\n  handleDocumentClick = (e) => {\n    const container = this.getContainer();\n    let isMenuClick = false;\n    if (\n      e.target &&\n      e.target.classList &&\n      (e.target.classList.contains('menu-button') ||\n        e.target.classList.contains('menu-button-mobile'))\n    ) {\n      isMenuClick = true;\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.classList &&\n      (e.target.parentElement.classList.contains('menu-button') ||\n        e.target.parentElement.classList.contains('menu-button-mobile'))\n    ) {\n      isMenuClick = true;\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.parentElement &&\n      e.target.parentElement.parentElement.classList &&\n      (e.target.parentElement.parentElement.classList.contains('menu-button') ||\n        e.target.parentElement.parentElement.classList.contains(\n          'menu-button-mobile'\n        ))\n    ) {\n      isMenuClick = true;\n    }\n    if (container.contains(e.target) || container === e.target || isMenuClick) {\n      return;\n    }\n    this.setState({\n      viewingParentMenu: '',\n    });\n    this.toggle();\n  };\n\n  getMenuClassesForResize = (classes) => {\n    const { menuHiddenBreakpoint, subHiddenBreakpoint } = this.props;\n    let nextClasses = classes.split(' ').filter((x) => x !== '');\n    const windowWidth = window.innerWidth;\n    if (windowWidth < menuHiddenBreakpoint) {\n      nextClasses.push('menu-mobile');\n    } else if (windowWidth < subHiddenBreakpoint) {\n      nextClasses = nextClasses.filter((x) => x !== 'menu-mobile');\n      if (\n        nextClasses.includes('menu-default') &&\n        !nextClasses.includes('menu-sub-hidden')\n      ) {\n        nextClasses.push('menu-sub-hidden');\n      }\n    } else {\n      nextClasses = nextClasses.filter((x) => x !== 'menu-mobile');\n      if (\n        nextClasses.includes('menu-default') &&\n        nextClasses.includes('menu-sub-hidden')\n      ) {\n        nextClasses = nextClasses.filter((x) => x !== 'menu-sub-hidden');\n      }\n    }\n    return nextClasses;\n  };\n\n  getContainer = () => {\n    return ReactDOM.findDOMNode(this);\n  };\n\n  toggle = () => {\n    const hasSubItems = this.getIsHasSubItem();\n    this.props.changeSelectedMenuHasSubItems(hasSubItems);\n    const { containerClassnames, menuClickCount } = this.props;\n    const currentClasses = containerClassnames\n      ? containerClassnames.split(' ').filter((x) => x !== '')\n      : '';\n    let clickIndex = -1;\n\n    if (!hasSubItems) {\n      if (\n        currentClasses.includes('menu-default') &&\n        (menuClickCount % 4 === 0 || menuClickCount % 4 === 3)\n      ) {\n        clickIndex = 1;\n      } else if (\n        currentClasses.includes('menu-sub-hidden') &&\n        (menuClickCount === 2 || menuClickCount === 3)\n      ) {\n        clickIndex = 0;\n      } else if (\n        currentClasses.includes('menu-hidden') ||\n        currentClasses.includes('menu-mobile')\n      ) {\n        clickIndex = 0;\n      }\n    } else if (\n      currentClasses.includes('menu-sub-hidden') &&\n      menuClickCount === 3\n    ) {\n      clickIndex = 2;\n    } else if (\n      currentClasses.includes('menu-hidden') ||\n      currentClasses.includes('menu-mobile')\n    ) {\n      clickIndex = 0;\n    }\n    if (clickIndex >= 0) {\n      this.props.setContainerClassnames(\n        clickIndex,\n        containerClassnames,\n        hasSubItems\n      );\n    }\n  };\n\n  handleProps = () => {\n    this.addEvents();\n  };\n\n  addEvents = () => {\n    ['click', 'touchstart', 'touchend'].forEach((event) =>\n      document.addEventListener(event, this.handleDocumentClick, true)\n    );\n  };\n\n  removeEvents = () => {\n    ['click', 'touchstart', 'touchend'].forEach((event) =>\n      document.removeEventListener(event, this.handleDocumentClick, true)\n    );\n  };\n\n  setSelectedLiActive = (callback) => {\n    const oldli = document.querySelector('.sub-menu  li.active');\n    if (oldli != null) {\n      oldli.classList.remove('active');\n    }\n\n    const oldliSub = document.querySelector('.third-level-menu  li.active');\n    if (oldliSub != null) {\n      oldliSub.classList.remove('active');\n    }\n\n    /* set selected parent menu */\n    const selectedSublink = document.querySelector(\n      '.third-level-menu  a.active'\n    );\n    if (selectedSublink != null) {\n      selectedSublink.parentElement.classList.add('active');\n    }\n\n    const selectedlink = document.querySelector('.sub-menu  a.active');\n    if (selectedlink != null) {\n      selectedlink.parentElement.classList.add('active');\n      this.setState(\n        {\n          selectedParentMenu: selectedlink.parentElement.parentElement.getAttribute(\n            'data-parent'\n          ),\n        },\n        callback\n      );\n    } else {\n      const selectedParentNoSubItem = document.querySelector(\n        '.main-menu  li a.active'\n      );\n      if (selectedParentNoSubItem != null) {\n        this.setState(\n          {\n            selectedParentMenu: selectedParentNoSubItem.getAttribute(\n              'data-flag'\n            ),\n          },\n          callback\n        );\n      } else if (this.state.selectedParentMenu === '') {\n        this.setState(\n          {\n            selectedParentMenu: menuItems[0].id,\n          },\n          callback\n        );\n      }\n    }\n  };\n\n  setHasSubItemStatus = () => {\n    const hasSubmenu = this.getIsHasSubItem();\n    this.props.changeSelectedMenuHasSubItems(hasSubmenu);\n    this.toggle();\n  };\n\n  getIsHasSubItem = () => {\n    const { selectedParentMenu } = this.state;\n    const menuItem = menuItems.find((x) => x.id === selectedParentMenu);\n    if (menuItem)\n      return !!(menuItem && menuItem.subs && menuItem.subs.length > 0);\n    return false;\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setSelectedLiActive(this.setHasSubItemStatus);\n\n      window.scrollTo(0, 0);\n    }\n    this.handleProps();\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleWindowResize);\n    this.handleWindowResize();\n    this.handleProps();\n    this.setSelectedLiActive(this.setHasSubItemStatus);\n  }\n\n  componentWillUnmount() {\n    this.removeEvents();\n    window.removeEventListener('resize', this.handleWindowResize);\n  }\n\n  openSubMenu = (e, menuItem) => {\n    const selectedParent = menuItem.id;\n    const hasSubMenu = menuItem.subs && menuItem.subs.length > 0;\n    this.props.changeSelectedMenuHasSubItems(hasSubMenu);\n    if (!hasSubMenu) {\n      this.setState({\n        viewingParentMenu: selectedParent,\n        selectedParentMenu: selectedParent,\n      });\n      this.toggle();\n    } else {\n      e.preventDefault();\n\n      const { containerClassnames, menuClickCount } = this.props;\n      const currentClasses = containerClassnames\n        ? containerClassnames.split(' ').filter((x) => x !== '')\n        : '';\n\n      if (!currentClasses.includes('menu-mobile')) {\n        if (\n          currentClasses.includes('menu-sub-hidden') &&\n          (menuClickCount === 2 || menuClickCount === 0)\n        ) {\n          this.props.setContainerClassnames(3, containerClassnames, hasSubMenu);\n        } else if (\n          currentClasses.includes('menu-hidden') &&\n          (menuClickCount === 1 || menuClickCount === 3)\n        ) {\n          this.props.setContainerClassnames(2, containerClassnames, hasSubMenu);\n        } else if (\n          currentClasses.includes('menu-default') &&\n          !currentClasses.includes('menu-sub-hidden') &&\n          (menuClickCount === 1 || menuClickCount === 3)\n        ) {\n          this.props.setContainerClassnames(0, containerClassnames, hasSubMenu);\n        }\n      } else {\n        this.props.addContainerClassname(\n          'sub-show-temporary',\n          containerClassnames\n        );\n      }\n      this.setState({\n        viewingParentMenu: selectedParent,\n      });\n    }\n  };\n\n  toggleMenuCollapse = (e, menuKey) => {\n    e.preventDefault();\n\n    const { collapsedMenus } = this.state;\n    if (collapsedMenus.indexOf(menuKey) > -1) {\n      this.setState({\n        collapsedMenus: collapsedMenus.filter((x) => x !== menuKey),\n      });\n    } else {\n      collapsedMenus.push(menuKey);\n      this.setState({\n        collapsedMenus,\n      });\n    }\n    return false;\n  };\n\n  filteredList = (menuItems) => {\n    const { currentUser: { role } } = this.props;\n    return menuItems.filter(x => (x.roles && x.roles.includes(role)) || !x.roles)\n  }\n\n\n\n\n  render() {\n\n\n    const {\n      selectedParentMenu,\n      viewingParentMenu,\n      collapsedMenus,\n    } = this.state;\n    return (\n      <div className=\"sidebar\">\n        <div className=\"main-menu\">\n          <div className=\"scroll\">\n            <PerfectScrollbar\n              options={{ suppressScrollX: true, wheelPropagation: false }}\n            >\n              <Nav vertical className=\"list-unstyled\">\n                {menuItems &&\n                  this.filteredList(menuItems).map((item) => {\n                    return (\n                      <NavItem\n                        key={item.id}\n                        className={classnames({\n                          active:\n                            (selectedParentMenu === item.id &&\n                              viewingParentMenu === '') ||\n                            viewingParentMenu === item.id,\n                        })}\n                      >\n                        {item.newWindow ? (\n                          <a\n                            href={item.to}\n                            rel=\"noopener noreferrer\"\n                            target=\"_blank\"\n                          >\n                            <i className={item.icon} />{' '}\n                            <IntlMessages id={item.label} />\n                          </a>\n                        ) : (\n                            <NavLink\n                              to={item.to}\n                              onClick={(e) => this.openSubMenu(e, item)}\n                              data-flag={item.id}\n                            >\n                              <i className={item.icon} />{' '}\n                              <IntlMessages id={item.label} />\n                            </NavLink>\n                          )}\n                      </NavItem>\n                    );\n                  })}\n              </Nav>\n            </PerfectScrollbar>\n          </div>\n        </div>\n\n        <div className=\"sub-menu\">\n          <div className=\"scroll\">\n            <PerfectScrollbar\n              options={{ suppressScrollX: true, wheelPropagation: false }}\n            >\n              {menuItems &&\n                this.filteredList(menuItems).map((item) => {\n                  return (\n                    <Nav\n                      key={item.id}\n                      className={classnames({\n                        'd-block':\n                          (this.state.selectedParentMenu === item.id &&\n                            this.state.viewingParentMenu === '') ||\n                          this.state.viewingParentMenu === item.id,\n                      })}\n                      data-parent={item.id}\n                    >\n                      {item.subs &&\n                        this.filteredList(item.subs).map((sub, index) => {\n                          return (\n                            <NavItem\n                              key={`${item.id}_${index}`}\n                              className={`${\n                                sub.subs && sub.subs.length > 0\n                                  ? 'has-sub-item'\n                                  : ''\n                                }`}\n                            >\n                              {sub.newWindow ? (\n                                <a\n                                  href={sub.to}\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                >\n                                  <i className={sub.icon} />{' '}\n                                  <IntlMessages id={sub.label} />\n                                </a>\n                              ) : sub.subs && sub.subs.length > 0 ? (\n                                <>\n                                  <NavLink\n                                    className={`rotate-arrow-icon opacity-50 ${\n                                      collapsedMenus.indexOf(\n                                        `${item.id}_${index}`\n                                      ) === -1\n                                        ? ''\n                                        : 'collapsed'\n                                      }`}\n                                    to={sub.to}\n                                    id={`${item.id}_${index}`}\n                                    onClick={(e) =>\n                                      this.toggleMenuCollapse(\n                                        e,\n                                        `${item.id}_${index}`\n                                      )\n                                    }\n                                  >\n                                    <i className=\"simple-icon-arrow-down\" />{' '}\n                                    <IntlMessages id={sub.label} />\n                                  </NavLink>\n\n                                  <Collapse\n                                    isOpen={\n                                      collapsedMenus.indexOf(\n                                        `${item.id}_${index}`\n                                      ) === -1\n                                    }\n                                  >\n                                    <Nav className=\"third-level-menu\">\n                                      {this.filteredList(sub.subs).map((thirdSub, thirdIndex) => {\n                                        return (\n                                          <NavItem\n                                            key={`${item.id}_${index}_${thirdIndex}`}\n                                          >\n                                            {thirdSub.newWindow ? (\n                                              <a\n                                                href={thirdSub.to}\n                                                rel=\"noopener noreferrer\"\n                                                target=\"_blank\"\n                                              >\n                                                <i className={thirdSub.icon} />{' '}\n                                                <IntlMessages\n                                                  id={thirdSub.label}\n                                                />\n                                              </a>\n                                            ) : (\n                                                <NavLink to={thirdSub.to}>\n                                                  <i className={thirdSub.icon} />{' '}\n                                                  <IntlMessages\n                                                    id={thirdSub.label}\n                                                  />\n                                                </NavLink>\n                                              )}\n                                          </NavItem>\n                                        );\n                                      })}\n                                    </Nav>\n                                  </Collapse>\n                                </>\n                              ) : (\n                                    <NavLink to={sub.to}>\n                                      <i className={sub.icon} />{' '}\n                                      <IntlMessages id={sub.label} />\n                                    </NavLink>\n                                  )}\n                            </NavItem>\n                          );\n                        })}\n                    </Nav>\n                  );\n                })}\n            </PerfectScrollbar>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ menu, authUser }) => {\n  const {\n    containerClassnames,\n    subHiddenBreakpoint,\n    menuHiddenBreakpoint,\n    menuClickCount,\n    selectedMenuHasSubItems,\n  } = menu;\n\n  const { currentUser } = authUser;\n  return {\n    containerClassnames,\n    subHiddenBreakpoint,\n    menuHiddenBreakpoint,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    currentUser\n  };\n};\nexport default withRouter(\n  connect(mapStateToProps, {\n    setContainerClassnames,\n    addContainerClassname,\n    changeDefaultClassnames,\n    changeSelectedMenuHasSubItems,\n  })(Sidebar)\n);\n"]},"metadata":{},"sourceType":"module"}