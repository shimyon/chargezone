{"ast":null,"code":"import{ThemeColors}from'../../helpers/ThemeColors';export const chartTooltip={backgroundColor:ThemeColors().foregroundColor,titleFontColor:ThemeColors().primaryColor,borderColor:ThemeColors().separatorColor,borderWidth:0.5,bodyFontColor:ThemeColors().primaryColor,bodySpacing:10,xPadding:15,yPadding:15,cornerRadius:0.15};export const centerTextPlugin={afterDatasetsUpdate(chart){},beforeDraw(chart){const width=chart.chartArea.right;const height=chart.chartArea.bottom;const ctx=chart.chart.ctx;ctx.restore();let activeLabel=chart.data.labels[0];let activeValue=chart.data.datasets[0].data[0];let dataset=chart.data.datasets[0];let meta=dataset._meta[Object.keys(dataset._meta)[0]];let _meta=meta,total=_meta.total;let newtotal=chart.data.datasets[0].data?chart.data.datasets[0].data.reduce((a,b)=>a+b):total;let activePercentage=parseFloat((activeValue/newtotal*100).toFixed(1));activePercentage=chart.legend.legendItems[0].hidden?0:activePercentage;if(chart.pointAvailable){activeLabel=chart.data.labels[chart.pointIndex];activeValue=chart.data.datasets[chart.pointDataIndex].data[chart.pointIndex];dataset=chart.data.datasets[chart.pointDataIndex];meta=dataset._meta[Object.keys(dataset._meta)[0]];total=chart.data.datasets[0].data?chart.data.datasets[0].data.reduce((a,b)=>a+b):meta.total;activePercentage=parseFloat((activeValue/total*100).toFixed(1));activePercentage=chart.legend.legendItems[chart.pointIndex].hidden?0:activePercentage;}ctx.font='36px Nunito, sans-serif';ctx.fillStyle=ThemeColors().primaryColor;ctx.textBaseline='middle';const text=\"\".concat(activePercentage,\"%\");const textX=Math.round((width-ctx.measureText(text).width)/2);const textY=height/2;ctx.fillText(text,textX,textY);ctx.font='14px Nunito, sans-serif';ctx.textBaseline='middle';const text2=activeLabel;const textX2=Math.round((width-ctx.measureText(text2).width)/2);const textY2=height/2-30;ctx.fillText(text2,textX2,textY2);ctx.save();},beforeEvent(chart,event,options){const firstPoint=chart.getElementAtEvent(event)[0];if(firstPoint){chart.pointIndex=firstPoint._index;chart.pointDataIndex=firstPoint._datasetIndex;chart.pointAvailable=true;}}};","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/components/charts/util.js"],"names":["ThemeColors","chartTooltip","backgroundColor","foregroundColor","titleFontColor","primaryColor","borderColor","separatorColor","borderWidth","bodyFontColor","bodySpacing","xPadding","yPadding","cornerRadius","centerTextPlugin","afterDatasetsUpdate","chart","beforeDraw","width","chartArea","right","height","bottom","ctx","restore","activeLabel","data","labels","activeValue","datasets","dataset","meta","_meta","Object","keys","total","newtotal","reduce","a","b","activePercentage","parseFloat","toFixed","legend","legendItems","hidden","pointAvailable","pointIndex","pointDataIndex","font","fillStyle","textBaseline","text","textX","Math","round","measureText","textY","fillText","text2","textX2","textY2","save","beforeEvent","event","options","firstPoint","getElementAtEvent","_index","_datasetIndex"],"mappings":"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","sourcesContent":["import { ThemeColors } from '../../helpers/ThemeColors';\n\nexport const chartTooltip = {\n  backgroundColor: ThemeColors().foregroundColor,\n  titleFontColor: ThemeColors().primaryColor,\n  borderColor: ThemeColors().separatorColor,\n  borderWidth: 0.5,\n  bodyFontColor: ThemeColors().primaryColor,\n  bodySpacing: 10,\n  xPadding: 15,\n  yPadding: 15,\n  cornerRadius: 0.15,\n};\n\nexport const centerTextPlugin = {\n  afterDatasetsUpdate(chart) {},\n  beforeDraw(chart) {\n    const width = chart.chartArea.right;\n    const height = chart.chartArea.bottom;\n    const { ctx } = chart.chart;\n    ctx.restore();\n\n    let activeLabel = chart.data.labels[0];\n    let activeValue = chart.data.datasets[0].data[0];\n    let dataset = chart.data.datasets[0];\n    let meta = dataset._meta[Object.keys(dataset._meta)[0]];\n    let { total } = meta;\n\n    let newtotal = (chart.data.datasets[0].data)?chart.data.datasets[0].data.reduce((a, b) => a+b):total;\n\n    let activePercentage = parseFloat(((activeValue / newtotal) * 100).toFixed(1));\n    activePercentage = chart.legend.legendItems[0].hidden\n      ? 0\n      : activePercentage;\n    if (chart.pointAvailable) {\n      activeLabel = chart.data.labels[chart.pointIndex];\n      activeValue =\n        chart.data.datasets[chart.pointDataIndex].data[chart.pointIndex];\n\n      dataset = chart.data.datasets[chart.pointDataIndex];\n      meta = dataset._meta[Object.keys(dataset._meta)[0]];\n      total = (chart.data.datasets[0].data)?chart.data.datasets[0].data.reduce((a, b) => a+b):meta.total;\n      activePercentage = parseFloat(((activeValue / total) * 100).toFixed(1));\n      activePercentage = chart.legend.legendItems[chart.pointIndex].hidden\n        ? 0\n        : activePercentage;\n    }\n\n    ctx.font = '36px Nunito, sans-serif';\n    ctx.fillStyle = ThemeColors().primaryColor;\n    ctx.textBaseline = 'middle';\n\n    const text = `${activePercentage}%`;\n    const textX = Math.round((width - ctx.measureText(text).width) / 2);\n    const textY = height / 2;\n    ctx.fillText(text, textX, textY);\n\n    ctx.font = '14px Nunito, sans-serif';\n    ctx.textBaseline = 'middle';\n\n    const text2 = activeLabel;\n    const textX2 = Math.round((width - ctx.measureText(text2).width) / 2);\n    const textY2 = height / 2 - 30;\n    ctx.fillText(text2, textX2, textY2);\n\n    ctx.save();\n  },\n  beforeEvent(chart, event, options) {\n    const firstPoint = chart.getElementAtEvent(event)[0];\n\n    if (firstPoint) {\n      chart.pointIndex = firstPoint._index;\n      chart.pointDataIndex = firstPoint._datasetIndex;\n      chart.pointAvailable = true;\n    }\n  },\n};\n"]},"metadata":{},"sourceType":"module"}