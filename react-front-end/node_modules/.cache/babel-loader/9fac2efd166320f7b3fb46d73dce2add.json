{"ast":null,"code":"import _objectSpread from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,FormGroup,Card,CardSubtitle,CardBody,Label,Input,Button,Alert}from'reactstrap';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getCurrentUser}from'../../../helpers/Utils';import{getOwnersAPI,getChargerAPI,getStationsAPI,addChargerInventoryAPI,adminRoot}from'../../../constants/defaultValues';import axios from'axios';import{useHistory}from\"react-router-dom\";import{Formik,Field,FieldArray,ErrorMessage}from'formik';import*as yup from'yup';const AddCharger=()=>{//state to disable button on click\nconst _useState=useState(false),_useState2=_slicedToArray(_useState,2),buttonDisabled=_useState2[0],setButtonDisabled=_useState2[1];//alert states\nconst _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alertVisible=_useState4[0],setAlertVisible=_useState4[1];const _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertMsg=_useState6[0],setAlertMsg=_useState6[1];const _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertColor=_useState8[0],setAlertColor=_useState8[1];//dropdown states\nconst _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),stationNameData=_useState10[0],setStationNameData=_useState10[1];const _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),ownerNameData=_useState12[0],setOwnerNameData=_useState12[1];const _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),chargerMasterData=_useState14[0],setChargerMasterData=_useState14[1];const history=useHistory();useEffect(()=>{GetStationNamesAPICall();GetOwnerNamesAPICall();GetChargerMasterAPICall();},[]);//API calls\nconst GetStationNamesAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.get(getStationsAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStationNameData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetStationNamesAPICall(){return _ref.apply(this,arguments);};}();const GetOwnerNamesAPICall=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:currentUser=getCurrentUser();_context2.next=3;return axios.get(getOwnersAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setOwnerNameData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function GetOwnerNamesAPICall(){return _ref2.apply(this,arguments);};}();const GetChargerMasterAPICall=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var currentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:currentUser=getCurrentUser();_context3.next=3;return axios.get(getChargerAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setChargerMasterData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function GetChargerMasterAPICall(){return _ref3.apply(this,arguments);};}();const addChargerInventoryAPICall=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(params){var currentUser;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:setButtonDisabled(true);currentUser=getCurrentUser();_context4.next=4;return axios.post(addChargerInventoryAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){history.push({pathname:adminRoot+'/inventory/charger',state:{responseStatus:responseData.status,responseMsg:responseData.msg}});}else{setButtonDisabled(false);addChargerInventoryAlert(responseData.msg);}}).catch(error=>{setButtonDisabled(false);console.log(error);});case 4:case\"end\":return _context4.stop();}},_callee4);}));return function addChargerInventoryAPICall(_x){return _ref4.apply(this,arguments);};}();//Form Validation Schema\nconst ChargerInventoryDetailsValidationSchema=yup.object().shape({charger_id:yup.string().required(\"Charger ID is required\"),hub_id:yup.string().required(\"Station is required\"),qr_code:yup.string().matches(/^\\d+$/,\"Only numbers allowed\").required(\"QR Code capacity is required\"),own_by:yup.string().required(\"Owned By is required\"),charger_master_id:yup.string().required(\"Charger is required\"),numberOfSlots:yup.string().required('Number of slots is required'),slots:yup.array().of(yup.object().shape({// charger_id: yup.string()\n//     .required('Charger Id is required'),\nslot_id:yup.string().required('Slot Id is required')}))});const initialValues={charger_id:\"\",hub_id:\"\",qr_code:\"\",charger_master_id:\"\",own_by:\"\",remark_1:\"\",remark_2:\"\",numberOfSlots:'',slots:[]};function onChangeSlots(e,field,values,setValues){// update dynamic form\nconst slots=[...values.slots];const numberOfSlots=e.target.value||0;const previousNumber=parseInt(field.value||'0');if(previousNumber<numberOfSlots){for(let i=previousNumber;i<numberOfSlots;i++){slots.push({charger_id:'',slot_id:''});}}else{for(let i=previousNumber;i>=numberOfSlots;i--){slots.splice(i,1);}}setValues(_objectSpread(_objectSpread({},values),{},{slots}));// call formik onChange method\nfield.onChange(e);}//helper\n//Alert helper methods\nconst addChargerInventoryAlert=msg=>{setAlertVisible(true);setAlertMsg(msg);setAlertColor(\"danger\");};const onDismissAlert=()=>{setAlertVisible(false);};function onSubmit(fields){// display form field values on success\nconst params={charger_id:fields.charger_id,qr_code:fields.qr_code,hub_id:fields.hub_id,own_by:fields.own_by,charger_master_id:fields.charger_master_id,no_of_slot:fields.numberOfSlots,slots_data:fields.slots,remark_1:fields.remark_1,remark_2:fields.remark_2};addChargerInventoryAPICall(params);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Add Charger Inventory\"),/*#__PURE__*/React.createElement(\"a\",{href:\"charger\",className:\"mt-2 btn-primary default btn-sm float-right\"},/*#__PURE__*/React.createElement(\"b\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-list\"}),\" Charger Inventory List\")),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5 mt-1\"}))),/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues,validationSchema:ChargerInventoryDetailsValidationSchema,onSubmit:onSubmit},({handleChange,handleBlur,handleSubmit,values,touched,errors,setValues})=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardSubtitle,{className:\"mb-3\"},/*#__PURE__*/React.createElement(Alert,{color:alertColor,isOpen:alertVisible,toggle:onDismissAlert},alertMsg)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Charger Id\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Charger Id\",name:\"charger_id\",value:values.charger_id,onChange:handleChange,onBlur:handleBlur,className:errors.charger_id&&touched.charger_id?\"input-error\":null}),errors.charger_id&&touched.charger_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.charger_id))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"QR Code\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"QR Code \",value:values.qr_code,name:\"qr_code\",onChange:handleChange,onBlur:handleBlur,className:errors.qr_code&&touched.qr_code?\"input-error\":null}),errors.qr_code&&touched.qr_code&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.qr_code))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Station\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"hub_id\",placeholder:\"Station\",value:values.hub_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Station\"),stationNameData.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{value:item.hub_master_id,key:index},item.name))),errors.hub_id&&touched.hub_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.hub_id))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Owned By\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"own_by\",value:values.own_by,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Owned By\"),ownerNameData.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{value:item.owner_master_id,key:index},item.name))),errors.own_by&&touched.own_by&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.own_by))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Charger\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"charger_master_id\",value:values.charger_master_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Charger\"),chargerMasterData.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{value:item.id,key:index},item.make+\"-\"+item.model+\"-\"+item.dimension))),errors.charger_master_id&&touched.charger_master_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.charger_master_id))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Number of Slots\"),/*#__PURE__*/React.createElement(Field,{name:\"numberOfSlots\"},({field})=>/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"number\"},field,{className:'form-control'+(errors.numberOfSlots&&touched.numberOfSlots?' is-invalid':''),onChange:e=>onChangeSlots(e,field,values,setValues)}))),errors.numberOfSlots&&touched.numberOfSlots&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.numberOfSlots))),/*#__PURE__*/React.createElement(Colxx,{md:12},/*#__PURE__*/React.createElement(FieldArray,{name:\"slots\"},()=>values.slots.map((ticket,i)=>{var _errors$slots,_touched$slots;const ticketErrors=((_errors$slots=errors.slots)===null||_errors$slots===void 0?void 0:_errors$slots.length)&&errors.slots[i]||{};const ticketTouched=((_touched$slots=touched.slots)===null||_touched$slots===void 0?void 0:_touched$slots.length)&&touched.slots[i]||{};return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"list-group list-group-flush\"},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-item p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-1 mt-3\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},\"Slot#\",i+1)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Slot ID\"),/*#__PURE__*/React.createElement(Field,{name:\"slots.\".concat(i,\".slot_id\"),type:\"text\",className:'form-control'+(ticketErrors.slot_id&&ticketTouched.slot_id?' is-invalid':'')}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"slots.\".concat(i,\".slot_id\"),component:\"div\",className:\"invalid-feedback\"})))));}))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Remark 1\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"remark_1\",placeholder:\"Remark 1\",value:values.remark_1,onChange:handleChange,onBlur:handleBlur}))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Remark 2\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"remark_2\",placeholder:\"Remark 2\",value:values.remark_2,onChange:handleChange,onBlur:handleBlur})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"12\",className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"default mr-2\",onClick:handleSubmit,disabled:buttonDisabled},/*#__PURE__*/React.createElement(\"b\",null,\"Add\")),/*#__PURE__*/React.createElement(Button,{color:\"light\",className:\"default\",onClick:()=>{history.goBack();}},/*#__PURE__*/React.createElement(\"b\",null,\"Cancel\")))))))))));};export default AddCharger;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/inventory/AddCharger.js"],"names":["React","useState","useEffect","Row","FormGroup","Card","CardSubtitle","CardBody","Label","Input","Button","Alert","Colxx","Separator","getCurrentUser","getOwnersAPI","getChargerAPI","getStationsAPI","addChargerInventoryAPI","adminRoot","axios","useHistory","Formik","Field","FieldArray","ErrorMessage","yup","AddCharger","buttonDisabled","setButtonDisabled","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","stationNameData","setStationNameData","ownerNameData","setOwnerNameData","chargerMasterData","setChargerMasterData","history","GetStationNamesAPICall","GetOwnerNamesAPICall","GetChargerMasterAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","addChargerInventoryAPICall","params","post","push","pathname","state","responseStatus","responseMsg","addChargerInventoryAlert","ChargerInventoryDetailsValidationSchema","object","shape","charger_id","string","required","hub_id","qr_code","matches","own_by","charger_master_id","numberOfSlots","slots","array","of","slot_id","initialValues","remark_1","remark_2","onChangeSlots","e","field","values","setValues","target","value","previousNumber","parseInt","i","splice","onChange","onDismissAlert","onSubmit","fields","no_of_slot","slots_data","handleChange","handleBlur","handleSubmit","touched","errors","map","item","index","hub_master_id","name","owner_master_id","id","make","model","dimension","ticket","ticketErrors","length","ticketTouched","goBack"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row,FormGroup, Card,CardSubtitle, CardBody,\n  Label,Input, Button,Alert\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {getOwnersAPI,getChargerAPI,getStationsAPI,addChargerInventoryAPI,adminRoot} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { Formik, Field, FieldArray, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\n\nconst AddCharger = () => {\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //dropdown states\n  const [stationNameData,setStationNameData] = useState([]);\n  const [ownerNameData,setOwnerNameData] = useState([]);\n  const [chargerMasterData,setChargerMasterData] = useState([]);\n\n  const history = useHistory();\n\n  useEffect(()=>{\n    GetStationNamesAPICall();\n    GetOwnerNamesAPICall();\n    GetChargerMasterAPICall();\n  },[])\n\n  //API calls\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetOwnerNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getOwnersAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setOwnerNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetChargerMasterAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getChargerAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setChargerMasterData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const addChargerInventoryAPICall = async(params) => {\n    setButtonDisabled(true);\n    const currentUser = getCurrentUser();\n    await axios.post(addChargerInventoryAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          history.push({\n            pathname:adminRoot+'/inventory/charger',\n            state:{\n              responseStatus:responseData.status,\n              responseMsg:responseData.msg\n            }\n          })\n        }else{\n          setButtonDisabled(false);\n          addChargerInventoryAlert(responseData.msg);\n        }\n      }).catch(error=>{\n        setButtonDisabled(false);\n        console.log(error);\n      })\n  }\n\n  //Form Validation Schema\n  const ChargerInventoryDetailsValidationSchema = yup.object().shape({\n    charger_id:yup.string()\n        .required(\"Charger ID is required\"),\n    hub_id:yup.string()\n        .required(\"Station is required\"),\n    qr_code:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"QR Code capacity is required\"),\n    own_by:yup.string()\n        .required(\"Owned By is required\"),\n    charger_master_id:yup.string()\n        .required(\"Charger is required\"),\n    numberOfSlots: yup.string()\n            .required('Number of slots is required'),\n    slots: yup.array().of(\n      yup.object().shape({\n            // charger_id: yup.string()\n            //     .required('Charger Id is required'),\n            slot_id: yup.string()\n                .required('Slot Id is required')\n        })\n    )\n  });\n\n  const initialValues = {\n    charger_id:\"\",\n    hub_id:\"\",\n    qr_code:\"\",\n    charger_master_id:\"\",\n    own_by:\"\",\n    remark_1:\"\",\n    remark_2:\"\",\n    numberOfSlots: '',\n    slots: []\n  };\n\n  function onChangeSlots(e, field, values, setValues) {\n    // update dynamic form\n    const slots = [...values.slots];\n    const numberOfSlots = e.target.value || 0;\n    const previousNumber = parseInt(field.value || '0');\n    if (previousNumber < numberOfSlots) {\n        for (let i = previousNumber; i < numberOfSlots; i++) {\n            slots.push({ charger_id: '', slot_id: '' });\n        }\n    } else {\n        for (let i = previousNumber; i >= numberOfSlots; i--) {\n            slots.splice(i, 1);\n        }\n    }\n    setValues({ ...values, slots });\n\n    // call formik onChange method\n    field.onChange(e);\n  }\n\n  //helper\n  //Alert helper methods\n  const addChargerInventoryAlert = (msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n  function onSubmit(fields) {\n      // display form field values on success\n      const params = {\n        charger_id:fields.charger_id,\n        qr_code:fields.qr_code,\n        hub_id:fields.hub_id,\n        own_by:fields.own_by,\n        charger_master_id:fields.charger_master_id,\n        no_of_slot:fields.numberOfSlots,\n        slots_data:fields.slots,\n        remark_1:fields.remark_1,\n        remark_2:fields.remark_2,\n      }\n      addChargerInventoryAPICall(params);\n  }\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Add Charger Inventory</span>\n            <a href=\"charger\" className=\"mt-2 btn-primary default btn-sm float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> Charger Inventory List</b>\n            </a>\n          <Separator className=\"mb-5 mt-1\" />\n        </Colxx>\n      </Row>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={ChargerInventoryDetailsValidationSchema} \n        onSubmit={onSubmit}>\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors,setValues})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                  <Card className=\"mb-4\">\n                      <CardBody>\n                        <CardSubtitle className=\"mb-3\">\n                          <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert}>\n                            {alertMsg}\n                          </Alert>\n                        </CardSubtitle> \n                          <Row>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Charger Id\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Charger Id\"\n                                  name=\"charger_id\"\n                                  value={values.charger_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.charger_id && touched.charger_id ? \"input-error\":null}\n                                />\n                                {errors.charger_id && touched.charger_id &&(\n                                  <span className=\"error\">{errors.charger_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                QR Code\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"QR Code \"\n                                  value={values.qr_code}\n                                  name=\"qr_code\"\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.qr_code && touched.qr_code ? \"input-error\":null}\n                                />\n                                {errors.qr_code && touched.qr_code &&(\n                                  <span className=\"error\">{errors.qr_code}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Station\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"hub_id\"\n                                  placeholder=\"Station\"\n                                  value={values.hub_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Station</option>\n                                  {stationNameData.map((item,index)=>\n                                    <option value={item.hub_master_id} key={index}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.hub_id && touched.hub_id &&(\n                                  <span className=\"error\">{errors.hub_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Owned By\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"own_by\"\n                                  value={values.own_by}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Owned By</option>\n                                  {ownerNameData.map((item,index)=>\n                                    <option value={item.owner_master_id} key={index}>{item.name}</option>\n                                    )}\n                                </Input>\n                                {errors.own_by && touched.own_by &&(\n                                  <span className=\"error\">{errors.own_by}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Charger\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"charger_master_id\"\n                                  value={values.charger_master_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Charger</option>\n                                  {chargerMasterData.map((item,index)=>\n                                    <option value={item.id} key={index}>{item.make+\"-\"+item.model+\"-\"+item.dimension}</option>\n                                    )}\n                                </Input>\n                                {errors.charger_master_id && touched.charger_master_id &&(\n                                  <span className=\"error\">{errors.charger_master_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Number of Slots\n                                </Label>\n                                <Field name=\"numberOfSlots\">\n                                    {({ field }) => (\n                                        <input type=\"number\" {...field} className={'form-control' + (errors.numberOfSlots && touched.numberOfSlots ? ' is-invalid' : '')} onChange={e => onChangeSlots(e, field, values, setValues)} />\n                                    )}\n                                    </Field>\n                                {errors.numberOfSlots && touched.numberOfSlots &&(\n                                  <span className=\"error\">{errors.numberOfSlots}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={12}>\n                            <FieldArray name=\"slots\">\n                              {() => (values.slots.map((ticket, i) => {\n                                  const ticketErrors = errors.slots?.length && errors.slots[i] || {};\n                                  const ticketTouched = touched.slots?.length && touched.slots[i] || {};\n                                  return (\n                                      <div key={i} className=\"list-group list-group-flush\">\n                                          <div className=\"list-group-item p-0\">\n                                              <div className=\"form-row\">\n                                                  <div className=\"form-group col-1 mt-3\">\n                                                    <h5 className=\"card-title\">Slot#{i + 1}</h5>\n                                                  </div>\n                                                  {/* <div className=\"form-group col-5\">\n                                                      <label>Charger ID</label>\n                                                      <Field name={`slots.${i}.charger_id`} type=\"text\" className={'form-control' + (ticketErrors.charger_id && ticketTouched.charger_id ? ' is-invalid' : '' )} />\n                                                      <ErrorMessage name={`slots.${i}.charger_id`} component=\"div\" className=\"invalid-feedback\" />\n                                                  </div> */}\n                                                  <div className=\"form-group col-6\">\n                                                      <label>Slot ID</label>\n                                                      <Field name={`slots.${i}.slot_id`} type=\"text\" className={'form-control' + (ticketErrors.slot_id && ticketTouched.slot_id ? ' is-invalid' : '' )} />\n                                                      <ErrorMessage name={`slots.${i}.slot_id`} component=\"div\" className=\"invalid-feedback\" />\n                                                  </div>\n                                              </div>\n                                          </div>\n                                      </div>\n                                  );\n                              }))}\n                          </FieldArray>\n                            </Colxx>\n                           \n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                  Remark 1\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_1\"\n                                  placeholder=\"Remark 1\"\n                                  value={values.remark_1}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                  Remark 2\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_2\"\n                                  placeholder=\"Remark 2\"\n                                  value={values.remark_2}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                          </Row>\n                          <Row>\n                            <Colxx md=\"12\" className=\"text-center\">\n                              <Button color=\"primary\" className=\"default mr-2\" onClick={handleSubmit} disabled={buttonDisabled}>\n                                  <b>Add</b>\n                              </Button>\n                              <Button color=\"light\" className=\"default\" onClick={()=>{history.goBack()}}>\n                                  <b>Cancel</b>\n                              </Button>\n                            </Colxx>\n                          </Row>\n                      </CardBody>\n                      </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n    </>\n  );\n};\n\nexport default AddCharger;\n"]},"metadata":{},"sourceType":"module"}