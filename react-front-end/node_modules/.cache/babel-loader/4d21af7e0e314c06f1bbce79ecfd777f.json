{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Card,CardBody,FormGroup,Label,Input,Table,Button,DropdownItem,DropdownMenu,DropdownToggle,UncontrolledDropdown}from'reactstrap';import DatePicker from'react-datepicker';import'react-datepicker/dist/react-datepicker.css';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getCurrentUser}from'../../../helpers/Utils';import{faultReportAPI,downloadfaultReportAPI,getStationsByCityAPI,getCountriesAPI,getStatesByCountryAPI,getCitiesByStateAPI,getOemAPI,getOwnersAPI}from'../../../constants/defaultValues';import axios from'axios';import{Formik}from'formik';const FaultsAndAlerts=({})=>{const _useState=useState(1),_useState2=_slicedToArray(_useState,2),buttonType=_useState2[0],setButtonType=_useState2[1];//date states\nconst _useState3=useState(),_useState4=_slicedToArray(_useState3,2),fromDate=_useState4[0],setFromDate=_useState4[1];const _useState5=useState(),_useState6=_slicedToArray(_useState5,2),toDate=_useState6[0],setToDate=_useState6[1];//station List\nconst _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),stationNames=_useState8[0],setStationNames=_useState8[1];//Pagination states\nconst _useState9=useState(\"1\"),_useState10=_slicedToArray(_useState9,2),pageCount=_useState10[0],setPageCount=_useState10[1];const _useState11=useState(\"1\"),_useState12=_slicedToArray(_useState11,2),lastPageCount=_useState12[0],setLastPageCount=_useState12[1];//state to disable button on click\nconst _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),buttonDisabled=_useState14[0],setButtonDisabled=_useState14[1];//loader state\nconst _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];// list state\nconst _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),countryList=_useState18[0],setCountryList=_useState18[1];const _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),stateList=_useState20[0],setStateList=_useState20[1];const _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),cityList=_useState22[0],setCityList=_useState22[1];const _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),oemList=_useState24[0],setOemList=_useState24[1];const _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),ownerList=_useState26[0],setOwnerList=_useState26[1];const _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),countryId=_useState28[0],setCountryId=_useState28[1];const _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),stateId=_useState30[0],setStateId=_useState30[1];const _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),cityId=_useState32[0],setCityId=_useState32[1];const _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),stationId=_useState34[0],setStationId=_useState34[1];//params\nconst _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),reportParams=_useState36[0],setReportParams=_useState36[1];const _useState37=useState([]),_useState38=_slicedToArray(_useState37,2),report=_useState38[0],setReport=_useState38[1];useEffect(()=>{getCountryNamesAPICall();getOemAPICall();GetOwnerNamesAPICall();},[]);useEffect(()=>{GetStationNamesAPICall(countryId,stateId,cityId);},[countryId,stateId,cityId]);//API calls\nconst GetStationNamesAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(country,state,city){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.get(getStationsByCityAPI+\"country_id=\"+country+\"&state_id=\"+state+\"&city_id=\"+city,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStationNames(responseData.data);}else{setStationNames([]);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetStationNamesAPICall(_x,_x2,_x3){return _ref.apply(this,arguments);};}();const getOemAPICall=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:currentUser=getCurrentUser();_context2.next=3;return axios.post(getOemAPI,{type:1},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setOemList(responseData.data);}else{setOemList([]);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function getOemAPICall(){return _ref2.apply(this,arguments);};}();const GetOwnerNamesAPICall=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var currentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:currentUser=getCurrentUser();_context3.next=3;return axios.get(getOwnersAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setOwnerList(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function GetOwnerNamesAPICall(){return _ref3.apply(this,arguments);};}();const getCountryNamesAPICall=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var currentUser;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:currentUser=getCurrentUser();_context4.next=3;return axios.get(getCountriesAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setCountryList(responseData.data);}else{console.log(responseData.status,responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context4.stop();}},_callee4);}));return function getCountryNamesAPICall(){return _ref4.apply(this,arguments);};}();const getStateNamesAPICall=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(country){var currentUser;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:currentUser=getCurrentUser();_context5.next=3;return axios.post(getStatesByCountryAPI,{country_id:country},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStateList(responseData.data);}else{console.log(responseData.status,responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context5.stop();}},_callee5);}));return function getStateNamesAPICall(_x4){return _ref5.apply(this,arguments);};}();const getCityNamesAPICall=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(state){var currentUser;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:currentUser=getCurrentUser();_context6.next=3;return axios.post(getCitiesByStateAPI,{state_id:state},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setCityList(responseData.data);}else{console.log(responseData.status,responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context6.stop();}},_callee6);}));return function getCityNamesAPICall(_x5){return _ref6.apply(this,arguments);};}();//helper methods\n//handle country select\nconst handleCountrySelect=country=>{setCountryId(country);setStateId(\"\");setCityId(\"\");setStationId(\"\");getStateNamesAPICall(country);};//handle state select\nconst handleStateSelect=state=>{setStateId(state);setCityId(\"\");setStationId(\"\");getCityNamesAPICall(state);};//pagination method\nconst handlePageChange=index=>{setPageCount(index+1);getFaultReportAPICall(reportParams);};const renderPageList=()=>{const pageNumbers=[];for(let i=0;i<lastPageCount;i+=1){pageNumbers.push(/*#__PURE__*/React.createElement(DropdownItem,{key:i,onClick:()=>handlePageChange(i)},i+1));}return pageNumbers;};const getFaultReportAPICall=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(params){var currentUser;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:setButtonDisabled(true);setReport([]);setIsLoading(true);currentUser=getCurrentUser();_context7.next=6;return axios.post(faultReportAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setLastPageCount(responseData.data.last_page);setReport(responseData.data.data);}else{console.log(responseData.msg);}setButtonDisabled(false);setIsLoading(false);}).catch(error=>{setButtonDisabled(false);setIsLoading(false);});case 6:case\"end\":return _context7.stop();}},_callee7);}));return function getFaultReportAPICall(_x6){return _ref7.apply(this,arguments);};}();const downloadFaultReportAPICall=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(params){var currentUser;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:setButtonDisabled(true);setIsLoading(true);currentUser=getCurrentUser();_context8.next=5;return axios.post(downloadfaultReportAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){const link=document.createElement('a');link.href=responseData.data.file;document.body.appendChild(link);link.click();document.body.removeChild(link);}else{alert(responseData.msg);}setButtonDisabled(false);setIsLoading(false);}).catch(error=>{setButtonDisabled(false);setIsLoading(false);});case 5:case\"end\":return _context8.stop();}},_callee8);}));return function downloadFaultReportAPICall(_x7){return _ref8.apply(this,arguments);};}();const initialValues={bin:\"\",oem_id:\"\",owner_id:\"\",charger_id:\"\",connector_id:\"\"};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Faults and Alerts\"),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues,onSubmit:values=>{let tempFromDate=null,tempToDate=null;if(fromDate!=null&&fromDate!=\"\"){tempFromDate=fromDate.getDate()+\"-\"+(fromDate.getMonth()+1)+\"-\"+fromDate.getFullYear()+\" \"+fromDate.getHours()+\":\"+fromDate.getMinutes()+\":\"+fromDate.getSeconds();}if(toDate!=null&&toDate!=\"\"){tempToDate=toDate.getDate()+\"-\"+(toDate.getMonth()+1)+\"-\"+toDate.getFullYear()+\" \"+toDate.getHours()+\":\"+toDate.getMinutes()+\":\"+toDate.getSeconds();}const params={country_id:countryId,state_id:stateId,city_id:cityId,hub_id:stationId,bin:values.bin,oem_id:values.oem_id,owner_id:values.owner_id,charger_id:values.charger_id,connector_id:values.connector_id,from_date:tempFromDate,to_date:tempToDate,page:pageCount};setReportParams(params);if(buttonType==1){getFaultReportAPICall(params);}else{downloadFaultReportAPICall(params);}}},({handleChange,handleBlur,handleSubmit,values,touched,errors})=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"6\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Select Option\"))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Country\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"country_id\",value:countryId,onChange:e=>handleCountrySelect(e.target.value)},/*#__PURE__*/React.createElement(\"option\",null,\"Select Country\"),countryList.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.id},item.country_name))))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"State\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"state_id\",value:stateId,onChange:e=>handleStateSelect(e.target.value)},/*#__PURE__*/React.createElement(\"option\",null,\"Select State\"),stateList.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.id},item.state_name))))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"City\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"city_id\",value:cityId,onChange:e=>{setCityId(e.target.value);setStationId(\"\");}},/*#__PURE__*/React.createElement(\"option\",null,\"Select City\"),cityList.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.id},item.city_name))))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Station\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"station\",value:stationId,onChange:e=>setStationId(e.target.value)},/*#__PURE__*/React.createElement(\"option\",null,\"Select Station\"),stationNames.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.hub_master_id},item.name))))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"OEM\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"oem_id\",value:values.oem_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select OEM\"),oemList.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.oem_id},item.name))),errors.oem_id&&touched.oem_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.oem_id))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Owner\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"owner_id\",value:values.owner_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Owner\"),ownerList.map((item,index)=>/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.owner_master_id},item.name))),errors.owner_id&&touched.owner_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.owner_id))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Charger\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Charger Id\",name:\"charger_id\",value:values.charger_id,onChange:handleChange,onBlur:handleBlur}),errors.charger_id&&touched.charger_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.charger_id))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Connector\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Connector Id\",name:\"connector_id\",value:values.connector_id,onChange:handleChange,onBlur:handleBlur}),errors.connector_id&&touched.connector_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.connector_id))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"From Date\"),/*#__PURE__*/React.createElement(DatePicker,{placeholderText:\"From Date\",showTimeInput:true,selected:fromDate,onChange:date=>setFromDate(date),dateFormat:\"dd/MM/yyyy hh:mm aa\"}))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"To Date\"),/*#__PURE__*/React.createElement(DatePicker,{placeholderText:\"To Date\",showTimeInput:true,selected:toDate,onChange:date=>setToDate(date),dateFormat:\"dd/MM/yyyy hh:mm aa\"}))),/*#__PURE__*/React.createElement(Colxx,{lg:6,sm:12},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"default mt-4 mr-2\",disabled:buttonDisabled,onClick:()=>{setButtonType(1);setPageCount(1);handleSubmit();}},/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-check font-weight-bold\"}),\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Generate Report\")),/*#__PURE__*/React.createElement(Button,{color:\"success\",className:\"default mt-4\",disabled:buttonDisabled,onClick:()=>{setButtonType(2);handleSubmit();}},/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-check font-weight-bold\"}),\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Download Report\")))))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{sm:12,lg:12},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"6\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Faults and Alerts Report\")),report.length>0&&/*#__PURE__*/React.createElement(Colxx,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-right mr-2 \"},/*#__PURE__*/React.createElement(\"span\",null,\"Page \"),/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(DropdownToggle,{caret:true,color:\"outline-primary\",size:\"xs\",\"data-display\":\"static\"},pageCount),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"dropdownMenu\"},renderPageList())),/*#__PURE__*/React.createElement(\"span\",null,\" of \"),lastPageCount))),/*#__PURE__*/React.createElement(Table,{responsive:true,bordered:true,striped:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Station\"),/*#__PURE__*/React.createElement(\"th\",null,\"Charger ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"Connnector ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of occurrence\"),/*#__PURE__*/React.createElement(\"th\",null,\"Time of occurrence\"),/*#__PURE__*/React.createElement(\"th\",null,\"Alarm Detail\"))),/*#__PURE__*/React.createElement(\"tbody\",null,isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\",colSpan:\"7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-list-loading\"}))):report.length>0?report.map((item,index)=>/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},pageCount==1?index+1:(pageCount-1)*10+index+1),/*#__PURE__*/React.createElement(\"td\",null,item.station_name),/*#__PURE__*/React.createElement(\"td\",null,item.charger_id),/*#__PURE__*/React.createElement(\"td\",null,item.connector_id),/*#__PURE__*/React.createElement(\"td\",null,item.occur_date),/*#__PURE__*/React.createElement(\"td\",null,item.occur_time),/*#__PURE__*/React.createElement(\"td\",null,item.alarms))):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-center text-danger\",colSpan:\"7\"},\"Data  Not  Found\")))))))));};export default FaultsAndAlerts;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/reports/faultsAndAlerts.js"],"names":["React","useState","useEffect","Row","Card","CardBody","FormGroup","Label","Input","Table","Button","DropdownItem","DropdownMenu","DropdownToggle","UncontrolledDropdown","DatePicker","Colxx","Separator","getCurrentUser","faultReportAPI","downloadfaultReportAPI","getStationsByCityAPI","getCountriesAPI","getStatesByCountryAPI","getCitiesByStateAPI","getOemAPI","getOwnersAPI","axios","Formik","FaultsAndAlerts","buttonType","setButtonType","fromDate","setFromDate","toDate","setToDate","stationNames","setStationNames","pageCount","setPageCount","lastPageCount","setLastPageCount","buttonDisabled","setButtonDisabled","isLoading","setIsLoading","countryList","setCountryList","stateList","setStateList","cityList","setCityList","oemList","setOemList","ownerList","setOwnerList","countryId","setCountryId","stateId","setStateId","cityId","setCityId","stationId","setStationId","reportParams","setReportParams","report","setReport","getCountryNamesAPICall","getOemAPICall","GetOwnerNamesAPICall","GetStationNamesAPICall","country","state","city","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","catch","error","console","log","post","type","msg","getStateNamesAPICall","country_id","getCityNamesAPICall","state_id","handleCountrySelect","handleStateSelect","handlePageChange","index","getFaultReportAPICall","renderPageList","pageNumbers","i","push","params","last_page","downloadFaultReportAPICall","link","document","createElement","href","file","body","appendChild","click","removeChild","alert","initialValues","bin","oem_id","owner_id","charger_id","connector_id","values","tempFromDate","tempToDate","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","city_id","hub_id","from_date","to_date","page","handleChange","handleBlur","handleSubmit","touched","errors","e","target","value","map","item","id","country_name","state_name","city_name","hub_master_id","name","owner_master_id","date","length","station_name","occur_date","occur_time","alarms"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {\n  Row, Card, CardBody, FormGroup, Label,\n  Input, Table,Button,DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  UncontrolledDropdown,\n} from 'reactstrap';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {faultReportAPI,downloadfaultReportAPI,getStationsByCityAPI,getCountriesAPI,getStatesByCountryAPI,getCitiesByStateAPI,getOemAPI,getOwnersAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport {Formik} from 'formik';\n\nconst FaultsAndAlerts = ({}) => {\n  const [buttonType,setButtonType] = useState(1);\n  //date states\n  const [fromDate,setFromDate] = useState();\n  const [toDate,setToDate] = useState();\n  //station List\n  const [stationNames,setStationNames] = useState([]);\n  //Pagination states\n  const [pageCount,setPageCount] = useState(\"1\");\n  const [lastPageCount,setLastPageCount] = useState(\"1\");\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //loader state\n  const [isLoading,setIsLoading] = useState(false);\n  // list state\n  const [countryList,setCountryList] = useState([]);\n  const [stateList,setStateList] = useState([]);\n  const [cityList,setCityList] = useState([]);\n  const [oemList,setOemList] = useState([]);\n  const [ownerList,setOwnerList] = useState([]);\n  const [countryId,setCountryId] = useState(\"\");\n  const [stateId,setStateId] = useState(\"\");\n  const [cityId,setCityId] = useState(\"\");\n  const [stationId,setStationId] = useState(\"\");\n  //params\n  const [reportParams,setReportParams] = useState(null);\n  const [report,setReport] = useState([]);\n\n  useEffect(()=>{\n    getCountryNamesAPICall();\n    getOemAPICall();\n    GetOwnerNamesAPICall();\n  },[]);\n\n  useEffect(()=>{\n    GetStationNamesAPICall(countryId,stateId,cityId);\n  },[countryId,stateId,cityId]);\n\n  //API calls\n  const GetStationNamesAPICall = async(country,state,city) => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsByCityAPI+\"country_id=\"+country+\"&state_id=\"+state+\"&city_id=\"+city,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNames(responseData.data)\n      }else{\n        setStationNames([]);\n      }\n    }).catch(error=>{\n      console.log(error);\n    });\n  }\n\n  const getOemAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.post(getOemAPI,\n      {type:1},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {          \n          setOemList(responseData.data);\n        }else{\n          setOemList([])\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n\n  const GetOwnerNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getOwnersAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setOwnerList(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getCountryNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getCountriesAPI,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n            setCountryList(responseData.data);\n        }else{\n            console.log(responseData.status,responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n  const getStateNamesAPICall = async(country) => {\n    const currentUser = getCurrentUser();\n    await axios.post(getStatesByCountryAPI,\n      {country_id:country},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n            setStateList(responseData.data);\n        }else{\n          console.log(responseData.status,responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n  const getCityNamesAPICall = async(state) => {\n    const currentUser = getCurrentUser();\n    await axios.post(getCitiesByStateAPI,\n      {state_id:state},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n            setCityList(responseData.data);\n        }else{\n          console.log(responseData.status,responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n\n  //helper methods\n  //handle country select\n  const handleCountrySelect = (country) => {\n    setCountryId(country);\n    setStateId(\"\");\n    setCityId(\"\");\n    setStationId(\"\");\n    getStateNamesAPICall(country);\n  }\n  //handle state select\n  const handleStateSelect = (state) => {\n    setStateId(state);\n    setCityId(\"\");\n    setStationId(\"\");\n    getCityNamesAPICall(state);\n  }\n  //pagination method\n  const handlePageChange = (index) =>{\n    setPageCount(index+1)\n    getFaultReportAPICall(reportParams);\n  }\n  const renderPageList = () => {\n    const pageNumbers = [];\n    for (let i = 0; i <lastPageCount; i += 1) {\n      pageNumbers.push(\n        <DropdownItem key={i} onClick={()=>handlePageChange(i)}>\n          {i+1}\n        </DropdownItem>\n      );\n    }\n    return pageNumbers;\n  };\n  const getFaultReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setReport([]);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(faultReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setLastPageCount(responseData.data.last_page);\n          setReport(responseData.data.data);\n        }else{\n            console.log(responseData.msg);\n        }\n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n      })\n  }\n  const downloadFaultReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(downloadfaultReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          const link = document.createElement('a');\n          link.href = responseData.data.file;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        }else{\n          alert(responseData.msg);\n        }  \n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n      })\n  }\n\n  const initialValues = {\n    bin:\"\",\n    oem_id:\"\",\n    owner_id:\"\",\n    charger_id:\"\",\n    connector_id:\"\",\n  };\n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n        <span className=\"page_title\">Faults and Alerts</span>\n        <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={(values)=>{\n          let tempFromDate=null,tempToDate=null;\n          if (fromDate != null && fromDate !=\"\") {\n            tempFromDate = fromDate.getDate()+\"-\"+(fromDate.getMonth()+1)+\"-\"+fromDate.getFullYear()+\" \"+fromDate.getHours()+\":\"+fromDate.getMinutes()+\":\"+fromDate.getSeconds();\n          }\n          if (toDate != null && toDate !=\"\") {\n            tempToDate = toDate.getDate()+\"-\"+(toDate.getMonth()+1)+\"-\"+toDate.getFullYear()+\" \"+toDate.getHours()+\":\"+toDate.getMinutes()+\":\"+toDate.getSeconds();\n          }\n          const params = {\n            country_id:countryId,\n            state_id:stateId,\n            city_id:cityId,\n            hub_id:stationId,\n            bin:values.bin,\n            oem_id:values.oem_id,\n            owner_id:values.owner_id,\n            charger_id:values.charger_id,\n            connector_id:values.connector_id,\n            from_date:tempFromDate,\n            to_date:tempToDate,\n            page:pageCount\n          }\n          setReportParams(params);\n          if(buttonType==1){\n            getFaultReportAPICall(params);\n          }else{\n            downloadFaultReportAPICall(params);\n          }          \n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                    <Card>\n                        <CardBody>\n                          <Row>\n                          <Colxx md=\"6\">\n                            <h3>Select Option</h3>\n                          </Colxx>                            \n                          </Row>\n                          <hr/>\n                          <Row>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Country\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"country_id\"\n                                value={countryId}\n                                onChange={e=>handleCountrySelect(e.target.value)}\n                                >\n                                  <option>Select Country</option>\n                                  {countryList.map((item,index)=>\n                                    <option key={index} value={item.id}>{item.country_name}</option>\n                                  )}\n                                </Input>\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  State\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"state_id\"\n                                value={stateId}\n                                onChange={e=>handleStateSelect(e.target.value)}\n                                >\n                                  <option>Select State</option>\n                                  {stateList.map((item,index)=>\n                                    <option key={index} value={item.id}>{item.state_name}</option>\n                                  )}\n                                </Input>\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  City\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"city_id\"\n                                value={cityId}\n                                onChange={e=>{setCityId(e.target.value);setStationId(\"\");}}\n                                >\n                                  <option>Select City</option>\n                                  {cityList.map((item,index)=>\n                                    <option key={index} value={item.id}>{item.city_name}</option>\n                                  )}\n                                </Input>\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Station\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"station\"\n                                value={stationId}\n                                onChange={e=> setStationId(e.target.value)}>\n                                  <option>Select Station</option>\n                                  {stationNames.map((item,index)=>\n                                    <option key={index} value={item.hub_master_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  OEM\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"oem_id\"\n                                value={values.oem_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                  <option>Select OEM</option>\n                                  {oemList.map((item,index)=>\n                                    <option key={index} value={item.oem_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.oem_id && touched.oem_id &&(\n                                  <span className=\"error\">{errors.oem_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Owner\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"owner_id\"\n                                value={values.owner_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                  <option>Select Owner</option>\n                                  {ownerList.map((item,index)=>\n                                    <option key={index} value={item.owner_master_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.owner_id && touched.owner_id &&(\n                                  <span className=\"error\">{errors.owner_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Charger\n                                </Label>\n                                <Input \n                                type=\"text\"\n                                placeholder=\"Charger Id\"\n                                name=\"charger_id\"\n                                value={values.charger_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                </Input>\n                                {errors.charger_id && touched.charger_id &&(\n                                  <span className=\"error\">{errors.charger_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Connector\n                                </Label>\n                                <Input \n                                type=\"text\"\n                                placeholder=\"Connector Id\"\n                                name=\"connector_id\"\n                                value={values.connector_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                </Input>\n                                {errors.connector_id && touched.connector_id &&(\n                                  <span className=\"error\">{errors.connector_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  From Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"From Date\"\n                                showTimeInput\n                                selected={fromDate}\n                                onChange={date=>setFromDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  To Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"To Date\"\n                                showTimeInput\n                                selected={toDate}\n                                onChange={date=>setToDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={6} sm={12}>\n                              <Button color=\"primary\" className=\"default mt-4 mr-2\" disabled={buttonDisabled} onClick={() =>{setButtonType(1);setPageCount(1);handleSubmit();}} >\n                                <i className=\"glyph-icon simple-icon-check font-weight-bold\"></i> <b>Generate Report</b>\n                              </Button>\n                              <Button color=\"success\" className=\"default mt-4\" disabled={buttonDisabled} onClick={() =>{setButtonType(2);handleSubmit();}}  >\n                                <i className=\"glyph-icon simple-icon-check font-weight-bold\"></i> <b>Download Report</b>\n                              </Button>\n                            </Colxx>\n                          </Row>\n                        </CardBody>\n                    </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n      <Row>\n          <Colxx sm={12} lg={12}>\n            <Card>\n              <CardBody>\n                <Row>\n                  <Colxx md=\"6\">\n                    <h3>Faults and Alerts Report</h3>\n                  </Colxx>\n                  {report.length>0 &&\n                    <Colxx md=\"6\">\n                      <div className=\"text-right mr-2 \">\n                        <span>Page </span>\n                        <UncontrolledDropdown className=\"d-inline-block\">\n                          <DropdownToggle caret color=\"outline-primary\" size=\"xs\" data-display=\"static\">\n                            {pageCount}\n                          </DropdownToggle>\n                          <DropdownMenu className=\"dropdownMenu\">\n                            {renderPageList()}\n                          </DropdownMenu>\n                        </UncontrolledDropdown>\n                        <span> of </span>\n                        {lastPageCount}\n                      </div>\n                    </Colxx>\n                  }\n                </Row>\n                <Table responsive bordered striped>\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th>Station</th>\n                      <th>Charger ID</th>\n                      <th>Connnector ID</th>\n                      <th>Date of occurrence</th>\n                      <th>Time of occurrence</th>\n                      <th>Alarm Detail</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {isLoading ?\n                        <tr>\n                            <td className=\"text-center\" colSpan=\"7\"><div className=\"custom-list-loading\" /></td>\n                        </tr> : \n                        report.length > 0 ?\n                            report.map((item,index)=>\n                            <tr key={index}>\n                              <th scope=\"row\">{pageCount==1?index+1:(pageCount-1)*10+index +1}</th>\n                              <td>{item.station_name}</td>\n                              <td>{item.charger_id}</td>\n                              <td>{item.connector_id}</td>\n                              <td>{item.occur_date}</td>\n                              <td>{item.occur_time}</td>\n                              <td>{item.alarms}</td>\n                            </tr>\n                            ):\n                            <tr>\n                            <td className=\"text-center text-danger\" colSpan=\"7\">Data  Not  Found</td>\n                            </tr>                            \n                    }                    \n                  </tbody>\n                </Table>\n              </CardBody>\n            </Card>\n          </Colxx>\n      </Row>\n    </>\n  );\n};\n\nexport default FaultsAndAlerts;\n"]},"metadata":{},"sourceType":"module"}