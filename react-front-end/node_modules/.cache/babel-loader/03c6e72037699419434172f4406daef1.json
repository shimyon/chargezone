{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,FormGroup,Card,CardBody,CardSubtitle,Label,Input,Button,Alert}from'reactstrap';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getCurrentUser}from'../../../helpers/Utils';import{getStationsAPI,getEvAPI,getEvInventoryByIdAPI,updateEvInventoryAPI,adminRoot,getFleetOperatorAPI}from'../../../constants/defaultValues';import axios from'axios';import{useHistory,useLocation}from\"react-router-dom\";import{Formik}from'formik';import*as yup from'yup';const UpdateEvInventory=()=>{//state to disable button on click\nconst _useState=useState(false),_useState2=_slicedToArray(_useState,2),buttonDisabled=_useState2[0],setButtonDisabled=_useState2[1];//alert states\nconst _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alertVisible=_useState4[0],setAlertVisible=_useState4[1];const _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertMsg=_useState6[0],setAlertMsg=_useState6[1];const _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertColor=_useState8[0],setAlertColor=_useState8[1];//dropdown states\nconst _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),fleetOpNames=_useState10[0],setFleetOpNames=_useState10[1];const _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),stationNameData=_useState12[0],setStationNameData=_useState12[1];const _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),evData=_useState14[0],setEvData=_useState14[1];//EV data default states\nconst _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),eQrCode=_useState16[0],setEQrCode=_useState16[1];const _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),fleetOwner=_useState18[0],setFleetOwner=_useState18[1];const _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),hubId=_useState20[0],setHubId=_useState20[1];const _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),evMasterId=_useState22[0],setEvMasterId=_useState22[1];const _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),registrationNo=_useState24[0],setRegistrationNo=_useState24[1];const _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),vechicleId=_useState26[0],setVechicleId=_useState26[1];const _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),vechicleVin=_useState28[0],setVechicleVin=_useState28[1];const _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),remark1=_useState30[0],setRemark1=_useState30[1];const _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),remark2=_useState32[0],setRemark2=_useState32[1];const history=useHistory();const location=useLocation();useEffect(()=>{GetFleetOperatorAPICall();GetStationNamesAPICall();GetEvDataAPICall();getEvInventoryByIdAPICall();},[]);//API calls\nconst GetStationNamesAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.get(getStationsAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStationNameData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetStationNamesAPICall(){return _ref.apply(this,arguments);};}();const GetFleetOperatorAPICall=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:currentUser=getCurrentUser();_context2.next=3;return axios.get(getFleetOperatorAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setFleetOpNames(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function GetFleetOperatorAPICall(){return _ref2.apply(this,arguments);};}();const GetEvDataAPICall=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var currentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:currentUser=getCurrentUser();_context3.next=3;return axios.get(getEvAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setEvData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function GetEvDataAPICall(){return _ref3.apply(this,arguments);};}();const getEvInventoryByIdAPICall=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var currentUser;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:currentUser=getCurrentUser();_context4.next=3;return axios.post(getEvInventoryByIdAPI,{ev_inventory_id:location.state.ev_inventory_id},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setEQrCode(responseData.data.e_qr_code);setFleetOwner(responseData.data.fleet_owner_id);setHubId(responseData.data.hub_id);setEvMasterId(responseData.data.ev_master_id);setVechicleId(responseData.data.vechicle_id);setVechicleVin(responseData.data.vehicle_vin);setRegistrationNo(responseData.data.registration_no);setRemark1(responseData.data.remark_1);setRemark2(responseData.data.remark_2);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context4.stop();}},_callee4);}));return function getEvInventoryByIdAPICall(){return _ref4.apply(this,arguments);};}();const updateEvInventoryAPICall=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(params){var currentUser;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:setButtonDisabled(true);currentUser=getCurrentUser();_context5.next=4;return axios.post(updateEvInventoryAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){history.push({pathname:adminRoot+'/inventory/evInventory',state:{responseStatus:responseData.status,responseMsg:responseData.msg}});}else{setButtonDisabled(false);updateEvInventoryAlert(responseData.msg);}}).catch(error=>{setButtonDisabled(false);console.log(error);});case 4:case\"end\":return _context5.stop();}},_callee5);}));return function updateEvInventoryAPICall(_x){return _ref5.apply(this,arguments);};}();//Form Validation Schema\nconst EvInventoryDetailsValidationSchema=yup.object().shape({e_qr_code:yup.string().matches(/^\\d+$/,\"Only numbers allowed\").required(\"QR Code is required\"),fleet_owner_id:yup.string().required(\"Fleet Owner is required\"),hub_id:yup.string().required(\"Station is required\"),ev_master_id:yup.string().required(\"EV details is required\"),registration_no:yup.string().required(\"Registration No is required\"),vechicle_id:yup.string().matches(/^\\d+$/,\"Only numbers allowed\").required(\"Vehicle Id is required\"),vehicle_vin:yup.string().required(\"Vehicle Vin is required\")});//helper\n//Alert helper methods\nconst updateEvInventoryAlert=msg=>{setAlertVisible(true);setAlertMsg(msg);setAlertColor(\"danger\");};const onDismissAlert=()=>{setAlertVisible(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Update EV\"),/*#__PURE__*/React.createElement(\"a\",{href:\"evInventory\",className:\"btn-primary default btn-sm float-right\"},/*#__PURE__*/React.createElement(\"b\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-list\"}),\" EV List\")),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5 mt-1\"}))),/*#__PURE__*/React.createElement(Formik,{enableReinitialize:true,initialValues:{e_qr_code:eQrCode,fleet_owner_id:fleetOwner,hub_id:hubId,ev_master_id:evMasterId,registration_no:registrationNo,vechicle_id:vechicleId,vehicle_vin:vechicleVin,remark_1:remark1,remark_2:remark2},validationSchema:EvInventoryDetailsValidationSchema,onSubmit:values=>{const params={ev_inventory_id:location.state.ev_inventory_id,e_qr_code:values.e_qr_code,fleet_owner_id:values.fleet_owner_id,hub_id:values.hub_id,ev_master_id:values.ev_master_id,registration_no:values.registration_no,vechicle_id:values.vechicle_id,vehicle_vin:values.vehicle_vin,remark_1:values.remark_1,remark_2:values.remark_2};updateEvInventoryAPICall(params);}},({handleChange,handleBlur,handleSubmit,values,touched,errors})=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardSubtitle,{className:\"mb-3\"},/*#__PURE__*/React.createElement(Alert,{color:alertColor,isOpen:alertVisible,toggle:onDismissAlert},alertMsg)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"QR Code\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"QR Code\",name:\"e_qr_code\",value:values.e_qr_code,onChange:handleChange,onBlur:handleBlur,className:errors.e_qr_code&&touched.e_qr_code?\"input-error\":null}),errors.e_qr_code&&touched.e_qr_code&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.e_qr_code))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Fleet Owner\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"fleet_owner_id\",value:values.fleet_owner_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",{key:\"\",value:\"\"},\"All Fleet\"),fleetOpNames.map(item=>/*#__PURE__*/React.createElement(\"option\",{key:item.fleet_operator_id,value:item.fleet_operator_id},item.name))),errors.fleet_owner_id&&touched.fleet_owner_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.fleet_owner_id))),/*#__PURE__*/React.createElement(Colxx,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Vehicle Id\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Vehicle Id\",name:\"vechicle_id\",value:values.vechicle_id,onChange:handleChange,onBlur:handleBlur}),errors.vechicle_id&&touched.vechicle_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.vechicle_id))),/*#__PURE__*/React.createElement(Colxx,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Vehicle Vin\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Vehicle Vin\",name:\"vehicle_vin\",value:values.vehicle_vin,onChange:handleChange,onBlur:handleBlur}),errors.vehicle_vin&&touched.vehicle_vin&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.vehicle_vin))),/*#__PURE__*/React.createElement(Colxx,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Registration no\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Registration no\",name:\"registration_no\",value:values.registration_no,onChange:handleChange,onBlur:handleBlur}),errors.registration_no&&touched.registration_no&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.registration_no))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Swapping Station\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"hub_id\",value:values.hub_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Swapping Station\"),stationNameData.map(item=>/*#__PURE__*/React.createElement(\"option\",{value:item.hub_master_id,key:item.hub_master_id},item.name))),errors.hub_id&&touched.hub_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.hub_id))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"EV\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"ev_master_id\",value:values.ev_master_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select EV details\"),evData.map(item=>/*#__PURE__*/React.createElement(\"option\",{value:item.ev_master_id,key:item.ev_master_id},item.vehicle_model+\"-\"+item.vehicle_type+\"-\"+item.battery_capacity))),errors.ev_master_id&&touched.ev_master_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.ev_master_id))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Remark 1\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Remark 1\",name:\"remark_1\",value:values.remark_1,onChange:handleChange,onBlur:handleBlur}),errors.remark_1&&touched.remark_1&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.remark_1))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Remark 2\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Remark 2\",name:\"remark_2\",value:values.remark_2,onChange:handleChange,onBlur:handleBlur}),errors.remark_2&&touched.remark_2&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.remark_2)))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"12\",className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"default mr-2\",onClick:handleSubmit,disabled:buttonDisabled},/*#__PURE__*/React.createElement(\"b\",null,\"Update\")),/*#__PURE__*/React.createElement(Button,{color:\"light\",className:\"default\",onClick:()=>{history.goBack();}},/*#__PURE__*/React.createElement(\"b\",null,\"Cancel\")))))))))));};export default UpdateEvInventory;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone/react-front-end/src/views/app/inventory/UpdateEvInventory.js"],"names":["React","useState","useEffect","Row","FormGroup","Card","CardBody","CardSubtitle","Label","Input","Button","Alert","Colxx","Separator","getCurrentUser","getStationsAPI","getEvAPI","getEvInventoryByIdAPI","updateEvInventoryAPI","adminRoot","getFleetOperatorAPI","axios","useHistory","useLocation","Formik","yup","UpdateEvInventory","buttonDisabled","setButtonDisabled","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","fleetOpNames","setFleetOpNames","stationNameData","setStationNameData","evData","setEvData","eQrCode","setEQrCode","fleetOwner","setFleetOwner","hubId","setHubId","evMasterId","setEvMasterId","registrationNo","setRegistrationNo","vechicleId","setVechicleId","vechicleVin","setVechicleVin","remark1","setRemark1","remark2","setRemark2","history","location","GetFleetOperatorAPICall","GetStationNamesAPICall","GetEvDataAPICall","getEvInventoryByIdAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","post","ev_inventory_id","state","e_qr_code","fleet_owner_id","hub_id","ev_master_id","vechicle_id","vehicle_vin","registration_no","remark_1","remark_2","updateEvInventoryAPICall","params","push","pathname","responseStatus","responseMsg","updateEvInventoryAlert","EvInventoryDetailsValidationSchema","object","shape","string","matches","required","onDismissAlert","values","handleChange","handleBlur","handleSubmit","touched","errors","map","item","fleet_operator_id","name","hub_master_id","vehicle_model","vehicle_type","battery_capacity","goBack"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row, FormGroup, Card, CardBody,CardSubtitle,\n  Label,Input, Button,Alert\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {getStationsAPI,getEvAPI,getEvInventoryByIdAPI,updateEvInventoryAPI,adminRoot,getFleetOperatorAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport { useHistory,useLocation } from \"react-router-dom\";\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\n\nconst UpdateEvInventory = () => {\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //dropdown states\n  const [fleetOpNames,setFleetOpNames] = useState([]); \n  const [stationNameData,setStationNameData] = useState([]);\n  const [evData,setEvData] = useState([]);\n  //EV data default states\n  const [eQrCode,setEQrCode] = useState(\"\");\n  const [fleetOwner,setFleetOwner] = useState(\"\");\n  const [hubId,setHubId] = useState(\"\");\n  const [evMasterId,setEvMasterId] = useState(\"\");\n  const [registrationNo,setRegistrationNo] = useState(\"\");\n  const [vechicleId,setVechicleId] = useState(\"\");\n  const [vechicleVin,setVechicleVin] = useState(\"\");\n  const [remark1,setRemark1] = useState(\"\");\n  const [remark2,setRemark2] = useState(\"\");\n\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(()=>{\n    GetFleetOperatorAPICall();\n    GetStationNamesAPICall();\n    GetEvDataAPICall();\n    getEvInventoryByIdAPICall();\n  },[])\n\n  //API calls\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetFleetOperatorAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getFleetOperatorAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n        if (responseData.status === 1) {\n         setFleetOpNames(responseData.data);\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetEvDataAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getEvAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setEvData(responseData.data);\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getEvInventoryByIdAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.post(getEvInventoryByIdAPI,\n    {\n        ev_inventory_id:location.state.ev_inventory_id\n    },\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n        setEQrCode(responseData.data.e_qr_code);\n        setFleetOwner(responseData.data.fleet_owner_id);\n        setHubId(responseData.data.hub_id);\n        setEvMasterId(responseData.data.ev_master_id);\n        setVechicleId(responseData.data.vechicle_id);\n        setVechicleVin(responseData.data.vehicle_vin);\n        setRegistrationNo(responseData.data.registration_no);\n        setRemark1(responseData.data.remark_1);\n        setRemark2(responseData.data.remark_2);\n        }else{\n        console.log(responseData.msg);\n        }\n    }).catch(error=>{\n        console.log(error);\n    })\n}\n  const updateEvInventoryAPICall = async(params) => {\n    setButtonDisabled(true);\n    const currentUser = getCurrentUser();\n    await axios.post(updateEvInventoryAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          history.push({\n            pathname:adminRoot+'/inventory/evInventory',\n            state:{\n              responseStatus:responseData.status,\n              responseMsg:responseData.msg\n            }\n          })\n        }else{\n            setButtonDisabled(false);\n            updateEvInventoryAlert(responseData.msg);\n        }\n      }).catch(error=>{\n        setButtonDisabled(false);\n        console.log(error);\n      })\n  }\n\n  //Form Validation Schema\n  const EvInventoryDetailsValidationSchema = yup.object().shape({\n    e_qr_code:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"QR Code is required\"),\n    fleet_owner_id:yup.string()\n        .required(\"Fleet Owner is required\"),\n    hub_id:yup.string()\n        .required(\"Station is required\"),\n    ev_master_id:yup.string()\n        .required(\"EV details is required\"),\n    registration_no:yup.string()\n        .required(\"Registration No is required\"),\n    vechicle_id:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"Vehicle Id is required\"),\n    vehicle_vin:yup.string()\n        .required(\"Vehicle Vin is required\"),    \n  });\n\n  //helper\n  //Alert helper methods\n  const updateEvInventoryAlert = (msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Update EV</span>\n            <a href=\"evInventory\" className=\"btn-primary default btn-sm float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> EV List</b>\n            </a>\n          <Separator className=\"mb-5 mt-1\" />\n        </Colxx>\n      </Row>\n      <Formik\n        enableReinitialize={true}\n        initialValues={{\n            e_qr_code:eQrCode,\n            fleet_owner_id:fleetOwner,\n            hub_id:hubId,\n            ev_master_id:evMasterId,\n            registration_no:registrationNo,\n            vechicle_id:vechicleId,\n            vehicle_vin:vechicleVin,\n            remark_1:remark1,\n            remark_2:remark2,\n        }}\n        validationSchema={EvInventoryDetailsValidationSchema} \n        onSubmit={(values)=>{\n          const params={\n                ev_inventory_id:location.state.ev_inventory_id,\n                e_qr_code:values.e_qr_code,\n                fleet_owner_id:values.fleet_owner_id,\n                hub_id:values.hub_id,\n                ev_master_id:values.ev_master_id,\n                registration_no:values.registration_no,\n                vechicle_id:values.vechicle_id,\n                vehicle_vin:values.vehicle_vin,\n                remark_1:values.remark_1,\n                remark_2:values.remark_2,\n            }\n          updateEvInventoryAPICall(params);\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                  <Card className=\"mb-4\">\n                      <CardBody>\n                        <CardSubtitle className=\"mb-3\">\n                          <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert}>\n                            {alertMsg}\n                          </Alert>\n                        </CardSubtitle> \n                        <Row>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                                QR Code\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"QR Code\"\n                                name=\"e_qr_code\"\n                                value={values.e_qr_code}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                className={errors.e_qr_code && touched.e_qr_code ? \"input-error\":null}\n                              />\n                              {errors.e_qr_code && touched.e_qr_code &&(\n                                <span className=\"error\">{errors.e_qr_code}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                              Fleet Owner\n                              </Label>\n                              <Input \n                                type=\"select\"\n                                name=\"fleet_owner_id\"\n                                value={values.fleet_owner_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              >\n                                <option key=\"\" value=\"\">All Fleet</option>\n                                {fleetOpNames.map(item=>\n                                  <option key={item.fleet_operator_id} value={item.fleet_operator_id}>{item.name}</option>\n                                )}\n                              </Input>\n                              {errors.fleet_owner_id && touched.fleet_owner_id &&(\n                                <span className=\"error\">{errors.fleet_owner_id}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={4}>\n                            <FormGroup>\n                              <Label>\n                              Vehicle Id\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"Vehicle Id\"\n                                name=\"vechicle_id\"\n                                value={values.vechicle_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              />\n                              {errors.vechicle_id && touched.vechicle_id &&(\n                                <span className=\"error\">{errors.vechicle_id}</span>\n                              )}                        \n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={4}>\n                            <FormGroup>\n                              <Label>\n                              Vehicle Vin\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"Vehicle Vin\"\n                                name=\"vehicle_vin\"\n                                value={values.vehicle_vin}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              />\n                              {errors.vehicle_vin && touched.vehicle_vin &&(\n                                <span className=\"error\">{errors.vehicle_vin}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={4}>\n                            <FormGroup>\n                              <Label>\n                                Registration no\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"Registration no\"\n                                name=\"registration_no\"\n                                value={values.registration_no}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              />\n                              {errors.registration_no && touched.registration_no &&(\n                                <span className=\"error\">{errors.registration_no}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                              Swapping Station\n                              </Label>\n                              <Input\n                                type=\"select\"\n                                name=\"hub_id\"\n                                value={values.hub_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              >\n                                <option>Select Swapping Station</option>\n                                {stationNameData.map((item)=>\n                                  <option value={item.hub_master_id} key={item.hub_master_id}>{item.name}</option>\n                                )}\n                              </Input>\n                              {errors.hub_id && touched.hub_id &&(\n                                <span className=\"error\">{errors.hub_id}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                              EV\n                              </Label>\n                              <Input\n                                type=\"select\"\n                                name=\"ev_master_id\"\n                                value={values.ev_master_id}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              >\n                                <option>Select EV details</option>\n                                {evData.map((item)=>\n                                  <option value={item.ev_master_id} key={item.ev_master_id}>{item.vehicle_model+\"-\"+item.vehicle_type+\"-\"+item.battery_capacity}</option>\n                                )}\n                              </Input>\n                              {errors.ev_master_id && touched.ev_master_id &&(\n                                <span className=\"error\">{errors.ev_master_id}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                              Remark 1\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"Remark 1\"\n                                name=\"remark_1\"\n                                value={values.remark_1}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              />\n                              {errors.remark_1 && touched.remark_1 &&(\n                                <span className=\"error\">{errors.remark_1}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                          <Colxx md={6}>\n                            <FormGroup>\n                              <Label>\n                                Remark 2\n                              </Label>\n                              <Input\n                                type=\"text\"\n                                placeholder=\"Remark 2\"\n                                name=\"remark_2\"\n                                value={values.remark_2}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                              />\n                              {errors.remark_2 && touched.remark_2 &&(\n                                <span className=\"error\">{errors.remark_2}</span>\n                              )}\n                            </FormGroup>\n                          </Colxx>\n                        </Row>\n                        <Row>\n                          <Colxx md=\"12\" className=\"text-center\">\n                            <Button color=\"primary\" className=\"default mr-2\" onClick={handleSubmit} disabled={buttonDisabled}>\n                                <b>Update</b>\n                            </Button>\n                            <Button color=\"light\" className=\"default\" onClick={()=>{history.goBack()}}>\n                                <b>Cancel</b>\n                            </Button>\n                          </Colxx>\n                        </Row>\n                    </CardBody>\n                  </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n    </>\n  );\n};\n\nexport default UpdateEvInventory;\n"]},"metadata":{},"sourceType":"module"}