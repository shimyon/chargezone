{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row}from'reactstrap';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getDashboardDataAPI}from'../../../constants/defaultValues';import{getCurrentUser}from'../../../helpers/Utils';import axios from'axios';import{ThemeColors}from'../../../helpers/ThemeColors';import{IconCardsCarousel,setChargerCount,setConnectorCount,setBatteriesCount,setEVCount}from'./operator/cardCarousel';import{ChargerDoughnut,setChargerChartData}from'./operator/ChargerDoughnut';import{ConnectorDoughnut,setConnectorChartData}from'./operator/ConnectorDoughnut';import{BatteryStatusChart,setBatteryChartData}from'./operator/BatteryStatusChart';const colors=ThemeColors();const Operator_dashboard=({match})=>{const _useState=useState('0'),_useState2=_slicedToArray(_useState,2),batteryStatus=_useState2[0],setBatteryStatus=_useState2[1];//batteries chart dropdown\n//Slots useState\nconst _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),refresh=_useState4[0],setRefresh=_useState4[1];useEffect(()=>{GetDashboardDataAPICall();},[batteryStatus]);//API call\nconst GetDashboardDataAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.post(getDashboardDataAPI,{battery_satus_id:batteryStatus},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setBatteriesCount(responseData.data.batteries.total);setChargerCount(responseData.data.chargers.total);setEVCount(responseData.data.ev.total);setConnectorCount(responseData.data.slots.total);setBatteryChartData(0,responseData.data.batteries.total,responseData.data.batteries.in_charging);setBatteryChartData(1,responseData.data.batteries.total,responseData.data.batteries.charged);setBatteryChartData(2,responseData.data.batteries.total,responseData.data.batteries.discharged);setBatteryChartData(3,responseData.data.batteries.total,responseData.data.batteries.faulty);setBatteryChartData(4,responseData.data.batteries.total,responseData.data.batteries.faulty);setChargerChartData(responseData.data.chargers.operational,responseData.data.chargers.faulty);setConnectorChartData(responseData.data.slots.inuse,responseData.data.slots.available,responseData.data.slots.faulty);setRefresh(responseData);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetDashboardDataAPICall(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Operator Dashboard\"),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{lg:\"12\",xl:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(IconCardsCarousel,null))),/*#__PURE__*/React.createElement(Row,{className:\"mb-12\"},/*#__PURE__*/React.createElement(Colxx,{sm:\"12\",md:\"4\",className:\"mb-4\"},/*#__PURE__*/React.createElement(ChargerDoughnut,null)),/*#__PURE__*/React.createElement(Colxx,{sm:\"12\",md:\"4\",className:\"mb-4\"},/*#__PURE__*/React.createElement(BatteryStatusChart,{cardClass:\"dashboard-progress\"})),/*#__PURE__*/React.createElement(Colxx,{sm:\"12\",md:\"4\",className:\"mb-4\"},/*#__PURE__*/React.createElement(ConnectorDoughnut,null))));};export default Operator_dashboard;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/dashboard/Operator_dashboard.js"],"names":["React","useState","useEffect","Row","Colxx","Separator","getDashboardDataAPI","getCurrentUser","axios","ThemeColors","IconCardsCarousel","setChargerCount","setConnectorCount","setBatteriesCount","setEVCount","ChargerDoughnut","setChargerChartData","ConnectorDoughnut","setConnectorChartData","BatteryStatusChart","setBatteryChartData","colors","Operator_dashboard","match","batteryStatus","setBatteryStatus","refresh","setRefresh","GetDashboardDataAPICall","currentUser","post","battery_satus_id","headers","Authorization","token","then","response","responseData","data","status","batteries","total","chargers","ev","slots","in_charging","charged","discharged","faulty","operational","inuse","available","console","log","msg","catch","error"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row,\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport {getDashboardDataAPI} from '../../../constants/defaultValues'\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport axios from 'axios';\nimport { ThemeColors } from '../../../helpers/ThemeColors';\nimport {IconCardsCarousel,setChargerCount,setConnectorCount,setBatteriesCount,setEVCount} from './operator/cardCarousel';\nimport {ChargerDoughnut, setChargerChartData} from './operator/ChargerDoughnut';\nimport {ConnectorDoughnut,setConnectorChartData} from './operator/ConnectorDoughnut';\nimport {BatteryStatusChart,setBatteryChartData} from './operator/BatteryStatusChart';\n\n\nconst colors = ThemeColors();\n\nconst Operator_dashboard = ({ match }) => {\n \n  const [batteryStatus,setBatteryStatus] = useState('0'); //batteries chart dropdown\n   //Slots useState\n  const [refresh,setRefresh]= useState({});\n  useEffect(()=>{\n  \n    GetDashboardDataAPICall();\n  },[batteryStatus])\n\n  //API call\n  const GetDashboardDataAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.post(getDashboardDataAPI,\n    {battery_satus_id:batteryStatus},\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n     setBatteriesCount(responseData.data.batteries.total)\n       \n       setChargerCount(responseData.data.chargers.total);\n      \n        setEVCount(responseData.data.ev.total);\n        setConnectorCount(responseData.data.slots.total);\n\n       setBatteryChartData(0,responseData.data.batteries.total,responseData.data.batteries.in_charging);\n       setBatteryChartData(1,responseData.data.batteries.total,responseData.data.batteries.charged);\n       setBatteryChartData(2,responseData.data.batteries.total,responseData.data.batteries.discharged);\n       setBatteryChartData(3,responseData.data.batteries.total,responseData.data.batteries.faulty);\n       setBatteryChartData(4,responseData.data.batteries.total,responseData.data.batteries.faulty);\n       \n       setChargerChartData(responseData.data.chargers.operational,responseData.data.chargers.faulty);\n       setConnectorChartData( responseData.data.slots.inuse,responseData.data.slots.available,responseData.data.slots.faulty);\n       setRefresh(responseData);\n          \n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n \n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n         <span className=\"page_title\">Operator Dashboard</span>\n         <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Row>\n        <Colxx lg=\"12\" xl=\"12\" md=\"12\">\n          <IconCardsCarousel />         \n        </Colxx>       \n      </Row>\n      <Row className=\"mb-12\">\n        <Colxx sm=\"12\" md=\"4\" className=\"mb-4\">\n          <ChargerDoughnut />\n        </Colxx>\n        <Colxx sm=\"12\" md=\"4\" className=\"mb-4\">\n          <BatteryStatusChart cardClass=\"dashboard-progress\"  />\n        </Colxx>\n    \n        <Colxx sm=\"12\" md=\"4\" className=\"mb-4\">\n          <ConnectorDoughnut />\n        </Colxx>       \n    </Row>\n    </>\n  );\n};\n\nexport default Operator_dashboard;"]},"metadata":{},"sourceType":"module"}