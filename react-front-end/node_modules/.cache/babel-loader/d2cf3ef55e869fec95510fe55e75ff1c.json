{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\src\\\\views\\\\app\\\\mapping\\\\Evmapping.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Row, Card, CardBody, Modal, ModalHeader, ModalBody, ModalFooter, Table, Button, DropdownItem, DropdownMenu, DropdownToggle, Alert, UncontrolledDropdown, FormGroup, Label, Input, InputGroup } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils';\nimport { getStationsAPI, getEvInventoryByIdAPI, getEvMappingAPI, mapEvAPI } from '../../../constants/defaultValues';\nimport axios from 'axios';\n\nconst Evmapping = () => {\n  //default values in modal\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        evData = _useState2[0],\n        setEvData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        stationNameData = _useState4[0],\n        setStationNameData = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        remark1 = _useState6[0],\n        setRemark1 = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        remark2 = _useState8[0],\n        setRemark2 = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        selectedHub = _useState10[0],\n        setSelectedHub = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        updateEvMappingId = _useState12[0],\n        setUpdateEvMappingId = _useState12[1]; // list state\n\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        evList = _useState14[0],\n        setEvList = _useState14[1];\n\n  const _useState15 = useState(\"All Ev\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        evType = _useState16[0],\n        setEvType = _useState16[1];\n\n  const _useState17 = useState(0),\n        _useState18 = _slicedToArray(_useState17, 2),\n        deleteEvMappingId = _useState18[0],\n        setDeleteEvMappingId = _useState18[1];\n\n  const _useState19 = useState(0),\n        _useState20 = _slicedToArray(_useState19, 2),\n        isUpdate = _useState20[0],\n        setIsUpdate = _useState20[1]; //alert states\n\n\n  const _useState21 = useState(false),\n        _useState22 = _slicedToArray(_useState21, 2),\n        alertVisible = _useState22[0],\n        setAlertVisible = _useState22[1];\n\n  const _useState23 = useState(\"\"),\n        _useState24 = _slicedToArray(_useState23, 2),\n        alertMsg = _useState24[0],\n        setAlertMsg = _useState24[1];\n\n  const _useState25 = useState(\"\"),\n        _useState26 = _slicedToArray(_useState25, 2),\n        alertColor = _useState26[0],\n        setAlertColor = _useState26[1]; //search state\n\n\n  const _useState27 = useState(\"\"),\n        _useState28 = _slicedToArray(_useState27, 2),\n        searchBy = _useState28[0],\n        setSearchBy = _useState28[1]; //Pagination states\n\n\n  const _useState29 = useState(\"1\"),\n        _useState30 = _slicedToArray(_useState29, 2),\n        pageCount = _useState30[0],\n        setPageCount = _useState30[1];\n\n  const _useState31 = useState(\"1\"),\n        _useState32 = _slicedToArray(_useState31, 2),\n        lastPageCount = _useState32[0],\n        setLastPageCount = _useState32[1]; //Modal States\n\n\n  const _useState33 = useState(false),\n        _useState34 = _slicedToArray(_useState33, 2),\n        modalVisible = _useState34[0],\n        setModalVisible = _useState34[1];\n\n  const _useState35 = useState(false),\n        _useState36 = _slicedToArray(_useState35, 2),\n        modalUpdateVisible = _useState36[0],\n        setModalUpdateVisible = _useState36[1];\n\n  const _useState37 = useState(true),\n        _useState38 = _slicedToArray(_useState37, 2),\n        isLoading = _useState38[0],\n        setIsLoading = _useState38[1]; //alert states for update modal\n\n\n  const _useState39 = useState(false),\n        _useState40 = _slicedToArray(_useState39, 2),\n        alertModalVisible = _useState40[0],\n        setAlertModalVisible = _useState40[1];\n\n  const _useState41 = useState(\"\"),\n        _useState42 = _slicedToArray(_useState41, 2),\n        alertModalMsg = _useState42[0],\n        setAlertModalMsg = _useState42[1];\n\n  const _useState43 = useState(\"\"),\n        _useState44 = _slicedToArray(_useState43, 2),\n        alertModalColor = _useState44[0],\n        setAlertModalColor = _useState44[1];\n\n  useEffect(() => {\n    getEvMappingAPICall();\n  }, [isUpdate, pageCount, evType]); //API CALLS\n\n  const getEvMappingAPICall = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            currentUser = getCurrentUser();\n            _context.next = 4;\n            return axios.get(getEvMappingAPI + pageCount + \"&ev_type=\" + evType + \"&search_param=\" + searchBy, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setLastPageCount(responseData.data.last_page);\n                setEvList(responseData.data.data);\n              } else {\n                console.log(responseData.msg);\n                setEvList([]);\n              }\n\n              setIsLoading(false);\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function getEvMappingAPICall() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const GetStationNamesAPICall = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context2.next = 3;\n            return axios.get(getStationsAPI, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setStationNameData(responseData.data);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function GetStationNamesAPICall() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  const getEvInventoryByIdAPICall = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(evInventoryId) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context3.next = 3;\n            return axios.post(getEvInventoryByIdAPI, {\n              ev_inventory_id: evInventoryId\n            }, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setEvData(responseData.data);\n                setSelectedHub(responseData.data.hub_id);\n                setRemark1(responseData.data.remark_1);\n                setRemark2(responseData.data.remark_2);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function getEvInventoryByIdAPICall(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  const mapEvAPICall = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(evMappingId, hubId, remark1, remark2) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            setModalVisible(false);\n            setModalUpdateVisible(false);\n            currentUser = getCurrentUser();\n            _context4.next = 5;\n            return axios.post(mapEvAPI, {\n              ev_inventory_id: evMappingId,\n              hub_id: hubId,\n              remark_1: remark1,\n              remark_2: remark2\n            }, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setIsUpdate(!isUpdate);\n\n                if (hubId == 0) {\n                  evMappingDeletedAlert(responseData.status, \"EV Unmapped Successfully\");\n                } else {\n                  evMappingDeletedAlert(responseData.status, responseData.msg);\n                }\n              } else {\n                evMappingDeletedAlert(responseData.status, responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n\n    return function mapEvAPICall(_x2, _x3, _x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); //pagination method\n\n\n  const renderPageList = () => {\n    const pageNumbers = [];\n\n    for (let i = 0; i < lastPageCount; i += 1) {\n      pageNumbers.push( /*#__PURE__*/React.createElement(DropdownItem, {\n        key: i,\n        onClick: () => {\n          setPageCount(i + 1);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, i + 1));\n    }\n\n    return pageNumbers;\n  }; //helper methods\n  //Alert helper methods\n\n\n  const evMappingDeletedAlert = (status, msg) => {\n    setAlertVisible(true);\n    setAlertMsg(msg);\n\n    if (status === 1) {\n      setAlertColor(\"success\");\n    } else {\n      setAlertColor(\"danger\");\n    }\n  };\n\n  const evModalAlert = (status, msg) => {\n    setAlertModalVisible(true);\n    setAlertModalMsg(msg);\n\n    if (status === 1) {\n      setAlertModalColor(\"success\");\n    } else {\n      setAlertModalColor(\"danger\");\n    }\n  };\n\n  const onDismissAlert = () => {\n    setAlertVisible(false);\n  }; //Modal helper methods\n\n\n  const toggleModal = item => {\n    setRemark1(item.remark_1);\n    setRemark2(item.remark_2);\n    setDeleteEvMappingId(item.ev_inventory_id);\n    setModalVisible(!modalVisible);\n  };\n\n  const toggleUpdateModal = item => {\n    GetStationNamesAPICall();\n    getEvInventoryByIdAPICall(item.ev_inventory_id);\n    setUpdateEvMappingId(item.ev_inventory_id);\n    setModalUpdateVisible(!modalUpdateVisible);\n  }; // value input handle method\n\n\n  const updateEvMappingDetails = () => {\n    if (selectedHub != 0) {\n      console.log(\"mapped\");\n      mapEvAPICall(updateEvMappingId, selectedHub, remark1, remark2);\n    } else {\n      evModalAlert(0, \"Station is required\");\n      return;\n    }\n  }; //handle search input\n\n\n  const handleSearch = () => {\n    setPageCount(1);\n    getEvMappingAPICall();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"page_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, \"EV Mapping\"), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Search\",\n    value: searchBy,\n    onChange: e => setSearchBy(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"default search-icon\",\n    color: \"primary\",\n    outline: true,\n    onClick: () => handleSearch(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-magnifier\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 106\n    }\n  }))))), /*#__PURE__*/React.createElement(Colxx, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right mr-5 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"EV Type : \"), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    caret: true,\n    color: \"outline-primary\",\n    size: \"xs\",\n    \"data-display\": \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, evType), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdownMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => {\n      setEvType('All Ev');\n      setPageCount(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => {\n      setEvType('Mapped EV');\n      setPageCount(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, \"Mapped EV\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => {\n      setEvType('Unmapped EV');\n      setPageCount(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  }, \"Unmapped EV\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"Page \"), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    caret: true,\n    color: \"outline-primary\",\n    size: \"xs\",\n    \"data-display\": \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, pageCount), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdownMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, renderPageList())), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, \" of \"), lastPageCount))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertColor,\n    isOpen: alertVisible,\n    toggle: onDismissAlert,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, alertMsg), /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    bordered: true,\n    striped: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, \"EV Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"Swapping Station\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }\n  }, \"Remark1\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, \"Remark2\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    colSpan: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-list-loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 63\n    }\n  }))) : evList.length > 0 ? evList.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: item.ev_inventory_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  }, pageCount == 1 ? index + 1 : (pageCount - 1) * 10 + index + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 49\n    }\n  }, \"QR Code: \"), item.e_qr_code), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 49\n    }\n  }, \"Vehicle Model: \"), item.vehicle_model), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 49\n    }\n  }, \"Vehicle Make: \"), item.vehicle_make), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 49\n    }\n  }, \"Vehicle Type: \"), item.vehicle_type)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 25\n    }\n  }, item.station_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, item.remark_1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 25\n    }\n  }, item.remark_2), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    className: \"default mr-1 btn-sm tbl_action_btn\",\n    onClick: () => toggleUpdateModal(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-pencil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 31\n    }\n  })), item.hub_id > 0 && /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    className: \"default btn-sm tbl_action_btn\",\n    onClick: () => {\n      toggleModal(item);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 31\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center text-danger\",\n    colSpan: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, \"Data  Not  Found\")))))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalVisible,\n    toggle: toggleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }, \"Are you sure you would like to unmap this ev?\", /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    className: \"mt-4\",\n    onClick: () => mapEvAPICall(deleteEvMappingId, 0, remark1, remark2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, \"Unmap\"), ' ', /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    className: \"mt-4 mr-2\",\n    onClick: toggleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalUpdateVisible,\n    toggle: toggleUpdateModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    className: \"mt-2 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 15\n    }\n  }, \"Update details\"))), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertModalColor,\n    isOpen: alertModalVisible,\n    toggle: () => setAlertModalVisible(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  }, alertModalMsg)), /*#__PURE__*/React.createElement(Colxx, {\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 19\n    }\n  }, \"EV details\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 23\n    }\n  }, \"Vehicle Vin : \"), evData.vehicle_vin), /*#__PURE__*/React.createElement(Colxx, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 23\n    }\n  }, \"QR Code : \"), evData.e_qr_code)))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, \"Swapping Station\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"hub_id\",\n    placeholder: \"Station\",\n    value: selectedHub,\n    onChange: e => {\n      setSelectedHub(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, \"Select Station\"), stationNameData.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    value: item.hub_master_id,\n    key: item.hub_master_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 23\n    }\n  }, item.name))))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 19\n    }\n  }, \"Remark1\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Remark1\",\n    value: remark1,\n    onChange: e => {\n      setRemark1(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 19\n    }\n  }, \"Remark2\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Remark2\",\n    value: remark2,\n    onChange: e => {\n      setRemark2(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    className: \"mt-4\",\n    onClick: () => updateEvMappingDetails(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 11\n    }\n  }, \"Map\"), ' ', /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    className: \"mt-4 mr-2\",\n    onClick: toggleUpdateModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }, \"Cancel\"))));\n};\n\nexport default Evmapping;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/mapping/Evmapping.js"],"names":["React","useEffect","useState","Row","Card","CardBody","Modal","ModalHeader","ModalBody","ModalFooter","Table","Button","DropdownItem","DropdownMenu","DropdownToggle","Alert","UncontrolledDropdown","FormGroup","Label","Input","InputGroup","Colxx","Separator","getCurrentUser","getStationsAPI","getEvInventoryByIdAPI","getEvMappingAPI","mapEvAPI","axios","Evmapping","evData","setEvData","stationNameData","setStationNameData","remark1","setRemark1","remark2","setRemark2","selectedHub","setSelectedHub","updateEvMappingId","setUpdateEvMappingId","evList","setEvList","evType","setEvType","deleteEvMappingId","setDeleteEvMappingId","isUpdate","setIsUpdate","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","searchBy","setSearchBy","pageCount","setPageCount","lastPageCount","setLastPageCount","modalVisible","setModalVisible","modalUpdateVisible","setModalUpdateVisible","isLoading","setIsLoading","alertModalVisible","setAlertModalVisible","alertModalMsg","setAlertModalMsg","alertModalColor","setAlertModalColor","getEvMappingAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","last_page","console","log","msg","catch","error","GetStationNamesAPICall","getEvInventoryByIdAPICall","evInventoryId","post","ev_inventory_id","hub_id","remark_1","remark_2","mapEvAPICall","evMappingId","hubId","evMappingDeletedAlert","renderPageList","pageNumbers","i","push","evModalAlert","onDismissAlert","toggleModal","item","toggleUpdateModal","updateEvMappingDetails","handleSearch","e","target","value","length","map","index","e_qr_code","vehicle_model","vehicle_make","vehicle_type","station_name","vehicle_vin","hub_master_id","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Card, CardBody,\n  Modal,ModalHeader, ModalBody, ModalFooter,\n  Table, Button, \n  DropdownItem,DropdownMenu,DropdownToggle,\n  Alert,\n  UncontrolledDropdown,\n  FormGroup,\n  Label,\n  Input,InputGroup \n} from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport {getCurrentUser} from '../../../helpers/Utils';\nimport {getStationsAPI,getEvInventoryByIdAPI,getEvMappingAPI,mapEvAPI} from '../../../constants/defaultValues';\nimport axios from 'axios';\n\nconst Evmapping = () => {\n  //default values in modal\n  const [evData,setEvData] = useState([]);\n  const [stationNameData,setStationNameData] = useState([]);\n  const [remark1,setRemark1] = useState(\"\");\n  const [remark2,setRemark2] = useState(\"\");\n  const [selectedHub, setSelectedHub] = useState([]);\n  const [updateEvMappingId,setUpdateEvMappingId] = useState(false);\n  // list state\n  const [evList,setEvList] = useState([]);\n  const [evType,setEvType] = useState(\"All Ev\");\n  const [deleteEvMappingId,setDeleteEvMappingId] = useState(0);\n  const [isUpdate,setIsUpdate] = useState(0);\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //search state\n  const [searchBy,setSearchBy] = useState(\"\");\n  //Pagination states\n  const [pageCount,setPageCount] = useState(\"1\");\n  const [lastPageCount,setLastPageCount] = useState(\"1\");\n  //Modal States\n  const [modalVisible,setModalVisible] = useState(false);\n  const [modalUpdateVisible,setModalUpdateVisible] = useState(false);\n  const [isLoading,setIsLoading] = useState(true);\n  //alert states for update modal\n  const [alertModalVisible,setAlertModalVisible] = useState(false);\n  const [alertModalMsg,setAlertModalMsg] = useState(\"\");\n  const [alertModalColor,setAlertModalColor] = useState(\"\");\n\n  useEffect(()=>{\n    getEvMappingAPICall();\n  },[isUpdate,pageCount,evType]);\n\n  //API CALLS\n  const getEvMappingAPICall = async() => {\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.get(getEvMappingAPI+pageCount+\"&ev_type=\"+evType+`&search_param=`+searchBy,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setLastPageCount(responseData.data.last_page)\n          setEvList(responseData.data.data);\n        }else{\n          console.log(responseData.msg);\n          setEvList([]);\n        }\n        setIsLoading(false);\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getEvInventoryByIdAPICall = async(evInventoryId) => {\n    const currentUser = getCurrentUser();\n    await axios.post(getEvInventoryByIdAPI,\n      {ev_inventory_id:evInventoryId},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setEvData(responseData.data);\n          setSelectedHub(responseData.data.hub_id);\n          setRemark1(responseData.data.remark_1);\n          setRemark2(responseData.data.remark_2)\n        }else{\n          console.log(responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      });   \n  }\n  const mapEvAPICall = async(evMappingId,hubId,remark1,remark2) =>{\n    setModalVisible(false);\n    setModalUpdateVisible(false);\n    const currentUser = getCurrentUser();\n    await axios.post(mapEvAPI,\n      {ev_inventory_id:evMappingId,hub_id:hubId,remark_1:remark1,remark_2:remark2},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n          const responseData = response.data;\n          if (responseData.status === 1) {\n            setIsUpdate(!isUpdate);\n            if (hubId==0) {\n              evMappingDeletedAlert(responseData.status,\"EV Unmapped Successfully\") \n            } else {\n              evMappingDeletedAlert(responseData.status,responseData.msg) \n            }\n          } else {\n            evMappingDeletedAlert(responseData.status,responseData.msg)\n          }\n      }).catch(error=>{\n        console.log(error);\n      })\n  }\n  //pagination method\n  const renderPageList = () => {\n    const pageNumbers = [];\n    for (let i = 0; i <lastPageCount; i += 1) {\n      pageNumbers.push(\n        <DropdownItem key={i} onClick={() => {setPageCount(i+1)}}>\n          {i+1}\n        </DropdownItem>\n      );\n    }\n    return pageNumbers;\n  };\n\n  //helper methods\n  //Alert helper methods\n  const evMappingDeletedAlert = (status,msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    if (status === 1) {\n      setAlertColor(\"success\");\n    } else {\n      setAlertColor(\"danger\");\n    }              \n  }\n  const evModalAlert = (status,msg)=>{\n    setAlertModalVisible(true);\n    setAlertModalMsg(msg);\n    if (status === 1) {\n      setAlertModalColor(\"success\");\n    } else {\n      setAlertModalColor(\"danger\");\n    }              \n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n  //Modal helper methods\n  const toggleModal = (item) => {\n    setRemark1(item.remark_1);\n    setRemark2(item.remark_2);\n    setDeleteEvMappingId(item.ev_inventory_id);\n    setModalVisible(!modalVisible);\n  }\n  const toggleUpdateModal = (item) => {\n    GetStationNamesAPICall();\n    getEvInventoryByIdAPICall(item.ev_inventory_id);\n    setUpdateEvMappingId(item.ev_inventory_id);\n    setModalUpdateVisible(!modalUpdateVisible);\n  }\n  // value input handle method\n  const updateEvMappingDetails = () =>{\n    if (selectedHub !=0) {\n      console.log(\"mapped\");\n      mapEvAPICall(updateEvMappingId,selectedHub,remark1,remark2)\n    } else {\n      evModalAlert(0,\"Station is required\");\n      return;  \n    } \n  }\n   //handle search input\n   const handleSearch = () => {\n      setPageCount(1);\n      getEvMappingAPICall();\n  }\n  \n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">EV Mapping</span>\n            <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Row>\n        <Colxx md=\"4\">\n          <div className=\"ml-2 mb-2\">\n            <InputGroup>\n            <Input \n            type=\"text\" \n            placeholder=\"Search\"\n            value={searchBy}\n            onChange={e=>setSearchBy(e.target.value)}/>\n            <Button className=\"default search-icon\" color=\"primary\" outline onClick={()=>handleSearch()}><i className=\"glyph-icon simple-icon-magnifier\"></i></Button>\n            </InputGroup>  \n          </div>\n        </Colxx>\n        <Colxx md=\"8\">\n          <div className=\"text-right mr-5 mb-2\">\n              <span>EV Type : </span>\n              <UncontrolledDropdown className=\"d-inline-block\">\n                <DropdownToggle caret color=\"outline-primary\" size=\"xs\" data-display=\"static\">\n                  {evType}\n                </DropdownToggle>\n                <DropdownMenu className=\"dropdownMenu\">\n                    <DropdownItem onClick={() => {setEvType('All Ev');setPageCount(1)}}>All</DropdownItem>\n                    <DropdownItem onClick={() => {setEvType('Mapped EV');setPageCount(1)}}>Mapped EV</DropdownItem>\n                    <DropdownItem onClick={() => {setEvType('Unmapped EV');setPageCount(1)}}>Unmapped EV</DropdownItem>\n                </DropdownMenu>\n              </UncontrolledDropdown>\n              <span className=\"ml-5\">Page </span>\n              <UncontrolledDropdown className=\"d-inline-block\">\n                <DropdownToggle caret color=\"outline-primary\" size=\"xs\" data-display=\"static\">\n                  {pageCount}\n                </DropdownToggle>\n                <DropdownMenu className=\"dropdownMenu\">\n                  {renderPageList()}\n                </DropdownMenu>\n              </UncontrolledDropdown>\n              <span> of </span>\n              {lastPageCount}              \n            </div>\n        </Colxx>\n      </Row>\n      <Row className=\"mb-5\">\n        <Colxx xxs=\"12\">\n          <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert} className=\"mb-3\">\n            {alertMsg}\n          </Alert>\n          <Card className=\"mb-4\">\n            <CardBody>\n              <Table responsive bordered striped>\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>EV Id</th>\n                    <th>Swapping Station</th>\n                    <th>Remark1</th>\n                    <th>Remark2</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                {isLoading ?\n                  <tr>\n                      <td className=\"text-center\" colSpan=\"6\"><div className=\"custom-list-loading\" /></td>\n                  </tr> : \n                  (evList.length > 0)?\n                    evList.map((item,index)=>\n                      <tr key={item.ev_inventory_id}>\n                        <th scope=\"row\">{pageCount==1?index+1:(pageCount-1)*10+index+1}</th>\n                        <td>\n                            <p className=\"mb-0\"><b>QR Code: </b>{item.e_qr_code}</p>\n                            <p className=\"mb-0\"><b>Vehicle Model: </b>{item.vehicle_model}</p>\n                            <p className=\"mb-0\"><b>Vehicle Make: </b>{item.vehicle_make}</p>\n                            <p className=\"mb-0\"><b>Vehicle Type: </b>{item.vehicle_type}</p> \n                        </td>\n                        <td>{item.station_name}</td>\n                        <td>{item.remark_1}</td>\n                        <td>{item.remark_2}</td>\n                        <td>\n                          <Button color=\"info\" className=\"default mr-1 btn-sm tbl_action_btn\" onClick={()=>toggleUpdateModal(item)}>\n                              <i className=\"glyph-icon simple-icon-pencil\"></i>\n                          </Button>\n                          {(item.hub_id > 0) && \n                          <Button color=\"danger\" className=\"default btn-sm tbl_action_btn\" onClick={()=>{toggleModal(item)}}>\n                              <i className=\"glyph-icon simple-icon-trash\"></i>\n                          </Button>}\n                          \n                        </td>\n                      </tr>\n                    ):<tr>\n                        <td className=\"text-center text-danger\" colSpan=\"6\">Data  Not  Found</td>\n                    </tr>\n                  }\n                </tbody>\n              </Table>\n            </CardBody>\n          </Card>\n        </Colxx>\n      </Row>\n      <Modal\n        isOpen={modalVisible}\n        toggle={toggleModal} >\n        <ModalHeader className=\"text-center\">\n          Are you sure you would like to unmap this ev?\n          <Button color=\"success\" className=\"mt-4\" onClick={()=>mapEvAPICall(deleteEvMappingId,0,remark1,remark2)}>\n            Unmap\n          </Button>{' '}\n          <Button color=\"danger\" className=\"mt-4 mr-2\" onClick={toggleModal}>\n            Cancel\n          </Button>\n        </ModalHeader>\n      </Modal>\n      <Modal\n        isOpen={modalUpdateVisible}\n        toggle={toggleUpdateModal} >\n          <ModalHeader>\n            <Row>\n              <Colxx md=\"12\" className=\"mt-2 text-center\">\n              Update details\n              </Colxx>\n            </Row>\n          </ModalHeader>  \n          <ModalBody>\n            <Row>\n              <Colxx md=\"12\">\n                <Alert color={alertModalColor} isOpen={alertModalVisible} toggle={()=>setAlertModalVisible(false)}>\n                  {alertModalMsg}\n                </Alert>\n              </Colxx>\n              <Colxx sm={12}>\n                <FormGroup>\n                  <h5>\n                  EV details\n                  </h5>\n                  <Row>\n                    <Colxx md={12}>\n                      <b>Vehicle Vin : </b>{evData.vehicle_vin}\n                    </Colxx>\n                    <Colxx md={12}>\n                      <b>QR Code : </b>{evData.e_qr_code}\n                    </Colxx>\n                  </Row>  \n                </FormGroup>\n              </Colxx>\n              <Colxx md={12}>\n                <FormGroup>\n                  <Label>\n                  Swapping Station\n                  </Label>\n                  <Input \n                  type=\"select\" \n                  name=\"hub_id\" \n                  placeholder=\"Station\"\n                  value={selectedHub} onChange={(e)=>{setSelectedHub(e.target.value)}}>\n                    <option value=\"0\">Select Station</option>\n                    {stationNameData.map((item)=>\n                      <option value={item.hub_master_id} key={item.hub_master_id}>{item.name}</option>\n                    )}\n                  </Input>\n                </FormGroup>\n              </Colxx>\n              <Colxx md={12} sm={12}>\n                <FormGroup>\n                  <Label>\n                  Remark1\n                  </Label>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Remark1\"\n                    value={remark1}\n                    onChange={(e)=>{setRemark1(e.target.value)}}\n                  />\n                </FormGroup>\n              </Colxx>\n              <Colxx md={12} sm={12}>\n                <FormGroup>\n                  <Label>\n                    Remark2\n                  </Label>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Remark2\"\n                    value={remark2}\n                    onChange={(e)=>{setRemark2(e.target.value)}}\n                  />\n                </FormGroup>\n              </Colxx>\n            </Row>\n          </ModalBody>\n          <ModalFooter>\n          <Button color=\"success\" className=\"mt-4\" onClick={()=>updateEvMappingDetails()}>\n              Map\n            </Button>{' '}\n            <Button color=\"danger\" className=\"mt-4 mr-2\" onClick={toggleUpdateModal}>\n              Cancel\n            </Button>\n          </ModalFooter>\n      </Modal>\n    </>\n  );\n};\nexport default Evmapping;\n"]},"metadata":{},"sourceType":"module"}