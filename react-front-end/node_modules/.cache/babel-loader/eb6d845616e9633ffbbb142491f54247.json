{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone\\\\react-front-end\\\\src\\\\views\\\\app\\\\pages\\\\AddEV.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, FormGroup, Card, CardBody, Label, Input, Button, Alert } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils';\nimport { addEvAPI, adminRoot, getFleetOperatorAPI } from '../../../constants/defaultValues';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\n\nconst AddEV = () => {\n  //alert states\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        alertVisible = _useState2[0],\n        setAlertVisible = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        alertMsg = _useState4[0],\n        setAlertMsg = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        alertColor = _useState6[0],\n        setAlertColor = _useState6[1]; //state to disable button on click\n\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        buttonDisabled = _useState8[0],\n        setButtonDisabled = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        fleetOpNames = _useState10[0],\n        setFleetOpNames = _useState10[1];\n\n  useEffect(() => {\n    GetFleetOperatorAPICall();\n  }, []);\n  const history = useHistory();\n\n  const GetFleetOperatorAPICall = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context.next = 3;\n            return axios.get(getFleetOperatorAPI, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setFleetOpNames(responseData.data);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function GetFleetOperatorAPICall() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //API calls\n\n\n  const addEvAPICall = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            setButtonDisabled(true);\n            currentUser = getCurrentUser();\n            _context2.next = 4;\n            return axios.post(addEvAPI, params, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                history.push({\n                  pathname: adminRoot + '/pages/ev',\n                  state: {\n                    responseStatus: responseData.status,\n                    responseMsg: responseData.msg\n                  }\n                });\n              } else {\n                setButtonDisabled(false);\n                evAddedAlert(responseData.msg);\n              }\n            }).catch(error => {\n              setButtonDisabled(false);\n              console.log(error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function addEvAPICall(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); //helper methods\n  //Alert helper methods\n\n\n  const evAddedAlert = msg => {\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  };\n\n  const onDismissAlert = () => {\n    setAlertVisible(false);\n  }; //Form Validation Schema\n\n\n  const EvDetailsValidationSchema = yup.object().shape({\n    vehicle_model: yup.string().required(\"Vehicle Model is required\"),\n    vehicle_make: yup.string().required(\"Vehicle Make is required\"),\n    vehicle_type: yup.string().required(\"Vehicle Type is required\"),\n    battery_capacity: yup.string().matches(/^\\d+$/, \"Only numbers allowed\").required(\"Battery Capacity is required\"),\n    fleet_owner_id: yup.string().required(\"Fleet Owner is required\")\n  });\n  const initialValues = {\n    vehicle_model: \"\",\n    vehicle_make: \"\",\n    vehicle_type: \"\",\n    battery_capacity: \"\",\n    fleet_owner_id: \"\",\n    ev_driver: \"\",\n    remark_1: \"\",\n    remark_2: \"\"\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"page_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Add EV\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"ev\",\n    className: \"btn-primary default btn-sm float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 20\n    }\n  }), \" EV List\")), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5 mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: EvDetailsValidationSchema,\n    onSubmit: values => {\n      const tempAllData = {\n        ev_driver: values.ev_driver\n      };\n      const params = {\n        vehicle_model: values.vehicle_model,\n        vehicle_make: values.vehicle_make,\n        vehicle_type: values.vehicle_type,\n        battery_capacity: values.battery_capacity,\n        fleet_owner_id: values.fleet_owner_id,\n        all_data: JSON.stringify(tempAllData),\n        remark_1: values.remark_1,\n        remark_2: values.remark_2\n      };\n      addEvAPICall(params);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, ({\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    values,\n    touched,\n    errors\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertColor,\n    isOpen: alertVisible,\n    toggle: onDismissAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 31\n    }\n  }, alertMsg)), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, \"Vehicle Model\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Model\",\n    name: \"vehicle_model\",\n    value: values.vehicle_model,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_model && touched.vehicle_model ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }), errors.vehicle_model && touched.vehicle_model && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 35\n    }\n  }, errors.vehicle_model))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, \"Vehicle Make\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Make\",\n    value: values.vehicle_make,\n    name: \"vehicle_make\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_make && touched.vehicle_make ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }), errors.vehicle_make && touched.vehicle_make && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 35\n    }\n  }, errors.vehicle_make))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, \"Vehicle Type\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Vehicle Type\",\n    name: \"vehicle_type\",\n    value: values.vehicle_type,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.vehicle_type && touched.vehicle_type ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  }), errors.vehicle_type && touched.vehicle_type && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 35\n    }\n  }, errors.vehicle_type))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, \"Battery Capacity\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    placeholder: \"Battery Capacity\",\n    name: \"battery_capacity\",\n    value: values.battery_capacity,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.battery_capacity && touched.battery_capacity ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }), errors.battery_capacity && touched.battery_capacity && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 35\n    }\n  }, errors.battery_capacity))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, \"Fleet Owner\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"fleet_owner_id\",\n    value: values.fleet_owner_id,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    key: \"\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 35\n    }\n  }, \"All Fleet\"), fleetOpNames.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.fleet_operator_id,\n    value: item.fleet_operator_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 37\n    }\n  }, item.name))), errors.fleet_owner_id && touched.fleet_owner_id && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 35\n    }\n  }, errors.fleet_owner_id))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 33\n    }\n  }, \"EV Driver\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"EV Driver\",\n    name: \"ev_driver\",\n    value: values.ev_driver,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    className: errors.ev_driver && touched.ev_driver ? \"input-error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }\n  }, \"Remark 1\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"remark_1\",\n    placeholder: \"Remark 1\",\n    value: values.remark_1,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 33\n    }\n  }, \"Remark 2\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"remark_2\",\n    placeholder: \"Remark 2\",\n    value: values.remark_2,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    md: \"12\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"default mr-2\",\n    onClick: handleSubmit,\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 35\n    }\n  }, \"Add\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"light\",\n    className: \"default\",\n    onClick: () => {\n      history.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 35\n    }\n  }, \"Cancel\")))))))))));\n};\n\nexport default AddEV;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone/react-front-end/src/views/app/pages/AddEV.js"],"names":["React","useState","useEffect","Row","FormGroup","Card","CardBody","Label","Input","Button","Alert","Colxx","Separator","getCurrentUser","addEvAPI","adminRoot","getFleetOperatorAPI","axios","useHistory","Formik","yup","AddEV","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","buttonDisabled","setButtonDisabled","fleetOpNames","setFleetOpNames","GetFleetOperatorAPICall","history","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","addEvAPICall","params","post","push","pathname","state","responseStatus","responseMsg","evAddedAlert","onDismissAlert","EvDetailsValidationSchema","object","shape","vehicle_model","string","required","vehicle_make","vehicle_type","battery_capacity","matches","fleet_owner_id","initialValues","ev_driver","remark_1","remark_2","values","tempAllData","all_data","JSON","stringify","handleChange","handleBlur","handleSubmit","touched","errors","map","item","fleet_operator_id","name","goBack"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row, FormGroup, Card, CardBody,\n  Label,Input, Button,Alert\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {addEvAPI,adminRoot,getFleetOperatorAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\n\n\nconst AddEV = () => {\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  const [fleetOpNames,setFleetOpNames] = useState([]); \n\n  useEffect(()=>{\n      GetFleetOperatorAPICall();\n  },[]);\n\n  const history = useHistory();\n\n  const GetFleetOperatorAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getFleetOperatorAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n        if (responseData.status === 1) {\n         setFleetOpNames(responseData.data);\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  //API calls\n  const addEvAPICall = async(params) => {\n    setButtonDisabled(true);\n    const currentUser = getCurrentUser();\n    await axios.post(addEvAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          history.push({\n            pathname:adminRoot+'/pages/ev',\n            state:{\n              responseStatus:responseData.status,\n              responseMsg:responseData.msg\n            }\n          })\n        }else{\n          setButtonDisabled(false);\n          evAddedAlert(responseData.msg);\n        }\n      }).catch(error=>{\n        setButtonDisabled(false);\n        console.log(error);\n      })\n  }\n\n  //helper methods\n  //Alert helper methods\n  const evAddedAlert = (msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n  //Form Validation Schema\n  const EvDetailsValidationSchema = yup.object().shape({\n    vehicle_model:yup.string()\n        .required(\"Vehicle Model is required\"),\n    vehicle_make:yup.string()\n        .required(\"Vehicle Make is required\"),\n    vehicle_type:yup.string()\n        .required(\"Vehicle Type is required\"),\n    battery_capacity:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"Battery Capacity is required\"),\n    fleet_owner_id:yup.string()\n        .required(\"Fleet Owner is required\"),\n  });\n\n  const initialValues = {\n    vehicle_model:\"\",\n    vehicle_make:\"\",\n    vehicle_type:\"\",\n    battery_capacity:\"\",\n    fleet_owner_id:\"\",\n    ev_driver:\"\",\n    remark_1:\"\",\n    remark_2:\"\"\n  };\n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Add EV</span>\n            <a href=\"ev\" className=\"btn-primary default btn-sm float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> EV List</b>\n            </a>\n          <Separator className=\"mb-5 mt-1\" />\n        </Colxx>\n      </Row>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={EvDetailsValidationSchema} \n        onSubmit={(values)=>{\n          const tempAllData = {ev_driver:values.ev_driver}\n          const params = {\n            vehicle_model:values.vehicle_model,\n            vehicle_make:values.vehicle_make,\n            vehicle_type:values.vehicle_type,\n            battery_capacity:values.battery_capacity,\n            fleet_owner_id:values.fleet_owner_id,\n            all_data:JSON.stringify(tempAllData),\n            remark_1:values.remark_1,\n            remark_2:values.remark_2\n          }\n          addEvAPICall(params);\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                  <Card className=\"mb-4\">\n                      <CardBody> \n                          <Row>\n                          <Colxx md=\"12\">\n                              <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert}>\n                                {alertMsg}\n                              </Alert>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Vehicle Model\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Model\"\n                                  name=\"vehicle_model\"\n                                  value={values.vehicle_model}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_model && touched.vehicle_model ? \"input-error\":null}\n                                />\n                                {errors.vehicle_model && touched.vehicle_model &&(\n                                  <span className=\"error\">{errors.vehicle_model}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Vehicle Make\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Make\"\n                                  value={values.vehicle_make}\n                                  name=\"vehicle_make\"\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_make && touched.vehicle_make ? \"input-error\":null}\n                                />\n                                {errors.vehicle_make && touched.vehicle_make &&(\n                                  <span className=\"error\">{errors.vehicle_make}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                Vehicle Type\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Vehicle Type\"\n                                  name=\"vehicle_type\"\n                                  value={values.vehicle_type}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.vehicle_type && touched.vehicle_type ? \"input-error\":null}\n                                />\n                                {errors.vehicle_type && touched.vehicle_type &&(\n                                  <span className=\"error\">{errors.vehicle_type}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                Battery Capacity\n                                </Label>\n                                <Input\n                                  type=\"number\"\n                                  placeholder=\"Battery Capacity\"\n                                  name=\"battery_capacity\"\n                                  value={values.battery_capacity}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.battery_capacity && touched.battery_capacity ? \"input-error\":null}\n                                />\n                                {errors.battery_capacity && touched.battery_capacity &&(\n                                  <span className=\"error\">{errors.battery_capacity}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  Fleet Owner\n                                </Label>\n                                <Input \n                                  type=\"select\"\n                                  name=\"fleet_owner_id\"\n                                  value={values.fleet_owner_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option key=\"\" value=\"\">All Fleet</option>\n                                  {fleetOpNames.map(item=>\n                                    <option key={item.fleet_operator_id} value={item.fleet_operator_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.fleet_owner_id && touched.fleet_owner_id &&(\n                                  <span className=\"error\">{errors.fleet_owner_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={4}>\n                              <FormGroup>\n                                <Label>\n                                  EV Driver\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"EV Driver\"\n                                  name=\"ev_driver\"\n                                  value={values.ev_driver}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.ev_driver && touched.ev_driver ? \"input-error\":null}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Remark 1\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_1\"\n                                  placeholder=\"Remark 1\"\n                                  value={values.remark_1}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                  Remark 2\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark_2\"\n                                  placeholder=\"Remark 2\"\n                                  value={values.remark_2}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                          </Row>\n                          <Row>\n                            <Colxx md=\"12\" className=\"text-center\">\n                              <Button color=\"primary\" className=\"default mr-2\" onClick={handleSubmit} disabled={buttonDisabled}>\n                                  <b>Add</b>\n                              </Button>\n                              <Button color=\"light\" className=\"default\" onClick={()=>{history.goBack()}}>\n                                  <b>Cancel</b>\n                              </Button>\n                            </Colxx>\n                          </Row>\n                      </CardBody>\n                      </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>  \n    </>\n  );\n};\n\nexport default AddEV;\n"]},"metadata":{},"sourceType":"module"}