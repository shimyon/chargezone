{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Card,CardBody,FormGroup,Label,Input,Table,Button,DropdownItem,DropdownMenu,DropdownToggle,UncontrolledDropdown}from'reactstrap';import DatePicker from'react-datepicker';import'react-datepicker/dist/react-datepicker.css';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getCurrentUser}from'../../../helpers/Utils';import{getStationsAPI,weeklyBillRefReportAPI,downloadWeeklyBillRefReportAPI}from'../../../constants/defaultValues';import axios from'axios';import{Formik}from'formik';const WeeklyBillingRef=({})=>{const _useState=useState(1),_useState2=_slicedToArray(_useState,2),buttonType=_useState2[0],setButtonType=_useState2[1];//date states\nconst _useState3=useState(),_useState4=_slicedToArray(_useState3,2),fromDate=_useState4[0],setFromDate=_useState4[1];const _useState5=useState(),_useState6=_slicedToArray(_useState5,2),toDate=_useState6[0],setToDate=_useState6[1];//DTAE ERRORFLAGS\nconst _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fromDateError=_useState8[0],setFromDateError=_useState8[1];const _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),toDateError=_useState10[0],setToDateError=_useState10[1];//time state\n// const [startTime,setStartTime] = useState();\n// const [endTime,setEndTime] = useState();\n//station List\nconst _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),stationNames=_useState12[0],setStationNames=_useState12[1];//report\nconst _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),report=_useState14[0],setReport=_useState14[1];const _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),dates=_useState16[0],setDates=_useState16[1];//Pagination states\nconst _useState17=useState(\"1\"),_useState18=_slicedToArray(_useState17,2),pageCount=_useState18[0],setPageCount=_useState18[1];const _useState19=useState(\"1\"),_useState20=_slicedToArray(_useState19,2),lastPageCount=_useState20[0],setLastPageCount=_useState20[1];//state to disable button on click\nconst _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),buttonDisabled=_useState22[0],setButtonDisabled=_useState22[1];//loader state\nconst _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isLoading=_useState24[0],setIsLoading=_useState24[1];//params\nconst _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),reportParams=_useState26[0],setReportParams=_useState26[1];useEffect(()=>{GetStationNamesAPICall();},[]);//API calls\nconst GetStationNamesAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.get(getStationsAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStationNames(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetStationNamesAPICall(){return _ref.apply(this,arguments);};}();const getWeeklyBillRefReportAPICall=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setButtonDisabled(true);setReport([]);setDates([]);setIsLoading(true);currentUser=getCurrentUser();_context2.next=7;return axios.post(weeklyBillRefReportAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setLastPageCount(responseData.data.last_page);setReport(responseData.data.data.energy_data);setDates(responseData.data.data.selected_week_dates);}else{console.log(responseData.msg);}setButtonDisabled(false);setIsLoading(false);}).catch(error=>{setButtonDisabled(false);setIsLoading(false);console.log(error);});case 7:case\"end\":return _context2.stop();}},_callee2);}));return function getWeeklyBillRefReportAPICall(_x){return _ref2.apply(this,arguments);};}();const downloadWeeklyBillRefReportAPICall=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params){var currentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:setButtonDisabled(true);setIsLoading(true);currentUser=getCurrentUser();_context3.next=5;return axios.post(downloadWeeklyBillRefReportAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){const link=document.createElement('a');link.href=responseData.data.file;document.body.appendChild(link);link.click();document.body.removeChild(link);}else{alert(responseData.msg);}setButtonDisabled(false);setIsLoading(false);}).catch(error=>{setButtonDisabled(false);setIsLoading(false);console.log(error);});case 5:case\"end\":return _context3.stop();}},_callee3);}));return function downloadWeeklyBillRefReportAPICall(_x2){return _ref3.apply(this,arguments);};}();//helper methods\n//pagination method\nconst handlePageChange=index=>{setPageCount(index+1);getWeeklyBillRefReportAPICall(reportParams);};const renderPageList=()=>{const pageNumbers=[];for(let i=0;i<lastPageCount;i+=1){pageNumbers.push(/*#__PURE__*/React.createElement(DropdownItem,{key:i,onClick:()=>handlePageChange(i)},i+1));}return pageNumbers;};//Forms\nconst initialValues={station:\"\"};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Weekly Billing Report\"),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues,onSubmit:values=>{let tempFromDate,tempToDate;if(fromDate==null||fromDate==\"\"&&toDate==null||toDate==\"\"){setFromDateError(true);setToDateError(true);return;}else if(fromDate==null||fromDate==\"\"||toDate==null||toDate==\"\"){if(fromDate==null|fromDate==\"\"){setToDateError(false);setFromDateError(true);return;}else if(toDate==null|toDate==\"\"){setFromDateError(false);setToDateError(true);return;}}else{setFromDateError(false);setToDateError(false);tempFromDate=fromDate.getDate()+\"-\"+(fromDate.getMonth()+1)+\"-\"+fromDate.getFullYear();tempToDate=toDate.getDate()+\"-\"+(toDate.getMonth()+1)+\"-\"+toDate.getFullYear();}const params={hub_id:values.station,from_date:tempFromDate,to_date:tempToDate,page:pageCount};setReportParams(params);if(buttonType==1){getWeeklyBillRefReportAPICall(params);}else{downloadWeeklyBillRefReportAPICall(params);}}},({handleChange,handleBlur,handleSubmit,values,touched,errors})=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{lg:2,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Station\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"station\",value:values.station,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",{key:0,value:0},\"All Station\"),stationNames.map((item,i)=>/*#__PURE__*/React.createElement(\"option\",{key:i,value:item.hub_master_id},item.name))),errors.station&&touched.station&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.station))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"From Date\"),/*#__PURE__*/React.createElement(DatePicker,{placeholderText:\"From Date\",showTimeInput:true,selected:fromDate,onChange:date=>setFromDate(date),dateFormat:\"dd/MM/yyyy hh:mm aa\"}),fromDateError&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},\"From date is required\"))),/*#__PURE__*/React.createElement(Colxx,{lg:3,sm:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"To Date\"),/*#__PURE__*/React.createElement(DatePicker,{placeholderText:\"To Date\",showTimeInput:true,selected:toDate,onChange:date=>setToDate(date),dateFormat:\"dd/MM/yyyy hh:mm aa\"}),toDateError&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},\"To date is required\"))),/*#__PURE__*/React.createElement(Colxx,{lg:4,sm:12},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"default mt-4 mr-2\",onClick:()=>{setButtonType(1);setPageCount(1);handleSubmit();},disabled:buttonDisabled},/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-check font-weight-bold\"}),\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Generate Report\")),/*#__PURE__*/React.createElement(Button,{color:\"success\",className:\"default mt-4\",onClick:()=>{setButtonType(2);handleSubmit();},disabled:buttonDisabled},/*#__PURE__*/React.createElement(\"b\",null,\"Download Report\")))))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{sm:12,lg:12},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"6\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Weekly Billing Report\")),report.length>0&&/*#__PURE__*/React.createElement(Colxx,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-right mr-2 \"},/*#__PURE__*/React.createElement(\"span\",null,\"Page \"),/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(DropdownToggle,{caret:true,color:\"outline-primary\",size:\"xs\",\"data-display\":\"static\"},pageCount),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"dropdownMenu\"},renderPageList())),/*#__PURE__*/React.createElement(\"span\",null,\" of \"),lastPageCount))),/*#__PURE__*/React.createElement(Table,{responsive:true,bordered:true,striped:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Station\"),/*#__PURE__*/React.createElement(\"th\",null,\"EV Qr Code\"),dates.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"th\",null,dates[0]),/*#__PURE__*/React.createElement(\"th\",null,dates[1]),/*#__PURE__*/React.createElement(\"th\",null,dates[2]),/*#__PURE__*/React.createElement(\"th\",null,dates[3]),/*#__PURE__*/React.createElement(\"th\",null,dates[4]),/*#__PURE__*/React.createElement(\"th\",null,dates[5]),/*#__PURE__*/React.createElement(\"th\",null,dates[6])):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day1\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day2\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day3\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day4\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day5\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day6\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Day7\")),/*#__PURE__*/React.createElement(\"th\",null,\"Total Energy Supplied\"),/*#__PURE__*/React.createElement(\"th\",null,\"Total Amount  Billed\"))),/*#__PURE__*/React.createElement(\"tbody\",null,isLoading?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\",colSpan:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-list-loading\"}))):report.length>0?report.map((item,index)=>/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},pageCount==1?index+1:(pageCount-1)*10+index+1),/*#__PURE__*/React.createElement(\"td\",null,item.station_name),/*#__PURE__*/React.createElement(\"td\",null,item.e_qr_code),/*#__PURE__*/React.createElement(\"td\",null,item.Day_1),/*#__PURE__*/React.createElement(\"td\",null,item.Day_2),/*#__PURE__*/React.createElement(\"td\",null,item.Day_3),/*#__PURE__*/React.createElement(\"td\",null,item.Day_4),/*#__PURE__*/React.createElement(\"td\",null,item.Day_5),/*#__PURE__*/React.createElement(\"td\",null,item.Day_6),/*#__PURE__*/React.createElement(\"td\",null,item.Day_7),/*#__PURE__*/React.createElement(\"td\",null,item.total_energy_supp),/*#__PURE__*/React.createElement(\"td\",null,item.total_bill_amount))):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-center text-danger\",colSpan:\"12\"},\"Data  Not  Found\")))))))));};export default WeeklyBillingRef;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/reports/weeklyBillingRef.js"],"names":["React","useState","useEffect","Row","Card","CardBody","FormGroup","Label","Input","Table","Button","DropdownItem","DropdownMenu","DropdownToggle","UncontrolledDropdown","DatePicker","Colxx","Separator","getCurrentUser","getStationsAPI","weeklyBillRefReportAPI","downloadWeeklyBillRefReportAPI","axios","Formik","WeeklyBillingRef","buttonType","setButtonType","fromDate","setFromDate","toDate","setToDate","fromDateError","setFromDateError","toDateError","setToDateError","stationNames","setStationNames","report","setReport","dates","setDates","pageCount","setPageCount","lastPageCount","setLastPageCount","buttonDisabled","setButtonDisabled","isLoading","setIsLoading","reportParams","setReportParams","GetStationNamesAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","getWeeklyBillRefReportAPICall","params","post","last_page","energy_data","selected_week_dates","downloadWeeklyBillRefReportAPICall","link","document","createElement","href","file","body","appendChild","click","removeChild","alert","handlePageChange","index","renderPageList","pageNumbers","i","push","initialValues","station","values","tempFromDate","tempToDate","getDate","getMonth","getFullYear","hub_id","from_date","to_date","page","handleChange","handleBlur","handleSubmit","touched","errors","map","item","hub_master_id","name","date","length","station_name","e_qr_code","Day_1","Day_2","Day_3","Day_4","Day_5","Day_6","Day_7","total_energy_supp","total_bill_amount"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {\n  Row, Card, CardBody, FormGroup, Label,\n  Input, Table,Button,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  UncontrolledDropdown,\n} from 'reactstrap';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {getStationsAPI,weeklyBillRefReportAPI,downloadWeeklyBillRefReportAPI} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport {Formik} from 'formik';\n\nconst WeeklyBillingRef = ({}) => {\n  const [buttonType,setButtonType] = useState(1);\n  //date states\n  const [fromDate,setFromDate] = useState();\n  const [toDate,setToDate] = useState();\n  //DTAE ERRORFLAGS\n  const [fromDateError,setFromDateError] = useState(false);\n  const [toDateError,setToDateError] = useState(false);\n  //time state\n  // const [startTime,setStartTime] = useState();\n  // const [endTime,setEndTime] = useState();\n  //station List\n  const [stationNames,setStationNames] = useState([]);\n  //report\n  const [report,setReport] = useState([]);\n  const [dates,setDates] = useState([]);\n  //Pagination states\n  const [pageCount,setPageCount] = useState(\"1\");\n  const [lastPageCount,setLastPageCount] = useState(\"1\");\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //loader state\n  const [isLoading,setIsLoading] = useState(false);\n  //params\n  const [reportParams,setReportParams] = useState(null);\n\n  useEffect(()=>{\n    GetStationNamesAPICall();\n  },[])\n\n  //API calls\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNames(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getWeeklyBillRefReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setReport([]);\n    setDates([]);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(weeklyBillRefReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setLastPageCount(responseData.data.last_page);\n          setReport(responseData.data.data.energy_data);\n          setDates(responseData.data.data.selected_week_dates);\n        }else{\n            console.log(responseData.msg);\n        }\n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n        console.log(error);\n      })\n  }\n  const downloadWeeklyBillRefReportAPICall = async(params) => {\n    setButtonDisabled(true);\n    setIsLoading(true);\n    const currentUser = getCurrentUser();\n    await axios.post(downloadWeeklyBillRefReportAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          const link = document.createElement('a');\n          link.href = responseData.data.file;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        }else{\n          alert(responseData.msg);\n        }  \n        setButtonDisabled(false);\n        setIsLoading(false);\n      }).catch(error=>{\n        setButtonDisabled(false);\n        setIsLoading(false);\n        console.log(error);\n      })\n  }\n  //helper methods\n  //pagination method\n  const handlePageChange = (index) =>{\n    setPageCount(index+1)\n    getWeeklyBillRefReportAPICall(reportParams);\n  }\n  const renderPageList = () => {\n    const pageNumbers = [];\n    for (let i = 0; i <lastPageCount; i += 1) {\n      pageNumbers.push(\n        <DropdownItem key={i} onClick={()=>handlePageChange(i)}>\n          {i+1}\n        </DropdownItem>\n      );\n    }\n    return pageNumbers;\n  };\n  //Forms\n  const initialValues = {\n    station:\"\",\n  };\n  \n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n          <span className=\"page_title\">Weekly Billing Report</span>\n          <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Formik\n        initialValues={initialValues} \n        onSubmit={(values)=>{\n          let tempFromDate,tempToDate;\n          if (fromDate == null || fromDate ==\"\" && toDate == null || toDate ==\"\") {\n            setFromDateError(true);\n            setToDateError(true);\n            return ;\n          }else if(fromDate == null || fromDate ==\"\" || toDate == null || toDate ==\"\"){\n            if (fromDate == null | fromDate ==\"\") {\n              setToDateError(false);\n              setFromDateError(true);\n              return;\n            }else if(toDate == null | toDate ==\"\"){\n              setFromDateError(false);\n              setToDateError(true);\n              return ;\n            }\n          }else{\n            setFromDateError(false);\n            setToDateError(false);\n            tempFromDate = fromDate.getDate()+\"-\"+(fromDate.getMonth()+1)+\"-\"+fromDate.getFullYear();\n            tempToDate = toDate.getDate()+\"-\"+(toDate.getMonth()+1)+\"-\"+toDate.getFullYear();\n          }\n          const params = {\n            hub_id:values.station,\n            from_date:tempFromDate,\n            to_date:tempToDate,\n            page:pageCount\n          }\n          setReportParams(params)\n          if(buttonType==1){\n            getWeeklyBillRefReportAPICall(params);\n          }else{\n            downloadWeeklyBillRefReportAPICall(params);\n          }\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                    <Card>\n                        <CardBody>\n                          <Row>\n                            <Colxx lg={2} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  Station\n                                </Label>\n                                <Input \n                                type=\"select\"\n                                name=\"station\"\n                                value={values.station}\n                                onChange={handleChange}\n                                onBlur={handleBlur}>\n                                  <option key={0} value={0}>All Station</option>\n                                  {stationNames.map((item,i)=>\n                                    <option key={i} value={item.hub_master_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                                {errors.station && touched.station &&(\n                                  <span className=\"error\">{errors.station}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  From Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"From Date\"\n                                showTimeInput\n                                selected={fromDate}\n                                onChange={date=>setFromDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                                {fromDateError &&\n                                  <span className=\"error\">{\"From date is required\"}</span>\n                                }\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={3} sm={12}>\n                              <FormGroup>\n                                <Label>\n                                  To Date\n                                </Label>\n                                <DatePicker\n                                placeholderText=\"To Date\"\n                                showTimeInput\n                                selected={toDate}\n                                onChange={date=>setToDate(date)}\n                                dateFormat=\"dd/MM/yyyy hh:mm aa\"\n                                />\n                                {toDateError &&\n                                  <span className=\"error\">{\"To date is required\"}</span>\n                                }\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx lg={4} sm={12}>\n                                <Button color=\"primary\" className=\"default mt-4 mr-2\"  onClick={() =>{setButtonType(1);setPageCount(1);handleSubmit();}} disabled={buttonDisabled} >\n                                  <i className=\"glyph-icon simple-icon-check font-weight-bold\"></i> <b>Generate Report</b>\n                                </Button>\n                                <Button color=\"success\" className=\"default mt-4\"  onClick={() =>{setButtonType(2);handleSubmit();}} disabled={buttonDisabled} >\n                                  <b>Download Report</b>\n                                </Button>\n                            </Colxx>\n                          </Row>\n                        </CardBody>\n                    </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n      <Row>\n          <Colxx sm={12} lg={12}>\n            <Card>\n              <CardBody>\n                <Row>\n                  <Colxx md=\"6\">\n                  <h3>Weekly Billing Report</h3>\n                  </Colxx>\n                  {report.length>0 &&\n                    <Colxx md=\"6\">\n                      <div className=\"text-right mr-2 \">\n                        <span>Page </span>\n                        <UncontrolledDropdown className=\"d-inline-block\">\n                          <DropdownToggle caret color=\"outline-primary\" size=\"xs\" data-display=\"static\">\n                            {pageCount}\n                          </DropdownToggle>\n                          <DropdownMenu className=\"dropdownMenu\">\n                            {renderPageList()}\n                          </DropdownMenu>\n                        </UncontrolledDropdown>\n                        <span> of </span>\n                        {lastPageCount}\n                      </div>\n                    </Colxx>\n                  }\n                </Row>\n                <Table responsive bordered striped>\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th>Station</th>\n                      <th>EV Qr Code</th>\n                      {dates.length>0?\n                        <>\n                          <th>{dates[0]}</th>\n                          <th>{dates[1]}</th>\n                          <th>{dates[2]}</th>\n                          <th>{dates[3]}</th>\n                          <th>{dates[4]}</th>\n                          <th>{dates[5]}</th>\n                          <th>{dates[6]}</th>\n                        </>:\n                        <>\n                          <th>Date of Day1</th>\n                          <th>Date of Day2</th>\n                          <th>Date of Day3</th>\n                          <th>Date of Day4</th>\n                          <th>Date of Day5</th>\n                          <th>Date of Day6</th>\n                          <th>Date of Day7</th>\n                        </>\n                      }\n                      <th>Total Energy Supplied</th>\n                      <th>Total Amount  Billed</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {isLoading ?\n                      <tr>\n                          <td className=\"text-center\" colSpan=\"12\"><div className=\"custom-list-loading\" /></td>\n                      </tr> : \n                      report.length > 0 ?\n                          report.map((item,index)=>\n                            <tr key={index}>\n                              <th scope=\"row\">{pageCount==1?index+1:(pageCount-1)*10+index +1}</th>\n                              <td>{item.station_name}</td>\n                              <td>{item.e_qr_code}</td>\n                              <td>{item.Day_1}</td>\n                              <td>{item.Day_2}</td>\n                              <td>{item.Day_3}</td>\n                              <td>{item.Day_4}</td>\n                              <td>{item.Day_5}</td>\n                              <td>{item.Day_6}</td>\n                              <td>{item.Day_7}</td>\n                              <td>{item.total_energy_supp}</td>\n                              <td>{item.total_bill_amount}</td>\n                            </tr>\n                          ):<tr>\n                          <td className=\"text-center text-danger\" colSpan=\"12\">Data  Not  Found</td>\n                      </tr>\n                  }\n                  </tbody>\n                </Table>\n              </CardBody>\n            </Card>\n          </Colxx>\n      </Row>\n    </>\n  );\n};\n\nexport default WeeklyBillingRef;"]},"metadata":{},"sourceType":"module"}