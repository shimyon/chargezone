{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Card,CardBody,CardSubtitle,Alert,FormGroup,Label,Input,Button}from'reactstrap';import{Colxx,Separator}from'../../../components/common/CustomBootstrap';import{getCurrentUser}from'../../../helpers/Utils';import{getBatteryDataAPI,getOwnersAPI,getStationsAPI,updateBatteryInventoryAPI,getBatteryInventoryByIdAPI,adminRoot}from'../../../constants/defaultValues';import axios from'axios';import{useHistory,useLocation}from\"react-router-dom\";import{Formik}from'formik';import*as yup from'yup';const UpdateBatteryInventory=()=>{//state to disable button on click\nconst _useState=useState(false),_useState2=_slicedToArray(_useState,2),buttonDisabled=_useState2[0],setButtonDisabled=_useState2[1];//alert states\nconst _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alertVisible=_useState4[0],setAlertVisible=_useState4[1];const _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertMsg=_useState6[0],setAlertMsg=_useState6[1];const _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertColor=_useState8[0],setAlertColor=_useState8[1];//dropdown states\nconst _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),stationNameData=_useState10[0],setStationNameData=_useState10[1];const _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),ownerNameData=_useState12[0],setOwnerNameData=_useState12[1];const _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),batteryData=_useState14[0],setBatteryData=_useState14[1];//states\nconst _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),bin=_useState16[0],setBin=_useState16[1];const _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),serialNumber=_useState18[0],setSerialNumber=_useState18[1];const _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),bQrCode=_useState20[0],setBQrCode=_useState20[1];const _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),hubId=_useState22[0],setHubId=_useState22[1];const _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),ownBy=_useState24[0],setOwnBy=_useState24[1];const _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),batteryMasterId=_useState26[0],setBatteryMasterId=_useState26[1];const _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),imei=_useState28[0],setImei=_useState28[1];const _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),soc=_useState30[0],setSoc=_useState30[1];const _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),bv=_useState32[0],setBv=_useState32[1];const _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),rec=_useState34[0],setRec=_useState34[1];const _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),lat=_useState36[0],setLat=_useState36[1];const _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),lon=_useState38[0],setLon=_useState38[1];const _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),remark=_useState40[0],setRemark=_useState40[1];const history=useHistory();const location=useLocation();useEffect(()=>{GetStationNamesAPICall();GetOwnerNamesAPICall();GetBatteryDataAPICall();getBatteryInventoryByIdAPICall();},[]);//API calls\nconst GetStationNamesAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:currentUser=getCurrentUser();_context.next=3;return axios.get(getStationsAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setStationNameData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context.stop();}},_callee);}));return function GetStationNamesAPICall(){return _ref.apply(this,arguments);};}();const GetOwnerNamesAPICall=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:currentUser=getCurrentUser();_context2.next=3;return axios.get(getOwnersAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setOwnerNameData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function GetOwnerNamesAPICall(){return _ref2.apply(this,arguments);};}();const GetBatteryDataAPICall=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var currentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:currentUser=getCurrentUser();_context3.next=3;return axios.get(getBatteryDataAPI,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setBatteryData(responseData.data);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function GetBatteryDataAPICall(){return _ref3.apply(this,arguments);};}();const getBatteryInventoryByIdAPICall=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var currentUser;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:currentUser=getCurrentUser();_context4.next=3;return axios.post(getBatteryInventoryByIdAPI,{battery_inventory_id:location.state.battery_inventory_id},{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){setBin(responseData.data.bin);setSerialNumber(responseData.data.serial_number);setBQrCode(responseData.data.b_qr_code);setHubId(responseData.data.hub_id);setOwnBy(responseData.data.own_by);setBatteryMasterId(responseData.data.battery_master_id);setImei(responseData.data.imei);setSoc(responseData.data.soc);setBv(responseData.data.bv);setRec(responseData.data.rec);setLat(responseData.data.lat);setLon(responseData.data.lon);setRemark(responseData.data.remark);}else{console.log(responseData.msg);}}).catch(error=>{console.log(error);});case 3:case\"end\":return _context4.stop();}},_callee4);}));return function getBatteryInventoryByIdAPICall(){return _ref4.apply(this,arguments);};}();const updateBatteryInventoryAPICall=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(params){var currentUser;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:setButtonDisabled(true);currentUser=getCurrentUser();_context5.next=4;return axios.post(updateBatteryInventoryAPI,params,{headers:{Authorization:\"Bearer \".concat(currentUser.token)}}).then(response=>{const responseData=response.data;if(responseData.status===1){history.push({pathname:adminRoot+'/inventory/battery',state:{responseStatus:responseData.status,responseMsg:responseData.msg}});}else{setButtonDisabled(false);UpdateBatteryInventoryAlert(responseData.msg);}}).catch(error=>{setButtonDisabled(false);console.log(error);});case 4:case\"end\":return _context5.stop();}},_callee5);}));return function updateBatteryInventoryAPICall(_x){return _ref5.apply(this,arguments);};}();//Form Validation Schema\nconst BatteryInventoryDetailsValidationSchema=yup.object().shape({bin:yup.string().required(\"BIN is required\"),serial_number:yup.string().required(\"Serial Number capacity is required\"),b_qr_code:yup.string().matches(/^\\d+$/,\"Only numbers allowed\").required(\"Battery QR Code capacity is required\"),own_by:yup.string().required(\"Owned By is required\"),battery_master_id:yup.string().required(\"Battery is required\"),imei:yup.string().required(\"IMEI is required\")// soc:yup.string()\n//     .required(\"EV capacity is required\"),\n// bv:yup.string()\n//     .required(\"BV is required\"),\n// rec:yup.string()\n//     .required(\"Rec is required\"),\n// lat:yup.string()\n//     .required(\"Latitude is required\"),\n// lon:yup.string()\n//     .required(\"Longitude is required\"),\n});//helper\n//Alert helper methods\nconst UpdateBatteryInventoryAlert=msg=>{setAlertVisible(true);setAlertMsg(msg);setAlertColor(\"danger\");};const onDismissAlert=()=>{setAlertVisible(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page_title\"},\"Update Battery Inventory\"),/*#__PURE__*/React.createElement(\"a\",{href:\"battery\",className:\"mt-2 btn-primary default btn-sm float-right\"},/*#__PURE__*/React.createElement(\"b\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"glyph-icon simple-icon-list\"}),\" Battery Inventory List\")),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5 mt-1\"}))),/*#__PURE__*/React.createElement(Formik,{enableReinitialize:true,initialValues:{bin:bin,serial_number:serialNumber,b_qr_code:bQrCode,hub_id:hubId,own_by:ownBy,battery_master_id:batteryMasterId,imei:imei,soc:soc,bv:bv,rec:rec,lat:lat,lon:lon,remark:remark},validationSchema:BatteryInventoryDetailsValidationSchema,onSubmit:values=>{const params={battery_inventory_id:location.state.battery_inventory_id,bin:values.bin,serial_number:values.serial_number,b_qr_code:values.b_qr_code,hub_id:values.hub_id,own_by:values.own_by,battery_master_id:values.battery_master_id,imei:values.imei,soc:values.soc,bv:values.bv,rec:values.rec,lat:values.lat,lon:values.lon,remark:values.remark};updateBatteryInventoryAPICall(params);}},({handleChange,handleBlur,handleSubmit,values,touched,errors})=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardSubtitle,{className:\"mb-3\"},/*#__PURE__*/React.createElement(Alert,{color:alertColor,isOpen:alertVisible,toggle:onDismissAlert},alertMsg)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"BIN\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"BIN\",name:\"bin\",value:values.bin,onChange:handleChange,onBlur:handleBlur,className:errors.bin&&touched.bin?\"input-error\":null}),errors.bin&&touched.bin&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.bin))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Serial Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Serial Number\",value:values.serial_number,name:\"serial_number\",onChange:handleChange,onBlur:handleBlur,className:errors.serial_number&&touched.serial_number?\"input-error\":null}),errors.serial_number&&touched.serial_number&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.serial_number))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Station\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"hub_id\",placeholder:\"Station\",value:values.hub_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Station\"),stationNameData.map(item=>/*#__PURE__*/React.createElement(\"option\",{value:item.hub_master_id,key:item.hub_master_id},item.name))))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Owned By\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"own_by\",value:values.own_by,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Owned By\"),ownerNameData.map(item=>/*#__PURE__*/React.createElement(\"option\",{value:item.owner_master_id,key:item.owner_master_id},item.name))),errors.own_by&&touched.own_by&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.own_by))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Battery\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"battery_master_id\",value:values.battery_master_id,onChange:handleChange,onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",null,\"Select Battery\"),batteryData.map(item=>/*#__PURE__*/React.createElement(\"option\",{value:item.battery_master_id,key:item.battery_master_id},item.model_name+\"-\"+item.make_year+\"-\"+item.type_of_connector))),errors.battery_master_id&&touched.battery_master_id&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.battery_master_id))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Battery QR Code\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"b_qr_code\",placeholder:\"Battery QR Code\",value:values.b_qr_code,onChange:handleChange,onBlur:handleBlur}),errors.b_qr_code&&touched.b_qr_code&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.b_qr_code))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"BV\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"bv\",placeholder:\"BV\",value:values.bv,onChange:handleChange,onBlur:handleBlur}),errors.bv&&touched.bv&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.bv))),/*#__PURE__*/React.createElement(Colxx,{md:3},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"SOC\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"soc\",placeholder:\"SOC\",value:values.soc,onChange:handleChange,onBlur:handleBlur}),errors.soc&&touched.soc&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.soc))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"IMEI\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"imei\",placeholder:\"IMEI\",value:values.imei,onChange:handleChange,onBlur:handleBlur}),errors.imei&&touched.imei&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.imei))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Rec\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"rec\",placeholder:\"Rec\",value:values.rec,onChange:handleChange,onBlur:handleBlur}),errors.rec&&touched.rec&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.rec))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Latitude\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"lat\",placeholder:\"Latitude\",value:values.lat,onChange:handleChange,onBlur:handleBlur}),errors.lat&&touched.lat&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.lat))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Longitude\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"lon\",placeholder:\"Longitude\",value:values.lon,onChange:handleChange,onBlur:handleBlur}),errors.lon&&touched.lon&&/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},errors.lon))),/*#__PURE__*/React.createElement(Colxx,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Remark\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"remark\",placeholder:\"Remark\",value:values.remark,onChange:handleChange,onBlur:handleBlur})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{md:\"12\",className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"default mr-2\",onClick:handleSubmit,disabled:buttonDisabled},/*#__PURE__*/React.createElement(\"b\",null,\"Update\")),/*#__PURE__*/React.createElement(Button,{color:\"light\",className:\"default\",onClick:()=>{history.goBack();}},/*#__PURE__*/React.createElement(\"b\",null,\"Cancel\")))))))))));};export default UpdateBatteryInventory;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/inventory/UpdateBatteryInventory.js"],"names":["React","useState","useEffect","Row","Card","CardBody","CardSubtitle","Alert","FormGroup","Label","Input","Button","Colxx","Separator","getCurrentUser","getBatteryDataAPI","getOwnersAPI","getStationsAPI","updateBatteryInventoryAPI","getBatteryInventoryByIdAPI","adminRoot","axios","useHistory","useLocation","Formik","yup","UpdateBatteryInventory","buttonDisabled","setButtonDisabled","alertVisible","setAlertVisible","alertMsg","setAlertMsg","alertColor","setAlertColor","stationNameData","setStationNameData","ownerNameData","setOwnerNameData","batteryData","setBatteryData","bin","setBin","serialNumber","setSerialNumber","bQrCode","setBQrCode","hubId","setHubId","ownBy","setOwnBy","batteryMasterId","setBatteryMasterId","imei","setImei","soc","setSoc","bv","setBv","rec","setRec","lat","setLat","lon","setLon","remark","setRemark","history","location","GetStationNamesAPICall","GetOwnerNamesAPICall","GetBatteryDataAPICall","getBatteryInventoryByIdAPICall","currentUser","get","headers","Authorization","token","then","response","responseData","data","status","console","log","msg","catch","error","post","battery_inventory_id","state","serial_number","b_qr_code","hub_id","own_by","battery_master_id","updateBatteryInventoryAPICall","params","push","pathname","responseStatus","responseMsg","UpdateBatteryInventoryAlert","BatteryInventoryDetailsValidationSchema","object","shape","string","required","matches","onDismissAlert","values","handleChange","handleBlur","handleSubmit","touched","errors","map","item","hub_master_id","name","owner_master_id","model_name","make_year","type_of_connector","goBack"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { \n  Row,Card, CardBody,CardSubtitle,Alert, FormGroup, Label,\n  Input, Button\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils'\nimport {getBatteryDataAPI,getOwnersAPI,getStationsAPI,updateBatteryInventoryAPI,getBatteryInventoryByIdAPI,adminRoot} from '../../../constants/defaultValues'\nimport axios from 'axios';\nimport { useHistory,useLocation } from \"react-router-dom\";\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\n\nconst UpdateBatteryInventory = () => {\n  //state to disable button on click\n  const [buttonDisabled,setButtonDisabled] = useState(false);\n  //alert states\n  const [alertVisible,setAlertVisible] = useState(false);\n  const [alertMsg,setAlertMsg] = useState(\"\");\n  const [alertColor,setAlertColor] = useState(\"\");\n  //dropdown states\n  const [stationNameData,setStationNameData] = useState([]);\n  const [ownerNameData,setOwnerNameData] = useState([]);\n  const [batteryData,setBatteryData] = useState([]);\n  //states\n  const [bin,setBin] = useState(\"\");\n  const [serialNumber,setSerialNumber] = useState(\"\");\n  const [bQrCode,setBQrCode] = useState(\"\");\n  const [hubId,setHubId] = useState(\"\");\n  const [ownBy,setOwnBy] = useState(\"\");\n  const [batteryMasterId,setBatteryMasterId] = useState(\"\");\n  const [imei,setImei] = useState(\"\");\n  const [soc,setSoc] = useState(\"\");\n  const [bv,setBv] = useState(\"\");\n  const [rec,setRec] = useState(\"\");\n  const [lat,setLat] = useState(\"\");\n  const [lon,setLon] = useState(\"\");\n  const [remark,setRemark] = useState(\"\");\n\n  const history = useHistory();\n  const location = useLocation();\n\n\n  useEffect(()=>{\n    GetStationNamesAPICall();\n    GetOwnerNamesAPICall();\n    GetBatteryDataAPICall();\n    getBatteryInventoryByIdAPICall();\n  },[])\n\n  //API calls\n  const GetStationNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getStationsAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setStationNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetOwnerNamesAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getOwnersAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setOwnerNameData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const GetBatteryDataAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.get(getBatteryDataAPI,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n      const responseData = response.data;\n      if (responseData.status === 1) {\n        setBatteryData(responseData.data)\n      }else{\n        console.log(responseData.msg);\n      }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  const getBatteryInventoryByIdAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.post(getBatteryInventoryByIdAPI,\n    {\n        battery_inventory_id:location.state.battery_inventory_id\n    },\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n        setBin(responseData.data.bin);\n        setSerialNumber(responseData.data.serial_number);\n        setBQrCode(responseData.data.b_qr_code);\n        setHubId(responseData.data.hub_id);\n        setOwnBy(responseData.data.own_by);\n        setBatteryMasterId(responseData.data.battery_master_id);\n        setImei(responseData.data.imei);\n        setSoc(responseData.data.soc);\n        setBv(responseData.data.bv);\n        setRec(responseData.data.rec);\n        setLat(responseData.data.lat);\n        setLon(responseData.data.lon);\n        setRemark(responseData.data.remark);\n        }else{\n        console.log(responseData.msg);\n        }\n    }).catch(error=>{\n        console.log(error);\n    })\n}\n  const updateBatteryInventoryAPICall = async(params) => {\n    setButtonDisabled(true);\n    const currentUser = getCurrentUser();\n    await axios.post(updateBatteryInventoryAPI,\n      params,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          history.push({\n            pathname:adminRoot+'/inventory/battery',\n            state:{\n              responseStatus:responseData.status,\n              responseMsg:responseData.msg\n            }\n          })\n        }else{\n          setButtonDisabled(false);\n          UpdateBatteryInventoryAlert(responseData.msg);\n        }\n      }).catch(error=>{\n        setButtonDisabled(false);\n        console.log(error);\n      })\n  }\n\n  //Form Validation Schema\n  const BatteryInventoryDetailsValidationSchema = yup.object().shape({\n    bin:yup.string()\n        .required(\"BIN is required\"),\n    serial_number:yup.string()\n        .required(\"Serial Number capacity is required\"),\n    b_qr_code:yup.string()\n        .matches(/^\\d+$/,\"Only numbers allowed\")\n        .required(\"Battery QR Code capacity is required\"),\n    own_by:yup.string()\n        .required(\"Owned By is required\"),\n    battery_master_id:yup.string()\n        .required(\"Battery is required\"),\n    imei:yup.string()\n        .required(\"IMEI is required\"),\n    // soc:yup.string()\n    //     .required(\"EV capacity is required\"),\n    // bv:yup.string()\n    //     .required(\"BV is required\"),\n    // rec:yup.string()\n    //     .required(\"Rec is required\"),\n    // lat:yup.string()\n    //     .required(\"Latitude is required\"),\n    // lon:yup.string()\n    //     .required(\"Longitude is required\"),\n  });\n\n  //helper\n  //Alert helper methods\n  const UpdateBatteryInventoryAlert = (msg)=>{\n    setAlertVisible(true);\n    setAlertMsg(msg);\n    setAlertColor(\"danger\");\n  }\n  const onDismissAlert = ()=>{\n    setAlertVisible(false);\n  }\n\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Update Battery Inventory</span>\n            <a href=\"battery\" className=\"mt-2 btn-primary default btn-sm float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> Battery Inventory List</b>\n            </a>\n          <Separator className=\"mb-5 mt-1\" />\n        </Colxx>\n      </Row>\n      <Formik\n        enableReinitialize={true}\n        initialValues={{\n            bin:bin,\n            serial_number:serialNumber,\n            b_qr_code:bQrCode,\n            hub_id:hubId,\n            own_by:ownBy,\n            battery_master_id:batteryMasterId,\n            imei:imei,\n            soc:soc,\n            bv:bv,\n            rec:rec,\n            lat:lat,\n            lon:lon,\n            remark:remark,\n        }}\n        validationSchema={BatteryInventoryDetailsValidationSchema} \n        onSubmit={(values)=>{\n            const params = {\n                battery_inventory_id:location.state.battery_inventory_id,\n                bin:values.bin,\n                serial_number:values.serial_number,\n                b_qr_code:values.b_qr_code,\n                hub_id:values.hub_id,\n                own_by:values.own_by,\n                battery_master_id:values.battery_master_id,\n                imei:values.imei,\n                soc:values.soc,\n                bv:values.bv,\n                rec:values.rec,\n                lat:values.lat,\n                lon:values.lon,\n                remark:values.remark,\n            }\n          updateBatteryInventoryAPICall(params);\n        }} >\n          {({handleChange,handleBlur,handleSubmit,values,touched,errors})=>(\n            <>\n              <Row>\n                <Colxx xxs=\"12\" className=\"mb-4\">\n                  <Card className=\"mb-4\">\n                      <CardBody>\n                        <CardSubtitle className=\"mb-3\">\n                          <Alert color={alertColor} isOpen={alertVisible} toggle={onDismissAlert}>\n                            {alertMsg}\n                          </Alert>\n                        </CardSubtitle> \n                          <Row>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                BIN\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"BIN\"\n                                  name=\"bin\"\n                                  value={values.bin}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.bin && touched.bin ? \"input-error\":null}\n                                />\n                                {errors.bin && touched.bin &&(\n                                  <span className=\"error\">{errors.bin}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Serial Number\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Serial Number\"\n                                  value={values.serial_number}\n                                  name=\"serial_number\"\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                  className={errors.serial_number && touched.serial_number ? \"input-error\":null}\n                                />\n                                {errors.serial_number && touched.serial_number &&(\n                                  <span className=\"error\">{errors.serial_number}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Station\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"hub_id\"\n                                  placeholder=\"Station\"\n                                  value={values.hub_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Station</option>\n                                  {stationNameData.map((item)=>\n                                    <option value={item.hub_master_id} key={item.hub_master_id}>{item.name}</option>\n                                  )}\n                                </Input>\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                Owned By\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"own_by\"\n                                  value={values.own_by}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Owned By</option>\n                                  {ownerNameData.map(item=>\n                                    <option value={item.owner_master_id} key={item.owner_master_id}>{item.name}</option>\n                                    )}\n                                </Input>\n                                {errors.own_by && touched.own_by &&(\n                                  <span className=\"error\">{errors.own_by}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Battery\n                                </Label>\n                                <Input\n                                  type=\"select\"\n                                  name=\"battery_master_id\"\n                                  value={values.battery_master_id}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                >\n                                  <option>Select Battery</option>\n                                  {batteryData.map(item=>\n                                    <option value={item.battery_master_id} key={item.battery_master_id}>{item.model_name+\"-\"+item.make_year+\"-\"+item.type_of_connector}</option>\n                                    )}\n                                </Input>\n                                {errors.battery_master_id && touched.battery_master_id &&(\n                                  <span className=\"error\">{errors.battery_master_id}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Battery QR Code\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"b_qr_code\"\n                                  placeholder=\"Battery QR Code\"\n                                  value={values.b_qr_code}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.b_qr_code && touched.b_qr_code &&(\n                                  <span className=\"error\">{errors.b_qr_code}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                BV\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"bv\"\n                                  placeholder=\"BV\"\n                                  value={values.bv}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.bv && touched.bv &&(\n                                  <span className=\"error\">{errors.bv}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={3}>\n                              <FormGroup>\n                                <Label>\n                                SOC\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"soc\"\n                                  placeholder=\"SOC\"\n                                  value={values.soc}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.soc && touched.soc &&(\n                                  <span className=\"error\">{errors.soc}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                IMEI\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"imei\"\n                                  placeholder=\"IMEI\"\n                                  value={values.imei}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.imei && touched.imei &&(\n                                  <span className=\"error\">{errors.imei}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Rec\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"rec\"\n                                  placeholder=\"Rec\"\n                                  value={values.rec}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.rec && touched.rec &&(\n                                  <span className=\"error\">{errors.rec}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Latitude\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"lat\"\n                                  placeholder=\"Latitude\"\n                                  value={values.lat}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.lat && touched.lat &&(\n                                  <span className=\"error\">{errors.lat}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                Longitude\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"lon\"\n                                  placeholder=\"Longitude\"\n                                  value={values.lon}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                                 {errors.lon && touched.lon &&(\n                                  <span className=\"error\">{errors.lon}</span>\n                                )}\n                              </FormGroup>\n                            </Colxx>\n                            <Colxx md={6}>\n                              <FormGroup>\n                                <Label>\n                                  Remark\n                                </Label>\n                                <Input\n                                  type=\"text\"\n                                  name=\"remark\"\n                                  placeholder=\"Remark\"\n                                  value={values.remark}\n                                  onChange={handleChange}\n                                  onBlur={handleBlur}\n                                />\n                              </FormGroup>\n                            </Colxx>\n                          </Row>\n                          <Row>\n                            <Colxx md=\"12\" className=\"text-center\">\n                              <Button color=\"primary\" className=\"default mr-2\" onClick={handleSubmit} disabled={buttonDisabled}>\n                                  <b>Update</b>\n                              </Button>\n                              <Button color=\"light\" className=\"default\" onClick={()=>{history.goBack()}}>\n                                  <b>Cancel</b>\n                              </Button>\n                            </Colxx>\n                          </Row>\n                      </CardBody>\n                      </Card>\n                </Colxx>\n              </Row>\n            </>\n          )}\n      </Formik>\n    </>\n  );\n};\n\nexport default UpdateBatteryInventory;\n"]},"metadata":{},"sourceType":"module"}