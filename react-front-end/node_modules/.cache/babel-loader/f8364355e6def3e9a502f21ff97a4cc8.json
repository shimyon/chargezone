{"ast":null,"code":"import _slicedToArray from\"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */ /* eslint-disable no-use-before-define */import React,{useState}from'react';import{injectIntl}from'react-intl';import{UncontrolledDropdown,DropdownItem,DropdownToggle,DropdownMenu,Input}from'reactstrap';import{NavLink,useHistory}from'react-router-dom';import{connect}from'react-redux';import{setContainerClassnames,clickOnMobileMenu,changeLocale}from'../../redux/actions';import{menuHiddenBreakpoint,searchPath,adminRoot}from'../../constants/defaultValues';import{MobileMenuIcon,MenuIcon}from'../../components/svg';import cz_logo from'../../assets/img/logo/charge_zonelogo1.png';import{getDirection,setDirection}from'../../helpers/Utils';import{UserLogout}from\"../../constants/defaultValues\";import{getCurrentUser}from'../../helpers/Utils';import axios from'axios';const currentUser=getCurrentUser();const TopNav=({intl,history,containerClassnames,menuClickCount,selectedMenuHasSubItems,locale,setContainerClassnamesAction,clickOnMobileMenuAction,changeLocaleAction})=>{const _useState=useState(false),_useState2=_slicedToArray(_useState,2),isInFullScreen=_useState2[0],setIsInFullScreen=_useState2[1];const _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchKeyword=_useState4[0],setSearchKeyword=_useState4[1];const search=()=>{history.push(\"\".concat(searchPath,\"?key=\").concat(searchKeyword));setSearchKeyword('');};const handleChangeLocale=(_locale,direction)=>{changeLocaleAction(_locale);const currentDirection=getDirection().direction;if(direction!==currentDirection){setDirection(direction);setTimeout(()=>{window.location.reload();},500);}};const isInFullScreenFn=()=>{return document.fullscreenElement&&document.fullscreenElement!==null||document.webkitFullscreenElement&&document.webkitFullscreenElement!==null||document.mozFullScreenElement&&document.mozFullScreenElement!==null||document.msFullscreenElement&&document.msFullscreenElement!==null;};const handleSearchIconClick=e=>{if(window.innerWidth<menuHiddenBreakpoint){let elem=e.target;if(!e.target.classList.contains('search')){if(e.target.parentElement.classList.contains('search')){elem=e.target.parentElement;}else if(e.target.parentElement.parentElement.classList.contains('search')){elem=e.target.parentElement.parentElement;}}if(elem.classList.contains('mobile-view')){search();elem.classList.remove('mobile-view');removeEventsSearch();}else{elem.classList.add('mobile-view');addEventsSearch();}}else{search();}e.stopPropagation();};const handleDocumentClickSearch=e=>{let isSearchClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains('navbar')||e.target.classList.contains('simple-icon-magnifier'))){isSearchClick=true;if(e.target.classList.contains('simple-icon-magnifier')){search();}}else if(e.target.parentElement&&e.target.parentElement.classList&&e.target.parentElement.classList.contains('search')){isSearchClick=true;}if(!isSearchClick){const input=document.querySelector('.mobile-view');if(input&&input.classList)input.classList.remove('mobile-view');removeEventsSearch();setSearchKeyword('');}};const removeEventsSearch=()=>{document.removeEventListener('click',handleDocumentClickSearch,true);};const addEventsSearch=()=>{document.addEventListener('click',handleDocumentClickSearch,true);};const handleSearchInputKeyPress=e=>{if(e.key==='Enter'){search();}};const toggleFullScreen=()=>{const isFS=isInFullScreenFn();const docElm=document.documentElement;if(!isFS){if(docElm.requestFullscreen){docElm.requestFullscreen();}else if(docElm.mozRequestFullScreen){docElm.mozRequestFullScreen();}else if(docElm.webkitRequestFullScreen){docElm.webkitRequestFullScreen();}else if(docElm.msRequestFullscreen){docElm.msRequestFullscreen();}}else if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}setIsInFullScreen(!isFS);};const handleLogout=()=>{axios.post(UserLogout,{},{headers:{'Authorization':\"Bearer \".concat(currentUser.token)}}).then(res=>{localStorage.removeItem('gogo_current_user');localStorage.setItem('chargezone_is_login',0);history.push(\"/user/login\");}).catch(error=>{localStorage.removeItem('gogo_current_user');localStorage.setItem('chargezone_is_login',0);history.push(\"/user/login\");});};const menuButtonClick=(e,_clickCount,_conClassnames)=>{e.preventDefault();setTimeout(()=>{const event=document.createEvent('HTMLEvents');event.initEvent('resize',false,false);window.dispatchEvent(event);},350);setContainerClassnamesAction(_clickCount+1,_conClassnames,selectedMenuHasSubItems);};const mobileMenuButtonClick=(e,_containerClassnames)=>{e.preventDefault();clickOnMobileMenuAction(_containerClassnames);};const messages=intl.messages;return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar fixed-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center navbar-left\"},/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button d-none d-md-block\",onClick:e=>menuButtonClick(e,menuClickCount,containerClassnames)},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button-mobile d-xs-block d-sm-block d-md-none\",onClick:e=>mobileMenuButtonClick(e,containerClassnames)},/*#__PURE__*/React.createElement(MobileMenuIcon,null))),/*#__PURE__*/React.createElement(NavLink,{className:\"navbar-logo\",to:adminRoot},/*#__PURE__*/React.createElement(\"img\",{src:cz_logo,alt:\"Chargezone_logo\",className:\"cz_logo_landing\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user d-inline-block\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"dropdown-menu-right\"},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"p-0\",color:\"empty\"},/*#__PURE__*/React.createElement(\"span\",{className:\"name mr-1\"},currentUser.user_detail.name),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{alt:\"Profile\",src:\"/assets/img/profiles/profimg.png\"}))),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"mt-3\",right:true},/*#__PURE__*/React.createElement(DropdownItem,{onClick:()=>handleLogout()},\"Sign out\"))))));};const mapStateToProps=({menu,settings})=>{const containerClassnames=menu.containerClassnames,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;const locale=settings.locale;return{containerClassnames,menuClickCount,selectedMenuHasSubItems,locale};};export default injectIntl(connect(mapStateToProps,{setContainerClassnamesAction:setContainerClassnames,clickOnMobileMenuAction:clickOnMobileMenu,changeLocaleAction:changeLocale})(TopNav));","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/containers/navs/Topnav.js"],"names":["React","useState","injectIntl","UncontrolledDropdown","DropdownItem","DropdownToggle","DropdownMenu","Input","NavLink","useHistory","connect","setContainerClassnames","clickOnMobileMenu","changeLocale","menuHiddenBreakpoint","searchPath","adminRoot","MobileMenuIcon","MenuIcon","cz_logo","getDirection","setDirection","UserLogout","getCurrentUser","axios","currentUser","TopNav","intl","history","containerClassnames","menuClickCount","selectedMenuHasSubItems","locale","setContainerClassnamesAction","clickOnMobileMenuAction","changeLocaleAction","isInFullScreen","setIsInFullScreen","searchKeyword","setSearchKeyword","search","push","handleChangeLocale","_locale","direction","currentDirection","setTimeout","window","location","reload","isInFullScreenFn","document","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","handleSearchIconClick","e","innerWidth","elem","target","classList","contains","parentElement","remove","removeEventsSearch","add","addEventsSearch","stopPropagation","handleDocumentClickSearch","isSearchClick","input","querySelector","removeEventListener","addEventListener","handleSearchInputKeyPress","key","toggleFullScreen","isFS","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handleLogout","post","headers","token","then","res","localStorage","removeItem","setItem","catch","error","menuButtonClick","_clickCount","_conClassnames","preventDefault","event","createEvent","initEvent","dispatchEvent","mobileMenuButtonClick","_containerClassnames","messages","user_detail","name","mapStateToProps","menu","settings"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-use-before-define */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\n\nimport {\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownToggle,\n  DropdownMenu,\n  Input,\n} from 'reactstrap';\n\nimport { NavLink,useHistory  } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport {\n  setContainerClassnames,\n  clickOnMobileMenu,\n  changeLocale,\n} from '../../redux/actions';\n\nimport {\n  menuHiddenBreakpoint,\n  searchPath,\n  adminRoot,\n} from '../../constants/defaultValues';\n\nimport { MobileMenuIcon, MenuIcon } from '../../components/svg';\nimport cz_logo from '../../assets/img/logo/charge_zonelogo1.png';\nimport { getDirection, setDirection } from '../../helpers/Utils';\nimport {UserLogout} from \"../../constants/defaultValues\";\nimport { getCurrentUser } from '../../helpers/Utils';\nimport axios from 'axios';\nconst currentUser =getCurrentUser();\nconst TopNav = ({\n  intl,\n  history,\n  containerClassnames,\n  menuClickCount,\n  selectedMenuHasSubItems,\n  locale,\n  setContainerClassnamesAction,\n  clickOnMobileMenuAction,\n  changeLocaleAction,\n}) => {\n  const [isInFullScreen, setIsInFullScreen] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n\n  const search = () => {\n    history.push(`${searchPath}?key=${searchKeyword}`);\n    setSearchKeyword('');\n  };\n\n  const handleChangeLocale = (_locale, direction) => {\n    changeLocaleAction(_locale);\n\n    const currentDirection = getDirection().direction;\n    if (direction !== currentDirection) {\n      setDirection(direction);\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    }\n  };\n\n  const isInFullScreenFn = () => {\n    return (\n      (document.fullscreenElement && document.fullscreenElement !== null) ||\n      (document.webkitFullscreenElement &&\n        document.webkitFullscreenElement !== null) ||\n      (document.mozFullScreenElement &&\n        document.mozFullScreenElement !== null) ||\n      (document.msFullscreenElement && document.msFullscreenElement !== null)\n    );\n  };\n\n  const handleSearchIconClick = (e) => {\n    if (window.innerWidth < menuHiddenBreakpoint) {\n      let elem = e.target;\n      if (!e.target.classList.contains('search')) {\n        if (e.target.parentElement.classList.contains('search')) {\n          elem = e.target.parentElement;\n        } else if (\n          e.target.parentElement.parentElement.classList.contains('search')\n        ) {\n          elem = e.target.parentElement.parentElement;\n        }\n      }\n\n      if (elem.classList.contains('mobile-view')) {\n        search();\n        elem.classList.remove('mobile-view');\n        removeEventsSearch();\n      } else {\n        elem.classList.add('mobile-view');\n        addEventsSearch();\n      }\n    } else {\n      search();\n    }\n    e.stopPropagation();\n  };\n  const handleDocumentClickSearch = (e) => {\n    let isSearchClick = false;\n    if (\n      e.target &&\n      e.target.classList &&\n      (e.target.classList.contains('navbar') ||\n        e.target.classList.contains('simple-icon-magnifier'))\n    ) {\n      isSearchClick = true;\n      if (e.target.classList.contains('simple-icon-magnifier')) {\n        search();\n      }\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.classList &&\n      e.target.parentElement.classList.contains('search')\n    ) {\n      isSearchClick = true;\n    }\n\n    if (!isSearchClick) {\n      const input = document.querySelector('.mobile-view');\n      if (input && input.classList) input.classList.remove('mobile-view');\n      removeEventsSearch();\n      setSearchKeyword('');\n    }\n  };\n\n  const removeEventsSearch = () => {\n    document.removeEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const addEventsSearch = () => {\n    document.addEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const handleSearchInputKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      search();\n    }\n  };\n\n  const toggleFullScreen = () => {\n    const isFS = isInFullScreenFn();\n\n    const docElm = document.documentElement;\n    if (!isFS) {\n      if (docElm.requestFullscreen) {\n        docElm.requestFullscreen();\n      } else if (docElm.mozRequestFullScreen) {\n        docElm.mozRequestFullScreen();\n      } else if (docElm.webkitRequestFullScreen) {\n        docElm.webkitRequestFullScreen();\n      } else if (docElm.msRequestFullscreen) {\n        docElm.msRequestFullscreen();\n      }\n    } else if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    }\n    setIsInFullScreen(!isFS);\n  };\n\n  const handleLogout = () => {\n    \n    axios.post(UserLogout,  {},{ headers: {\n        'Authorization': `Bearer ${currentUser.token}`\n    }} ).then((res) => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n      history.push(\"/user/login\");\n\n    }).catch(error => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n       history.push(\"/user/login\");\n    });\n  };\n\n  const menuButtonClick = (e, _clickCount, _conClassnames) => {\n    e.preventDefault();\n\n    setTimeout(() => {\n      const event = document.createEvent('HTMLEvents');\n      event.initEvent('resize', false, false);\n      window.dispatchEvent(event);\n    }, 350);\n    setContainerClassnamesAction(\n      _clickCount + 1,\n      _conClassnames,\n      selectedMenuHasSubItems\n    );\n  };\n\n  const mobileMenuButtonClick = (e, _containerClassnames) => {\n    e.preventDefault();\n    clickOnMobileMenuAction(_containerClassnames);\n  };\n\n  const { messages } = intl;\n  return (\n    <nav className=\"navbar fixed-top\">\n      <div className=\"d-flex align-items-center navbar-left\">\n        <NavLink\n          to=\"#\"\n          location={{}}\n          className=\"menu-button d-none d-md-block\"\n          onClick={(e) =>\n            menuButtonClick(e, menuClickCount, containerClassnames)\n          }\n        >\n          <MenuIcon />\n        </NavLink>\n        <NavLink\n          to=\"#\"\n          location={{}}\n          className=\"menu-button-mobile d-xs-block d-sm-block d-md-none\"\n          onClick={(e) => mobileMenuButtonClick(e, containerClassnames)}\n        >\n          <MobileMenuIcon />\n        </NavLink>\n      </div>\n      <NavLink className=\"navbar-logo\" to={adminRoot}>\n        {/* <span className=\"logo d-none d-xs-block\" /> */}\n        <img src={cz_logo} alt=\"Chargezone_logo\" className=\"cz_logo_landing\" />\n        {/* <span className=\"logo-mobile d-block d-xs-none\" /> */}\n      </NavLink>\n\n      <div className=\"navbar-right\">\n        <div className=\"user d-inline-block\">\n          <UncontrolledDropdown className=\"dropdown-menu-right\">\n            <DropdownToggle className=\"p-0\" color=\"empty\">\n              <span className=\"name mr-1\">{currentUser.user_detail.name}</span>\n              <span>\n                <img alt=\"Profile\" src=\"/assets/img/profiles/profimg.png\" />\n              </span>\n            </DropdownToggle>\n            <DropdownMenu className=\"mt-3\" right>\n              <DropdownItem onClick={() => handleLogout()}>\n                Sign out\n              </DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nconst mapStateToProps = ({ menu, settings }) => {\n  const { containerClassnames, menuClickCount, selectedMenuHasSubItems } = menu;\n  const { locale } = settings;\n  return {\n    containerClassnames,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    locale,\n  };\n};\nexport default injectIntl(\n  connect(mapStateToProps, {\n    setContainerClassnamesAction: setContainerClassnames,\n    clickOnMobileMenuAction: clickOnMobileMenu,\n    changeLocaleAction: changeLocale,\n  })(TopNav)\n);\n"]},"metadata":{},"sourceType":"module"}