{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\src\\\\views\\\\app\\\\mapping\\\\AddEvmapping.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Row, FormGroup, Card, CardBody, Label, Input, Button } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport { getCurrentUser } from '../../../helpers/Utils';\nimport { adminRoot, getStationsAPI, getEvInventoryByIdAPI, mapEvAPI } from '../../../constants/defaultValues';\nimport axios from 'axios';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst AddEvmapping = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        evData = _useState2[0],\n        setEvData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        stationNameData = _useState4[0],\n        setStationNameData = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        remark1 = _useState6[0],\n        setRemark1 = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        remark2 = _useState8[0],\n        setRemark2 = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        selectedHub = _useState10[0],\n        setSelectedHub = _useState10[1];\n\n  const location = useLocation();\n  const history = useHistory();\n  let evInventoryId = 0;\n\n  if (location.state !== null && location.state !== undefined && location.state.ev_inventory_id !== null && location.state.ev_inventory_id !== undefined) {\n    evInventoryId = location.state.ev_inventory_id;\n  } else {\n    history.goBack();\n  }\n\n  useEffect(() => {\n    getEvInventoryByIdAPICall();\n  }, []); //API CALLS\n\n  const getEvInventoryByIdAPICall = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            currentUser = getCurrentUser();\n            _context.next = 3;\n            return axios.post(getEvInventoryByIdAPI, {\n              ev_inventory_id: evInventoryId\n            }, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setEvData(responseData.data);\n                setSelectedHub(responseData.data.hub_id);\n                setRemark1(responseData.data.remark_1);\n                setRemark2(responseData.data.remark_2);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 3:\n            _context.next = 5;\n            return axios.get(getStationsAPI, {\n              headers: {\n                Authorization: \"Bearer \".concat(currentUser.token)\n              }\n            }).then(response => {\n              const responseData = response.data;\n\n              if (responseData.status === 1) {\n                setStationNameData(responseData.data);\n              } else {\n                console.log(responseData.msg);\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function getEvInventoryByIdAPICall() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //\n\n\n  const submitEvData = () => {\n    const currentUser = getCurrentUser();\n    const postdata = {\n      ev_inventory_id: evInventoryId,\n      hub_id: selectedHub,\n      remark_1: remark1,\n      remark_2: remark2\n    };\n    axios.post(mapEvAPI, postdata, {\n      headers: {\n        Authorization: \"Bearer \".concat(currentUser.token)\n      }\n    }).then(response => {\n      const responseData = response.data;\n\n      if (responseData.status === 1) {\n        history.push({\n          pathname: adminRoot + '/mapping/evmapping',\n          state: {\n            responseStatus: responseData.status,\n            responseMsg: responseData.msg\n          }\n        });\n      } else {\n        alert(responseData.msg);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"page_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Add EV Mapping\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"evmapping\",\n    className: \"mt-2 btn-primary default btn-sm tbl_action_btn float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyph-icon simple-icon-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 20\n    }\n  }), \" EV Mapping List\")), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"EV details\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, \"Vehicle Vin : \"), evData.vehicle_vin), /*#__PURE__*/React.createElement(Colxx, {\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, \"QR Code : \"), evData.e_qr_code)), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Swapping Station\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"hub_id\",\n    placeholder: \"Station\",\n    value: selectedHub,\n    onChange: e => {\n      setSelectedHub(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, \"Select Station\"), stationNameData.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    value: item.hub_master_id,\n    key: item.hub_master_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 31\n    }\n  }, item.name))))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Remark1\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Remark1\",\n    value: remark1,\n    onChange: e => {\n      setRemark1(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Colxx, {\n    md: 4,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"Remark2\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Remark2\",\n    value: remark2,\n    onChange: e => {\n      setRemark2(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    sm: \"12\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"default mr-2\",\n    onClick: submitEvData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 27\n    }\n  }, \"Add\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"light\",\n    className: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 27\n    }\n  }, \"Cancel\")))))))));\n};\n\nexport default AddEvmapping;","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/views/app/mapping/AddEvmapping.js"],"names":["React","useEffect","useState","Row","FormGroup","Card","CardBody","Label","Input","Button","Colxx","Separator","getCurrentUser","adminRoot","getStationsAPI","getEvInventoryByIdAPI","mapEvAPI","axios","useHistory","useLocation","AddEvmapping","evData","setEvData","stationNameData","setStationNameData","remark1","setRemark1","remark2","setRemark2","selectedHub","setSelectedHub","location","history","evInventoryId","state","undefined","ev_inventory_id","goBack","getEvInventoryByIdAPICall","currentUser","post","headers","Authorization","token","then","response","responseData","data","status","hub_id","remark_1","remark_2","console","log","msg","catch","error","get","submitEvData","postdata","push","pathname","responseStatus","responseMsg","alert","vehicle_vin","e_qr_code","e","target","value","map","item","hub_master_id","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { \n  Row,FormGroup, Card, CardBody,\n  Label,Input, Button\n } from 'reactstrap';\nimport { Colxx, Separator } from '../../../components/common/CustomBootstrap';\nimport {getCurrentUser} from '../../../helpers/Utils';\nimport {adminRoot,getStationsAPI,getEvInventoryByIdAPI,mapEvAPI} from '../../../constants/defaultValues';\nimport axios from 'axios';\nimport { useHistory,useLocation } from \"react-router-dom\";\n\nconst AddEvmapping = () => {\n  const [evData,setEvData] = useState([]);\n  const [stationNameData,setStationNameData] = useState([]);\n  const [remark1,setRemark1] = useState(\"\");\n  const [remark2,setRemark2] = useState(\"\");\n  const [selectedHub, setSelectedHub] = useState([]);\n\n  const location = useLocation();\n  const history = useHistory();\n  \n  let evInventoryId = 0;\n  if (location.state !== null && location.state !== undefined && location.state.ev_inventory_id !== null && location.state.ev_inventory_id !== undefined) {\n      evInventoryId = location.state.ev_inventory_id;\n  }else{\n      history.goBack();\n  }\n  useEffect(()=>{\n    getEvInventoryByIdAPICall();\n  },[]);\n\n  //API CALLS\n  const getEvInventoryByIdAPICall = async() => {\n    const currentUser = getCurrentUser();\n    await axios.post(getEvInventoryByIdAPI,{ev_inventory_id:evInventoryId},\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setEvData(responseData.data);\n          setSelectedHub(responseData.data.hub_id);\n          setRemark1(responseData.data.remark_1);\n          setRemark2(responseData.data.remark_2)\n        }else{\n          console.log(responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      });   \n    await axios.get(getStationsAPI,\n      {headers:{Authorization: `Bearer ${currentUser.token}`}})\n      .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          setStationNameData(responseData.data)\n        }else{\n          console.log(responseData.msg);\n        }\n      }).catch(error=>{\n        console.log(error);\n      })   \n  }\n  //\n  const submitEvData = () => {\n    const currentUser = getCurrentUser();\n    const postdata = {ev_inventory_id:evInventoryId,hub_id:selectedHub,remark_1:remark1,remark_2:remark2};\n    axios.post(mapEvAPI,postdata,\n    {headers:{Authorization: `Bearer ${currentUser.token}`}})\n    .then(response=>{\n        const responseData = response.data;\n        if (responseData.status === 1) {\n          history.push({\n            pathname:adminRoot+'/mapping/evmapping',\n            state:{\n              responseStatus:responseData.status,\n              responseMsg:responseData.msg\n            }\n          })\n        }else{\n          alert(responseData.msg);\n        }\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n  return (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n            <span className=\"page_title\">Add EV Mapping</span>\n            <a href=\"evmapping\" className=\"mt-2 btn-primary default btn-sm tbl_action_btn float-right\">\n                <b><i className=\"glyph-icon simple-icon-list\"></i> EV Mapping List</b>\n            </a>\n          <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <Row>\n        <Colxx xxs=\"12\" className=\"mb-4\">\n          <Card className=\"mb-4\">\n              <CardBody> \n                  <Row>\n                    <Colxx sm={12}>\n                      <FormGroup>\n                        <h5>\n                        EV details\n                        </h5>\n                        <Row>\n                          <Colxx sm={4}>\n                            <b>Vehicle Vin : </b>{evData.vehicle_vin}\n                          </Colxx>\n                          <Colxx sm={4}>\n                            <b>QR Code : </b>{evData.e_qr_code}\n                          </Colxx>\n                        </Row>  \n                        <Separator className=\"mb-3\" />                      \n                      </FormGroup>\n                    </Colxx>\n                    <Colxx md={4} sm={12}>\n                      <FormGroup>\n                        <Label>\n                        Swapping Station\n                        </Label>\n                        <Input type=\"select\" name=\"hub_id\" placeholder=\"Station\"\n                            value={selectedHub} onChange={(e)=>{setSelectedHub(e.target.value)}}>\n                            <option value=\"0\">Select Station</option>\n                            {stationNameData.map((item)=>\n                              <option value={item.hub_master_id} key={item.hub_master_id}>{item.name}</option>\n                            )}\n                          </Input>\n                      </FormGroup>\n                    </Colxx>\n                    <Colxx md={4} sm={12}>\n                      <FormGroup>\n                        <Label>\n                        Remark1\n                        </Label>\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Remark1\"\n                          value={remark1}\n                          onChange={(e)=>{setRemark1(e.target.value)}}\n                        />\n                      </FormGroup>\n                    </Colxx>\n                    <Colxx md={4} sm={12}>\n                      <FormGroup>\n                        <Label>\n                          Remark2\n                        </Label>\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Remark2\"\n                          value={remark2}\n                          onChange={(e)=>{setRemark2(e.target.value)}}\n                        />\n                      </FormGroup>\n                    </Colxx>\n                  </Row>\n                  <Row>\n                    <Colxx sm=\"12\" className=\"text-center\">\n                      <Button color=\"primary\" className=\"default mr-2\" onClick={submitEvData}>\n                          <b>Add</b>\n                      </Button>\n                      <Button color=\"light\" className=\"default\">\n                          <b>Cancel</b>\n                      </Button>\n                    </Colxx>\n                  </Row>\n              </CardBody>\n              </Card>\n        </Colxx>\n      </Row>\n    </>\n  );\n};\n\nexport default AddEvmapping;\n"]},"metadata":{},"sourceType":"module"}