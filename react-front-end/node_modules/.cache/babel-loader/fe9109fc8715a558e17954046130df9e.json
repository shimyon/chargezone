{"ast":null,"code":"import _slicedToArray from \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Shimyon\\\\Emoiss\\\\RiteshBhai\\\\cdzb\\\\chargezone-frontend-development\\\\src\\\\containers\\\\navs\\\\Topnav.js\";\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable no-use-before-define */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { UncontrolledDropdown, DropdownItem, DropdownToggle, DropdownMenu, Input } from 'reactstrap';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setContainerClassnames, clickOnMobileMenu, changeLocale } from '../../redux/actions';\nimport { menuHiddenBreakpoint, searchPath, adminRoot } from '../../constants/defaultValues';\nimport { MobileMenuIcon, MenuIcon } from '../../components/svg';\nimport cz_logo from '../../assets/img/logo/charge_zonelogo1.png';\nimport { getDirection, setDirection } from '../../helpers/Utils';\nimport { UserLogout } from \"../../constants/defaultValues\";\nimport { getCurrentUser } from '../../helpers/Utils';\nimport axios from 'axios';\nconst currentUser = getCurrentUser();\n\nconst TopNav = ({\n  intl,\n  history,\n  containerClassnames,\n  menuClickCount,\n  selectedMenuHasSubItems,\n  locale,\n  setContainerClassnamesAction,\n  clickOnMobileMenuAction,\n  changeLocaleAction\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isInFullScreen = _useState2[0],\n        setIsInFullScreen = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        searchKeyword = _useState4[0],\n        setSearchKeyword = _useState4[1];\n\n  const search = () => {\n    history.push(\"\".concat(searchPath, \"?key=\").concat(searchKeyword));\n    setSearchKeyword('');\n  };\n\n  const handleChangeLocale = (_locale, direction) => {\n    changeLocaleAction(_locale);\n    const currentDirection = getDirection().direction;\n\n    if (direction !== currentDirection) {\n      setDirection(direction);\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    }\n  };\n\n  const isInFullScreenFn = () => {\n    return document.fullscreenElement && document.fullscreenElement !== null || document.webkitFullscreenElement && document.webkitFullscreenElement !== null || document.mozFullScreenElement && document.mozFullScreenElement !== null || document.msFullscreenElement && document.msFullscreenElement !== null;\n  };\n\n  const handleSearchIconClick = e => {\n    if (window.innerWidth < menuHiddenBreakpoint) {\n      let elem = e.target;\n\n      if (!e.target.classList.contains('search')) {\n        if (e.target.parentElement.classList.contains('search')) {\n          elem = e.target.parentElement;\n        } else if (e.target.parentElement.parentElement.classList.contains('search')) {\n          elem = e.target.parentElement.parentElement;\n        }\n      }\n\n      if (elem.classList.contains('mobile-view')) {\n        search();\n        elem.classList.remove('mobile-view');\n        removeEventsSearch();\n      } else {\n        elem.classList.add('mobile-view');\n        addEventsSearch();\n      }\n    } else {\n      search();\n    }\n\n    e.stopPropagation();\n  };\n\n  const handleDocumentClickSearch = e => {\n    let isSearchClick = false;\n\n    if (e.target && e.target.classList && (e.target.classList.contains('navbar') || e.target.classList.contains('simple-icon-magnifier'))) {\n      isSearchClick = true;\n\n      if (e.target.classList.contains('simple-icon-magnifier')) {\n        search();\n      }\n    } else if (e.target.parentElement && e.target.parentElement.classList && e.target.parentElement.classList.contains('search')) {\n      isSearchClick = true;\n    }\n\n    if (!isSearchClick) {\n      const input = document.querySelector('.mobile-view');\n      if (input && input.classList) input.classList.remove('mobile-view');\n      removeEventsSearch();\n      setSearchKeyword('');\n    }\n  };\n\n  const removeEventsSearch = () => {\n    document.removeEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const addEventsSearch = () => {\n    document.addEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const handleSearchInputKeyPress = e => {\n    if (e.key === 'Enter') {\n      search();\n    }\n  };\n\n  const toggleFullScreen = () => {\n    const isFS = isInFullScreenFn();\n    const docElm = document.documentElement;\n\n    if (!isFS) {\n      if (docElm.requestFullscreen) {\n        docElm.requestFullscreen();\n      } else if (docElm.mozRequestFullScreen) {\n        docElm.mozRequestFullScreen();\n      } else if (docElm.webkitRequestFullScreen) {\n        docElm.webkitRequestFullScreen();\n      } else if (docElm.msRequestFullscreen) {\n        docElm.msRequestFullscreen();\n      }\n    } else if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    }\n\n    setIsInFullScreen(!isFS);\n  };\n\n  const handleLogout = () => {\n    axios.post(UserLogout, {}, {\n      headers: {\n        'Authorization': \"Bearer \".concat(currentUser.token)\n      }\n    }).then(res => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n      history.push(\"/user/login\");\n    }).catch(error => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n      history.push(\"/user/login\");\n    });\n  };\n\n  const menuButtonClick = (e, _clickCount, _conClassnames) => {\n    e.preventDefault();\n    setTimeout(() => {\n      const event = document.createEvent('HTMLEvents');\n      event.initEvent('resize', false, false);\n      window.dispatchEvent(event);\n    }, 350);\n    setContainerClassnamesAction(_clickCount + 1, _conClassnames, selectedMenuHasSubItems);\n  };\n\n  const mobileMenuButtonClick = (e, _containerClassnames) => {\n    e.preventDefault();\n    clickOnMobileMenuAction(_containerClassnames);\n  };\n\n  const messages = intl.messages;\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar fixed-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center navbar-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"#\",\n    location: {},\n    className: \"menu-button d-none d-md-block\",\n    onClick: e => menuButtonClick(e, menuClickCount, containerClassnames),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"#\",\n    location: {},\n    className: \"menu-button-mobile d-xs-block d-sm-block d-md-none\",\n    onClick: e => mobileMenuButtonClick(e, containerClassnames),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MobileMenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(NavLink, {\n    className: \"navbar-logo\",\n    to: adminRoot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: cz_logo,\n    alt: \"Chargezone_logo\",\n    className: \"cz_logo_landing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"dropdown-menu-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    className: \"p-0\",\n    color: \"empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"name mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  }, currentUser.user_detail.name), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"Profile\",\n    src: \"/assets/img/profiles/profimg.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"mt-3\",\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: () => handleLogout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }, \"Sign out\"))))));\n};\n\nconst mapStateToProps = ({\n  menu,\n  settings\n}) => {\n  const containerClassnames = menu.containerClassnames,\n        menuClickCount = menu.menuClickCount,\n        selectedMenuHasSubItems = menu.selectedMenuHasSubItems;\n  const locale = settings.locale;\n  return {\n    containerClassnames,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    locale\n  };\n};\n\nexport default injectIntl(connect(mapStateToProps, {\n  setContainerClassnamesAction: setContainerClassnames,\n  clickOnMobileMenuAction: clickOnMobileMenu,\n  changeLocaleAction: changeLocale\n})(TopNav));","map":{"version":3,"sources":["D:/Shimyon/Emoiss/RiteshBhai/cdzb/chargezone-frontend-development/src/containers/navs/Topnav.js"],"names":["React","useState","injectIntl","UncontrolledDropdown","DropdownItem","DropdownToggle","DropdownMenu","Input","NavLink","useHistory","connect","setContainerClassnames","clickOnMobileMenu","changeLocale","menuHiddenBreakpoint","searchPath","adminRoot","MobileMenuIcon","MenuIcon","cz_logo","getDirection","setDirection","UserLogout","getCurrentUser","axios","currentUser","TopNav","intl","history","containerClassnames","menuClickCount","selectedMenuHasSubItems","locale","setContainerClassnamesAction","clickOnMobileMenuAction","changeLocaleAction","isInFullScreen","setIsInFullScreen","searchKeyword","setSearchKeyword","search","push","handleChangeLocale","_locale","direction","currentDirection","setTimeout","window","location","reload","isInFullScreenFn","document","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","handleSearchIconClick","e","innerWidth","elem","target","classList","contains","parentElement","remove","removeEventsSearch","add","addEventsSearch","stopPropagation","handleDocumentClickSearch","isSearchClick","input","querySelector","removeEventListener","addEventListener","handleSearchInputKeyPress","key","toggleFullScreen","isFS","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handleLogout","post","headers","token","then","res","localStorage","removeItem","setItem","catch","error","menuButtonClick","_clickCount","_conClassnames","preventDefault","event","createEvent","initEvent","dispatchEvent","mobileMenuButtonClick","_containerClassnames","messages","user_detail","name","mapStateToProps","menu","settings"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-use-before-define */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\n\nimport {\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownToggle,\n  DropdownMenu,\n  Input,\n} from 'reactstrap';\n\nimport { NavLink,useHistory  } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport {\n  setContainerClassnames,\n  clickOnMobileMenu,\n  changeLocale,\n} from '../../redux/actions';\n\nimport {\n  menuHiddenBreakpoint,\n  searchPath,\n  adminRoot,\n} from '../../constants/defaultValues';\n\nimport { MobileMenuIcon, MenuIcon } from '../../components/svg';\nimport cz_logo from '../../assets/img/logo/charge_zonelogo1.png';\nimport { getDirection, setDirection } from '../../helpers/Utils';\nimport {UserLogout} from \"../../constants/defaultValues\";\nimport { getCurrentUser } from '../../helpers/Utils';\nimport axios from 'axios';\nconst currentUser =getCurrentUser();\nconst TopNav = ({\n  intl,\n  history,\n  containerClassnames,\n  menuClickCount,\n  selectedMenuHasSubItems,\n  locale,\n  setContainerClassnamesAction,\n  clickOnMobileMenuAction,\n  changeLocaleAction,\n}) => {\n  const [isInFullScreen, setIsInFullScreen] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n\n  const search = () => {\n    history.push(`${searchPath}?key=${searchKeyword}`);\n    setSearchKeyword('');\n  };\n\n  const handleChangeLocale = (_locale, direction) => {\n    changeLocaleAction(_locale);\n\n    const currentDirection = getDirection().direction;\n    if (direction !== currentDirection) {\n      setDirection(direction);\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    }\n  };\n\n  const isInFullScreenFn = () => {\n    return (\n      (document.fullscreenElement && document.fullscreenElement !== null) ||\n      (document.webkitFullscreenElement &&\n        document.webkitFullscreenElement !== null) ||\n      (document.mozFullScreenElement &&\n        document.mozFullScreenElement !== null) ||\n      (document.msFullscreenElement && document.msFullscreenElement !== null)\n    );\n  };\n\n  const handleSearchIconClick = (e) => {\n    if (window.innerWidth < menuHiddenBreakpoint) {\n      let elem = e.target;\n      if (!e.target.classList.contains('search')) {\n        if (e.target.parentElement.classList.contains('search')) {\n          elem = e.target.parentElement;\n        } else if (\n          e.target.parentElement.parentElement.classList.contains('search')\n        ) {\n          elem = e.target.parentElement.parentElement;\n        }\n      }\n\n      if (elem.classList.contains('mobile-view')) {\n        search();\n        elem.classList.remove('mobile-view');\n        removeEventsSearch();\n      } else {\n        elem.classList.add('mobile-view');\n        addEventsSearch();\n      }\n    } else {\n      search();\n    }\n    e.stopPropagation();\n  };\n  const handleDocumentClickSearch = (e) => {\n    let isSearchClick = false;\n    if (\n      e.target &&\n      e.target.classList &&\n      (e.target.classList.contains('navbar') ||\n        e.target.classList.contains('simple-icon-magnifier'))\n    ) {\n      isSearchClick = true;\n      if (e.target.classList.contains('simple-icon-magnifier')) {\n        search();\n      }\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.classList &&\n      e.target.parentElement.classList.contains('search')\n    ) {\n      isSearchClick = true;\n    }\n\n    if (!isSearchClick) {\n      const input = document.querySelector('.mobile-view');\n      if (input && input.classList) input.classList.remove('mobile-view');\n      removeEventsSearch();\n      setSearchKeyword('');\n    }\n  };\n\n  const removeEventsSearch = () => {\n    document.removeEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const addEventsSearch = () => {\n    document.addEventListener('click', handleDocumentClickSearch, true);\n  };\n\n  const handleSearchInputKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      search();\n    }\n  };\n\n  const toggleFullScreen = () => {\n    const isFS = isInFullScreenFn();\n\n    const docElm = document.documentElement;\n    if (!isFS) {\n      if (docElm.requestFullscreen) {\n        docElm.requestFullscreen();\n      } else if (docElm.mozRequestFullScreen) {\n        docElm.mozRequestFullScreen();\n      } else if (docElm.webkitRequestFullScreen) {\n        docElm.webkitRequestFullScreen();\n      } else if (docElm.msRequestFullscreen) {\n        docElm.msRequestFullscreen();\n      }\n    } else if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    }\n    setIsInFullScreen(!isFS);\n  };\n\n  const handleLogout = () => {\n    \n    axios.post(UserLogout,  {},{ headers: {\n        'Authorization': `Bearer ${currentUser.token}`\n    }} ).then((res) => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n      history.push(\"/user/login\");\n\n    }).catch(error => {\n      localStorage.removeItem('gogo_current_user');\n      localStorage.setItem('chargezone_is_login', 0);\n       history.push(\"/user/login\");\n    });\n  };\n\n  const menuButtonClick = (e, _clickCount, _conClassnames) => {\n    e.preventDefault();\n\n    setTimeout(() => {\n      const event = document.createEvent('HTMLEvents');\n      event.initEvent('resize', false, false);\n      window.dispatchEvent(event);\n    }, 350);\n    setContainerClassnamesAction(\n      _clickCount + 1,\n      _conClassnames,\n      selectedMenuHasSubItems\n    );\n  };\n\n  const mobileMenuButtonClick = (e, _containerClassnames) => {\n    e.preventDefault();\n    clickOnMobileMenuAction(_containerClassnames);\n  };\n\n  const { messages } = intl;\n  return (\n    <nav className=\"navbar fixed-top\">\n      <div className=\"d-flex align-items-center navbar-left\">\n        <NavLink\n          to=\"#\"\n          location={{}}\n          className=\"menu-button d-none d-md-block\"\n          onClick={(e) =>\n            menuButtonClick(e, menuClickCount, containerClassnames)\n          }\n        >\n          <MenuIcon />\n        </NavLink>\n        <NavLink\n          to=\"#\"\n          location={{}}\n          className=\"menu-button-mobile d-xs-block d-sm-block d-md-none\"\n          onClick={(e) => mobileMenuButtonClick(e, containerClassnames)}\n        >\n          <MobileMenuIcon />\n        </NavLink>\n      </div>\n      <NavLink className=\"navbar-logo\" to={adminRoot}>\n        {/* <span className=\"logo d-none d-xs-block\" /> */}\n        <img src={cz_logo} alt=\"Chargezone_logo\" className=\"cz_logo_landing\" />\n        {/* <span className=\"logo-mobile d-block d-xs-none\" /> */}\n      </NavLink>\n\n      <div className=\"navbar-right\">\n        <div className=\"user d-inline-block\">\n          <UncontrolledDropdown className=\"dropdown-menu-right\">\n            <DropdownToggle className=\"p-0\" color=\"empty\">\n              <span className=\"name mr-1\">{currentUser.user_detail.name}</span>\n              <span>\n                <img alt=\"Profile\" src=\"/assets/img/profiles/profimg.png\" />\n              </span>\n            </DropdownToggle>\n            <DropdownMenu className=\"mt-3\" right>\n              <DropdownItem onClick={() => handleLogout()}>\n                Sign out\n              </DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nconst mapStateToProps = ({ menu, settings }) => {\n  const { containerClassnames, menuClickCount, selectedMenuHasSubItems } = menu;\n  const { locale } = settings;\n  return {\n    containerClassnames,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    locale,\n  };\n};\nexport default injectIntl(\n  connect(mapStateToProps, {\n    setContainerClassnamesAction: setContainerClassnames,\n    clickOnMobileMenuAction: clickOnMobileMenu,\n    changeLocaleAction: changeLocale,\n  })(TopNav)\n);\n"]},"metadata":{},"sourceType":"module"}